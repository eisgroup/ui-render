{"version":3,"sources":["../../ui-modules-pack/src/variables/index.js","../../ui-react-pack/src/files.js","../../ui-react-pack/src/Table.js","../../ui-react-pack/src/Button.js","../../core/src/pages/main/rules.js","../../ui-utils-pack/src/constants.js","../../ui-utils-pack/src/object.js","../../ui-utils-pack/src/_envs.js","../../ui-modules-pack/src/variables/definitions.js","../../ui-react-pack/src/styles.js","../../ui-utils-pack/src/selectors.js","../../ui-utils-pack/src/string.js","../../ui-react-pack/src/inputs/translations.js","../../ui-react-pack/src/inputs/validationRules.js","../../ui-react-pack/src/ScrollView.js","../../ui-utils-pack/src/array.js","../../ui-utils-pack/src/number.js","../../core/src/pages/main/utils.js","../../ui-modules-pack/src/upload/constants.js","../../core/src/common/variables/routes.js","../../core/src/common/variables/index.js","../../ui-modules-pack/src/router/selectors.js","../../ui-modules-pack/src/router/constants.js","../../ui-modules-pack/src/user/definitions.js","../../ui-modules-pack/src/user/logic.js","../../ui-modules-pack/src/user/translations.js","../../ui-modules-pack/src/user/constants.js","../../ui-modules-pack/src/user/selectors.js","../../ui-modules-pack/src/settings/constants.js","../../ui-modules-pack/src/settings/selectors.js","../../ui-react-pack/src/Modal.js","../../ui-modules-pack/src/router/browser/components.js","../../ui-modules-pack/src/router/browser/constants.js","../../ui-modules-pack/src/router/browser/history.js","../../ui-modules-pack/src/router/browser/index.js","../../ui-modules-pack/src/settings/data.js","../../ui-modules-pack/src/settings/reducers.js","../../ui-modules-pack/src/api/utils/helpers.js","../../ui-modules-pack/src/variables/data.js","../../ui-modules-pack/src/settings/sagas.js","../../ui-modules-pack/src/settings/index.js","../../ui-react-pack/src/MenuButton.js","../../ui-react-pack/src/Badge.js","../../ui-react-pack/src/AlertCounter.js","../../core/src/containers/NavLinks.js","../../core/src/containers/Navigation.js","../../core/src/App.js","../../core/src/pages/main/highlight.js","../../core/src/pages/main/CodeBlock.js","../../ui-modules-pack/src/settings/views/LanguageSelection.js","../../ui-modules-pack/src/settings/actions.js","../services/axios.js","../api/gdn-rating-alg.js","../../core/src/pages/main/demo.js","../../ui-react-pack/src/LinkOut.js","../../core/src/pages/main/examples/button-download_meta.js","../../core/src/pages/main/examples/data_component.js","../../core/src/pages/main/examples/expand-list_meta.js","../../core/src/pages/main/examples/list_meta.js","../../core/src/pages/main/examples/table-nested_meta.js","../../core/src/pages/main/examples/popup_meta.js","../../core/src/pages/main/examples/tab-list_meta.js","../../core/src/pages/main/examples/table_matrix.js","../../core/src/pages/main/examples/tabs_meta.js","../../core/src/pages/main/examples/upload_meta.js","../../core/src/pages/main/Examples.js","../../core/src/pages/main/examples/button-icon_meta.js","../../core/src/pages/main/examples/summary-box.js","../../core/src/pages/main/examples/input_toggle.js","../../core/src/pages/main/examples/rating_details.js","../../core/src/pages/main/examples/_meta.js","../../core/src/pages/main/docs.js","../../core/src/pages/main/Tester.js","../../core/src/pages/index.js","../../ui-modules-pack/src/upload/data.js","../../ui-modules-pack/src/upload/reducers.js","../../ui-modules-pack/src/upload/index.js","../../ui-modules-pack/src/user/data.js","../../ui-modules-pack/src/user/reducers.js","../../ui-modules-pack/src/user/index.js","store.js","main.js","serviceWorker.js","../../ui-modules-pack/src/form/views/AutoSave.js","../../ui-utils-pack/src/time.js","../../ui-react-pack/src/charts/utils.js","../../ui-utils-pack/src/color.js","../../ui-react-pack/src/charts/PieChart.js","../../ui-react-pack/src/Label.js","../../ui-react-pack/src/Checkbox.js","../../ui-react-pack/src/Counter.js","../../ui-react-pack/src/ExpandList.js","../../ui-react-pack/src/List.js","../../ui-react-pack/src/ProgressBar.js","../../ui-react-pack/src/ProgressSteps.js","../../ui-react-pack/src/Space.js","../../ui-react-pack/src/Select.js","../../ui-react-pack/src/InputNative.js","../../ui-react-pack/src/Input.js","../../ui-modules-pack/src/form/inputs/InputField.js","../../ui-modules-pack/src/form/inputs/DropdownField.js","../../ui-modules-pack/src/form/inputs/ToggleField.js","../../ui-react-pack/src/InputNumber.js","../../ui-modules-pack/src/form/inputs/InputNumberField.js","../../ui-react-pack/src/PlaceholderField.js","../../core/src/pages/main/components/renders.js","../../ui-react-pack/src/Emoji.js","../../ui-react-pack/src/Placeholder.js","../../core/src/pages/main/components/TableColGroup.js","../../core/src/pages/main/components/TableView.js","../../core/src/pages/main/components/TabList.js","../../core/src/pages/main/Data.js","../../core/src/pages/main/mapper.js","../../ui-react-pack/src/utils/hocs.js","../../ui-utils-pack/src/storage.js","../../ui-modules-pack/src/api/utils/saga.js","../../ui-modules-pack/src/api/actions.js","../../ui-react-pack/src/JsonView/themes.js","../../ui-react-pack/src/JsonView/index.js","../../ui-modules-pack/src/popup/selectors.js","../../ui-react-pack/src/types.js","../../ui-modules-pack/src/variables/configs.js","../../ui-react-pack/src/Text.js","../../ui-modules-pack/src/variables/defaults.js","../../ui-modules-pack/src/saga/utils.js","../../ui-react-pack/src/inputs/normalizers.js","../../ui-modules-pack/src/form/constants.js","../../core/src/pages/main/components/Tabs.js","../../ui-react-pack/src/Dropdown.js","../../ui-react-pack/src/Spinner.js","../../ui-react-pack/src/Loading.js","../../ui-react-pack/src/AnimateHeight.js","../../ui-react-pack/src/Expand.js","../../ui-modules-pack/src/saga/middleware.js","../../ui-utils-pack/src/utility.js","../../ui-utils-pack/src/codec.js","../../ui-utils-pack/src/log.js","../../ui-utils-pack/src/function.js","../../ui-modules-pack/src/variables/routes.js","../../ui-modules-pack/src/redux/reducers.js","../../ui-react-pack/src/Image.js","../../ui-react-pack/src/TooltipPop.js","../../ui-react-pack/src/Row.js","../../ui-modules-pack/src/upload/views/Upload.js","../../ui-utils-pack/src/translations.js","../../ui-modules-pack/src/api/constants.js","../../ui-modules-pack/src/variables/date.js","../../ui-react-pack/src/Tooltip.js","../../ui-modules-pack/src/upload/selectors.js","../../ui-modules-pack/src/variables/files.js","../../ui-modules-pack/src/api/selectors.js","../../ui-modules-pack/src/saga/constants.js","../../ui-modules-pack/src/saga/index.js","../../ui-react-pack/src/ColorSwatch.js","../../ui-react-pack/src/renders.js","../../ui-modules-pack/src/form/utils.js","../../ui-react-pack/src/utils/components.js","../../ui-modules-pack/src/form/index.js","../../ui-modules-pack/src/popup/actions.js","../../ui-modules-pack/src/api/fetch.js","../../ui-modules-pack/src/popup/data.js","../../ui-modules-pack/src/popup/reducers.js","../../ui-modules-pack/src/popup/sagas.js","../../ui-modules-pack/src/popup/index.js","../../ui-modules-pack/src/api/data.js","../../ui-modules-pack/src/api/middleware.js","../../ui-modules-pack/src/api/reducers.js","../../ui-modules-pack/src/api/index.js","../../ui-utils-pack/src/definitions.js","../../core/src/pages/main/changelog.md","../../core/src/pages/main/config.md","../../ui-modules-pack/src/redux/createStore.js","../../core/src/pages/main/translations.js","../../ui-react-pack/src/View.js","../services/downloadFile.js","../../core/src/pages/main/components/Popup.js","../../core/src/pages/main/docs.md","../../core/src/pages/main/faq.md","../../core/src/pages/main/styles.md","../../core/src/ui-render/Render.js","../../core/src/ui-render/transforms.js","../../core/src/ui-render/index.js","../../ui-react-pack/src/ErrorTable.js","../../ui-react-pack/src/ErrorContent.js","../../ui-modules-pack/src/popup/views/Popup.js","../../ui-react-pack/src/Icon.js","../../ui-modules-pack/src/redux/index.js","../../ui-modules-pack/src/popup/constants.js","../../ui-modules-pack/src/redux/actions.js","../../ui-modules-pack/src/variables/fields.js","../../ui-react-pack/src/index.js"],"names":["ui_utils_pack__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_definitions__WEBPACK_IMPORTED_MODULE_1__","_routes__WEBPACK_IMPORTED_MODULE_2__","d","__webpack_exports__","localise","definitions","CDN_URL","ENV","REACT_APP_CDN_URL","FILE","PATH_IMAGES","concat","PATH_SOUNDS","get","Active","SETTINGS","Object","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","HAS_SOUND","SOUND","ALERT","soundFile","INCREASE","DECREASE","PRESS","PROGRESS","TOUCH","SWOOSH","SLIDE","name","file","play","Audio","err","warn","catch","Table","_ref","_ref$fixedHeader","fixedHeader","props","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","_View__WEBPACK_IMPORTED_MODULE_3__","className","semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__","Header","TableS","HeaderCell","Row","Cell","Body","Footer","Button","onClick","_ref$disabled","disabled","_ref$loading","loading","active","circle","square","children","size","_ref$type","type","sound","_ref$translate","translate","react__WEBPACK_IMPORTED_MODULE_2___default","assign","classNames","onPressHoc","_Loading__WEBPACK_IMPORTED_MODULE_3__","React","memo","FIELD","ACTION","ADD_DATA","DOWNLOAD","UPLOAD","REMOVE_DATA","POPUP_DELAY","POPUP_OPEN","SUBMIT","UPDATE_DATA_ON_CHANGE","ON_APPLY_PERIODS","TYPE","AUTO_SUBMIT","DATA","ICON","IMAGE","LINK","POPUP","TABLE_CELLS","CROSS_VALIDATE","NOT_WITHIN_RANGE","NORMALIZE","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_11__","CURRENCY","PERCENT","NORMALIZER","_objectSpread2","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_10__","DATE","val","date","Date","getDateStringFromDateObject","v","Number","toFixed","toLocaleString","PARSER","round","formConfig","formsStorage","Map","errorsMap","errorHandlerFunction","undefined","PopupContext","createContext","isOpen","togglePopupState","title","content","UIRender","_Component","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__","_super","_createSuper","_this","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__","this","call","getAllFormsData","getFormsData","getCalledMethod","_this$props$methods","methods","getAPICalls","_this$props$apiCalls","apiCalls","onDataChanged","getValidationErrors","_ref$title","_ref$content","setState","isPopupOpen","popupTitle","popupContent","state","data","json","normalizeIncomingData","meta","errors","key","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_6__","value","next","nextContext","update","_this$props","set","hasObjectValue","getFormData","parent","errorsProcessing","form","deepEqual","cloneDeep","mapErrorObjectToUIFormat","_this$props2","childBefore","childAfter","embedded","style","_this$state","hasData","hasMeta","react__WEBPACK_IMPORTED_MODULE_12___default","_ui_render__WEBPACK_IMPORTED_MODULE_29__","instance","Container","Fragment","ScrollView","fill","cn","onSubmit","handleSubmit","Provider","_components_Popup__WEBPACK_IMPORTED_MODULE_36__","ui_modules_pack_popup_views_Popup__WEBPACK_IMPORTED_MODULE_35__","Component","UIRenderWithUISetup","subscription","pristine","valid","values","touched","Class","componentWillUnmount","prototype","UNSAFE_componentWillMount","UNSAFE_componentWillUpdate","UNSAFE_componentWillReceiveProps","getDataKindByRelativePath","dataJson","dataKindPath","getDataKindPath","relativePath","kind","pathToData","includes","replace","registerDataKind","index","dataKind","unregisterDataKind","getDataKind","pathToDataKindArray","withDataKind","defineProperty","_this2","_this$props3","FUNC","_len","arguments","length","args","Array","_key","shift","fileName","_this2$getAPICalls","downloadFile","then","response","blob","downloadFileProcessing","popupAlert","_","DOWNLOAD_FAILED_","_ref2","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","mark","_callee","files","path","dropzoneRef","_this2$getAPICalls2","uploadFile","_files","_data","normalizedResponse","wrap","_context","prev","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","JSON","stringify","sent","fileInputEl","restart","t0","console","error","stop","_x","_x2","_x3","apply","canSave","registeredValues","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","parentForm","mutators","push","dataActionWarning","array","splice","remove","_len2","_key2","id","options","_ref3","popupById","_ref3$id","_ref3$id$title","_len3","params","_key3","isArray","replaceDeep","_callee2","_this2$getAPICalls3","updateExperienceData","message","reader","_yield$reader$read","done","b64","jsonStr","responseBody","subMessage","_context2","abrupt","Response","body","getReader","read","Buffer","from","toString","atob","s","substring","parse","test","match","ui_react_pack_JsonView__WEBPACK_IMPORTED_MODULE_18__","METHODS","VALIDATION","_ref5","_ref5$args","start","end","_this2$props","_this2$formValues","formValues","_a","_b","valuesBy","ranges","thisIndex","String","i","_valuesBy$i","b","range","find","_ref6","_ref7","_ref8","_ref9","RESET","resetForm","bind","SET_STATE","setStates","FETCH","fetch","func","delay","_callee3","_args3","_context3","sleep","delayed","submit","funcConfig","fieldFunc","fieldNormalizer","fieldParser","fieldValidation","fieldMethods","_meta","metaToProps","toOpenLConfig","isObject","view","DROPDOWN","SELECT","onChange","TABLE","renderItem","firstHeader","headers","renderCell","EXPAND","isString","mapOptions","text","isList","sanitizeResponse","tags","config","dataUpdate","metaUpdate","isEmpty","keyPath","reset","nextProps","nextState","_this$props4","_this3","_this3$form","_loop","map","_this$props5","_this$props6","withForm","ms","Promise","resolve","setTimeout","e","SEPARATOR","RESULT_SEPARATOR","SYSTEM","GET","CREATE","UPDATE","DELETE","LIST","SET","HYDRATE","LOGOUT","LOAD","OPEN","CLOSE","ADD","CHANGE","START","CANCEL","FINISH","RECEIVED","VOID","REQUEST","SUCCESS","ERROR","TIMEOUT","ALL_ACTIONS","ALL_RESULTS","FORMAT_TIME_FOR_HUMAN","FORMAT_DATE","FORMAT_DD_MMM","FORMAT_DD_MMM_YYYY","FORMAT_MMM_YYYY","ID","SIZE_KB","SIZE_MB","SIZE_MB_16","TIME_DURATION_INSTANT","NOW","now","ONE_MILLISECOND","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_DAY","ONE_WEEK","ONE_MONTH","TWO_SECONDS","THREE_SECONDS","FIVE_MINUTES","THIRTY_SECONDS","THIRTY_MINUTES","FIFTEEN_MINUTES","LANGUAGE","ENGLISH","lang","en","RUSSIAN","CHINESE","CHINESE_HK","CHINESE_TW","GERMAN","SPANISH","ITALIAN","PORTUGUESE","DUTCH","FRENCH","SWEDISH","FINNISH","GREEK","KOREAN","JAPANESE","HEBREW","PERSIAN","YIDDISH","ARABIC","AFRIKAANS","l","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","LANGUAGE_LEVEL","UNKNOWN","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","BASIC","WORKING","PROFICIENT","FLUENT","NATIVE","SORT_ORDER","0","1","WARN","obj","keys","isEqualJSON","oldVal","newVal","lodash_es_isPlainObject__WEBPACK_IMPORTED_MODULE_8__","merge","objects","lodash_es_merge__WEBPACK_IMPORTED_MODULE_6__","objChanges","original","changed","field","lodash_es_isEqual__WEBPACK_IMPORTED_MODULE_10__","deleted","lodash_es_isEmpty__WEBPACK_IMPORTED_MODULE_11__","object","customizer","lodash_es_setWith__WEBPACK_IMPORTED_MODULE_5__","payload","shouldCloneDeep","deleteNull","lodash_es_cloneDeep__WEBPACK_IMPORTED_MODULE_13__","hasObjMatch","searchObj","hasOwnProperty","lodash_es_matches__WEBPACK_IMPORTED_MODULE_7__","lodash_es_isObjectLike__WEBPACK_IMPORTED_MODULE_9__","hasObjKeys","searchValue","lodash_es_get__WEBPACK_IMPORTED_MODULE_12__","findObjByKeys","foundObj","flatten","unflatten","removeNilValues","collection","_ref3$recursive","recursive","constructor","filter","_ref4","_ref4$tags","_ref4$clone","clone","result","swapKeyWithValue","process","__PROD__","__TEST__","__DEV__","__CLIENT__","__BACKEND__","_SHOULD_SHOW_TEST_","_WORK_DIR_","_constants_js__WEBPACK_IMPORTED_MODULE_0__","NODE_ENV","window","cwd","DEFAULT","LANG","Storage","localStorage","WebSocket","history","iconClass","iconClassPrefix","client","log","user","usersById","passwordCheck","zxcvbn","score","Infinity","USD","EUR","RUB","PHONE","MOBILE","HOME","WORK","PERMISSION","READ","MANAGE_USERS","TYPE_BY","_TYPE_BY","OPTIONS","optionsFrom","DEFINITION","_DEFINITION","DEFINITION_BY_VAL","definitionByValue","ENUM","enumFrom","STYLE","ANIMATION_DURATION","SIZE_SCALE","GREY","TEXT","TEXT_LIGHT","BG","BG_LIGHT","TEAL","TEAL_LIGHT","GREEN","GREEN_LIGHT","GOLD","GOLD_LIGHT","YELLOW","YELLOW_LIGHT","ORANGE","ORANGE_LIGHT","RED","RED_LIGHT","PINK","PINK_LIGHT","VIOLET","VIOLET_LIGHT","BORDER","TRANSPARENT","PRIMARY","PRIMARY_LIGHT","SECONDARY","SECONDARY_LIGHT","selector","NAME","maxTime","selectors","lastFunc","pop","forEach","createSelector","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","duration","time","formatNumber","decimals","keyword","logSelector","alphaNumIdPattern","fileNameWithoutExtPattern","spacesPattern","symbols","symbolRatio","upperThreshold","upperThresholdAlphaNum","isInString","string","search","indexOf","isInStringAny","searches","_i","_searches","isFileSrc","RegExp","isPhoneNumber","isPhoneNumberPattern","interpolateString","variables","formatKey","suppressError","interpolateStringPattern","__","lodash_es_get__WEBPACK_IMPORTED_MODULE_2__","split","Error","fileFormatNormalized","ext","fileFormat","toLowerCase","fileNameWithoutExt","mimeTypeFromDataUrl","dataUrl","hostname","url","padStringLeft","padTemplate","slice","Math","max","pluralize","word","count","shouldIncludeCount","pluralizer","randomString","min","_ref2$alphaNum","alphaNum","_ref2$hex","hex","searchSpace","uppercase","floor","random","randomNumberInRange","charAt","randomFromString","toUpperCase","join","toAlphaNumId","truncate","lastChars","firstChars","substr","toLowerCaseAny","trimSpaces","trim","lut","localiseTranslation","CHARACTER","ENTER_NUMBER_STARTING_WITH_plus_COUNTRY_CODE","INVALID_DATE","INVALID_EMAIL_ADDRESS","INVALID_URL","MUST_BE_LESS_THEN_characters","MUST_BE_IN_THE_PAST","MUST_BE_IN_THE_FUTURE","MUST_HAVE_START_TIME","MUST_HAVE_END_TIME","PASSWORD_IS_TOO_WEAK","PASSWORD_MISMATCH","REQUIRED","OK","isRequired","email","maxLength","validationRules_password","phoneNumber","timeInThePast","isNaN","isURL","require_protocol","isEmail","isLength","characters","password","isGoodPassword","isNumeric","confirm","classNameInner","styleInner","row","reverse","rtl","center","tab","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","thisRef","useRef","_useState","useState","_useState2","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","scrollYPosition","setScrollYPosition","accessibilitySupport","react__WEBPACK_IMPORTED_MODULE_3___default","ref","onScroll","target","current","scrollLeft","pointer","margin-auto","hasListValue","isCollection","lodash_es_isPlainObject__WEBPACK_IMPORTED_MODULE_5__","isEqualList","isInList","isInListAny","_args","isInCollection","element","lodash_es_some__WEBPACK_IMPORTED_MODULE_4__","toList","clean","toListValuesTotal","_step3","fallback","sum","_iterator3","_createForOfIteratorHelper","n","f","toUniqueList","lodash_es_uniqWith__WEBPACK_IMPORTED_MODULE_1__","lodash_es_isEqual__WEBPACK_IMPORTED_MODULE_6__","toUniqueListCaseInsensitive","listLower","firstListValue","last","sortAscending","sortDescending","by","_len4","_key4","_step4","_iterator4","lodash_es_get__WEBPACK_IMPORTED_MODULE_7__","Function","toFlatList","lodash_es_flatten__WEBPACK_IMPORTED_MODULE_8__","parseFloat","isFinite","startEndFromNumberRanges","arrayOfNumberRanges","to","_ref5$delimits","delimits","_ref5$sectionDelimite","sectionDelimiter","decimalDelimiter","ordinal","number","dot","dotPattern","pattern","toOrdinal","shortNumber","digits","divider","delimiter","suffixes","formatSI","abs","precision","PREFIXES","exponent","prefix","toPrecision","list","rad","degree","PI","factor","pow","24","21","18","15","12","9","6","3","-3","-6","-9","-12","-15","-18","-21","-24","clearErrorsMap","ui_utils_pack_object__WEBPACK_IMPORTED_MODULE_0__","_rules__WEBPACK_IMPORTED_MODULE_1__","ui_modules_pack__WEBPACK_IMPORTED_MODULE_2__","ui_modules_pack__WEBPACK_IMPORTED_MODULE_3__","ui_utils_pack__WEBPACK_IMPORTED_MODULE_4__","forms","formDataArray","formData","getStructuredDataFromFormObject","mergeData","relativeIndex","getState","formState","changeOptionOrderForSelectFields","createObjectStructure","reduce","acc","item","tmpArray","masterDataIndex","k","getKeyAndPathFromMetaData","_getKeyAndPathFromMet","registeredFieldNames","getRegisteredFields","_form$getFieldState","getFieldState","errorText","convertFieldNameToTitleCaseText","fieldName","messages","str","recursiveDataParser","optionName","selectValue","isDataOrderChanged","unshift","selectName","optionValue","items","year","getFullYear","padStart","month","getMonth","day","getDate","ISO_8601_FULL","nextData","ui_utils_pack__WEBPACK_IMPORTED_MODULE_1__","namespace","SERVICE","ROUTE_BASE","REACT_APP_HOMEPAGE","_ROUTE","DOCS","TEST","ROUTE","_ROUTES","FOR_DEFINITION","createNestedRoutes","FOR_NAV","WITHOUT_NAV","goTo","uri","page","pushState","location","ROUTES","select","activeRoute","_USER","ROLE","USER","STAFF","DEVELOPER","ADMIN","KIND","INDIVIDUAL","COMPANY","SEX","ANY","FEMALE","MALE","hasStaffOrHigherRole","role","isStaff","isAdmin","isCompany","isIndividual","USER_ROLE","USER_KIND","GIVEN_NAME","MY_GIVEN_NAME_IS","MY_SURNAME_IS","SURNAME","ABOUT_ME","BRIEF_DESCRIPTION","DATE_OF_BIRTH","I_WAS_BORN","MY_ROLE","REGISTER_ME_AS","GENDER","I_AM","SELF","capitalize","FULL_NAME","BIRTHDAY","BIRTH_n_SEX","FOR","DEF","_FIELD$DEF","label","hint","INPUT","placeholder","stickyPlaceholder","validate","GROUP","self","lastLogin","isLoggedIn","LOGIN_DURATION","UI","SETTING","THEME","country","currency","language","isOpenSidebar","ui","theme","routesForNav","routerSelect","userSelect","userRole","routeWithoutId","lastIndexOf","r","userRoles","_ref$isOpen","_ref$canClose","canClose","onClose","react_default","View","Link","_ref2$sound","objectWithoutProperties","react_router_dom","require","createBrowserHistory","router","ACTION_TYPE","middleware","routerMiddleware","reducer","connectRouter","Router","ConnectedRouter","Route","defineRoutes","routes","pages","results","route","react_router","exact","component","_history$location","pathname","activeRouteId","initState","objectSpread","performStorage","dataHandler","handleActions","stateActionType","settings","uiHandler","uiLoading","allHandlers","combineReducers","fetchResponseProcessing","ok","reject","fromJSON","LANGUAGE_CODE_BY_COUNTRY","AU","getSupportedLanguageCode","US","UK","RU","BY","UA","langCode","CONFIG","LANGUAGE_OPTIONS","languageDropdownOptions","init","setLanguageFlow","getUserGeolocation","regenerator_default","spawn","_marked","_yield$call","selectState","put","stateAction","_marked2","info","languages","country_code","_marked3","saga","aria-label","_ref$digits","counter","AlertCounter","alert","src_Badge","PureComponent","defaultProps","NavLinks","connect","withTimer","itemDidMount","onChangeRoute","react","icon","animationDelay","Icon","CHAT","AlertCounter_AlertCounter","Text","mapStateToProps","mapDispatchToProps","dispatch","actions","Navigation_dec","Navigation_class","inherits","Navigation_createSuper","classCallCheck","handleToggleSidebar","createClass","isMobile","hasSidebar","NAV_HEADER_MAX_LINKS","links","toConsumableArray","NavLinks_NavLinks","handleCloseSidebar","src_MenuButton","Sidebar","showSidebar","containerClass","contentClass","tabIndex","App","debounceBy","withRouter","screenRatio","renderModal","_get","assertThisInitialized","_get$onModalClose","onModalClose","_get$canCloseModal","canCloseModal","classNameModal","src_Modal","scrollToTop","scrollIntoView","behavior","renderClosePopup","closePopup","popupCLoseButton","styleCloseButton","createRef","innerWidth","innerHeight","prevLocation","isModal","previousLocation","addEventListener","resize","_this$props$theme","_this$props$lang","inverted","DARK","hocs","Navigation_Header","Navigation_Sidebar","zIndex","hljs","registerLanguage","javascript","CodeBlock","setRef","el","codeEl","highlightCode","highlightBlock","LanguageSelection","compact","handleSetLang","store","handleClose","handleOpen","Dropdown","onOpen","selection","axiosInstance","create","baseURL","interceptors","use","errorMessage","_error$response","_error$response$data","axiosErrorMessage","processErrorMessage","services_axios","startsWith","gdn_rating_alg_updateExperienceData","experienceData","post","downloadHistoricalFileTemplate","gdn_rating_alg_uploadHistoricalFile","Content-Type","DEMO_JSON_STORAGE_KEY","Demo","popup","showMeta","onGetDataButtonClick","handleUpload","slicedToArray","FileReader","onload","ERROR_MESSAGE","readAsText","Upload","uploadProps","UPLOADED","CONFIG_USED","LanguageSelection_LanguageSelection","JsonView","rules","initialValues","uploadHistoricalFile","marginTop","hasHeader","multiple","fileType","labelOnHover","FORMAT","_CONFIG_USED","FILES_ONLY","FILE_UPLOAD_FAILED","MAXIMUM_FILE_SIZE_EXCEEDED","MUST_BE_UNDER","SELECT_OR_DROP","UPDATING","UPLOAD_file","ARE_YOU_SURE_YOU_WANT_TO_REMOVE_file","DIMENSION_OF_file_MUST_BE_ONE_OF_aspectRatios","INVALID_ASPECT_RATIO","LinkOut","href","rel","button_download_meta","styles","verify","dropdownMeta","inputStartDate","inputEndDate","extraHeaders","colSpan","classNameHeader","renderItemCells","verticalAlign","renderExtraItem","float","exampleData","period","startDate","endDate","expand_list_meta","renderLabel","relativeData","autoSubmit","list_meta","nestedTable","table_nested_meta","renderHeader","popup_meta","tab_list_meta","reportName","groupLabel","labelById","employee","employer","matrixTable","tier","ageBand","undiffRate","smokerRate","nonSmokerRate","buttoned","upload_meta","classWrap","formats","maxSize","showTypes","examples","experienceMeta","download_meta","decimalMeta","exampleMeta","listData","listMeta","expandListMeta","tabListMeta","tabs","tableNestedMeta","tableVerticalMeta","tableExtraItemsMeta","tableMatrix","classNameCell","group","header","extraHeader","tableForm","piechartMeta","popupMeta","showIfCondition","coverages","enrolled","manualPremium","commissions","tax","profit","expenses","minWidth","uploadMeta","inputMeta","labelTrue","labelFalse","defaultValue","htmlFor","invalidArrayData","invalidArrayMeta","PolicyFactors","GeographicFactor","OtherProductsFactor","RateGuaranteeFactor","IndustryFactor","SizeFactor","PolicyFactor","Plans","Plan","Coverages","CoverageType","NumberOfLives","MonthlyPremium","TotalMonthlyPreExpenseCost","TotalNetClaimCost","TotalWeeklyBenefit","Rate","Factors","HospitalConfinementWaiverRate","PortabilityFactor","DisabilityDefinitionFactor","FICAMatchingFactor","BenefitPercentFactor","ReturnToWorkFactor","CoverageFactor","ProgressiveIllnessProtection","PreExistingFactor","WorkIncentiveFactor","NetClaimCostAggregatedFactor","Tax","Expense","Profit","DemographicSummary","AverageTotalWeeklyBenefit","FemalePercent","PercentFemaleUnder40","PercentFemaleUnder45","AverageAge","AverageAnnualSalary","LowestAnnualSalary","TopFirstAnnualSalary","TopSecondAnnualSalary","TopThirdAnnualSalary","Top3WeeklySalaryAverage","DemographicByAgeBands","RateCard","WeeklySummaryByAgeBands","AgeBand","WeeklySalaryFemale","WeeklySalaryMale","WeeklySalaryTotal","_comment","@class","childrenBeforeTabs","version","classNameTabs","styleTabs","overflow","classNameContent","styleHeader","width","extraItems","Description","Core","BuyUp","showIf","mapItems","legends","columns","maxWidth","format","removable","classNameLabel","sorts","order","Adjusted Fixed","Adjusted Variable","Administration Total","classNameCellWrap","itemClassNames","Grand Total","onDone","mapArgs","classNameItems","expanded","defaultIndex","classNameSteps","step","sort","filterItems","itemsExpanded","render","required","readonly","tooltip","unit","lefty","adjManualRate","adjFormulaRate","manualRate","formulaRate","proposedRate","Examples","activeIndex","toggleExpand","onSomeDataChanged","showValidationErrors","hash","Expand","encodeURIComponent","toJSON","download","mdProps","plugins","toc","renderers","code","heading","slug","Children","toArray","level","Docs","docs","changelog","faq","react_markdown_default","source","demo_Demo","Examples_Examples","onClickTab","Helmet","Tabs","findIndex","child","Tester","src_pages","_ROUTE$HOME$ROUTE$DOC","upload","modulesActivated","redux","api","createStore","src_redux","App_App","document","getElementById","Boolean","navigator","serviceWorker","ready","registration","unregister","SYNCING___","AutoSave","submitting","partial","changes","promise","handleChange","debounce","renderLoading","showLoader","loadContent","Loading","react_final_form_es","formatDuration","milliseconds","_ref$shorten","shorten","_ref$round","shortEnglish","humanizeDuration","humanizer","shortEn","y","mo","w","h","m","decimal","gradientColors","colors","hueCount","hues","groupCount","ceil","lastIndex","groupIndex","colorScaleDistinct","chroma","scale","chartTooltip","animationEasing","animationDuration","wrapperStyle","RADIAN","fontSize","color","gradient","es6","stroke","renderGradient","_ref3$startOpacity","startOpacity","_ref3$stopOpacity","stopOpacity","_ref3$x","x1","_ref3$y","y1","_ref3$x2","x2","_ref3$y2","y2","offset","stopColor","renderGradients","PieChart","renderTotal","renderReference","itemsLength","bottom","_ref$background","background","classes","offsetTop","height","renderReferenceItem","_items","u","classNameWrap","_this$props$gradient","colours","pointers","dataNormalized","dataKey","innerRadius","outerRadius","labelLine","renderPercentPointer","renderPercent","strokeWidth","renderTooltip","donutPieCenterCoords","cx","cy","midAngle","radius","x","cos","sin","percent","startAngle","endAngle","fontScale","percentColor","_donutPieCenterCoords","textAnchor","dominantBaseline","angleEffect","radiusEffect","_donutPieCenterCoords2","labelColor","alpha","css","labelSize","lineScale","lineSize","sx","sy","mx","my","ex","ey","xOuter","dy","throttle","total","renderTooltipItem","_ref8$payload","renderFloat","Checkbox","_ref$valueTrue","valueTrue","_ref$valueFalse","valueFalse","danger","readOnly","defaultChecked","checked","event","src_Label","Counter","steps","animate","setup","easingFn","_props$duration","_props$delay","_props$interval","interval","clearTimer","t","ProgressBar","styleBar","progressBar","_this$props2$hasToolt","hasTooltip","backgroundColor","transform","ProgressSteps","transition","handleClickStep","handleClickTab","hasConnector","styleSteps","styleContent","connector","passed","ProgressBar_ProgressBar","labeled","bold","fade-in","isFunction","small","large","_ref$label","_ref$id","_ref$value","_ref$defaultValue","selectLabel","SELECT_option","option","InputNative","_event$target","resizeToContent","onChangeCheckbox","onChangeColor","onMountColor","onMountResize","onMount","onKeyUp","toTextHeightFunc","toTextHeight","inputValue","disabledSpellCheck","noSpellCheck","rows","src_Select","Input","onClickIcon","classNameIcon","autofocus","onFocus","onBlur","onRemove","autoFocus","InputNative_InputNative","idHelp","hasValue","isCheckbox","swatch","aria-hidden","aria-describedby","asField","sanitize","Field","ToggleField","input","_envs","InputNumber","_ref$outputFormat","outputFormat","percentage","separateThousands","valueFromParent","formatDecimals","_useState3","_useState4","setValue","useEffect","es","nextValue","parser","formatter","userTyping","parts","numberPart","decimalPart","commify","PlaceholderField","FIELD_DOES_NOT_EXIST_","UploadField","renderField","fieldDefinition","InputField","DropdownField","TOGGLE","InputNumberField","display","transformOrigin","margin","Placeholder","Searching","src_Emoji","propTypes","PropTypes","any","TableColGroup","colGroup","column","TableView","expandedByIndex","expandedByRow","_this$state$items","handleToggleExpandAll","handleItemExpand","handleSort","onSort","_itemsSorted","getStickyCellClassName","nextCellStyles","position","cell","hasSort","renderSort","renderItemData","renderItemsVertical","additionalCellsStyles","itemsSorted","_ref4$classNameCellWr","styleCell","showEmptyAs","cellStyle","cellClassName","vertical","isEqual","_headers","src_Placeholder","sellStyles","tableBody","components_TableColGroup","react_final_form_arrays_es","fields","sortKeys","sortKey","Data","_this$props$initialVa","useForm","Render","Tooltip","TooltipPop","Method","Name","RENDER","_ref6$decimals","_ref6$symbol","symbol","DOUBLE5","FLOAT","TITLE_n_INPUT","_ref10","STRING","Intl","DateTimeFormat","onError","_ref11","errInfo","DATA_CAUSING_ERROR","textAlign","ERROR_INFO","debug","__data","isTruthy","equal","Data_Data","COL","COL2","COL3","ROW","ROW2","COL_LIST","COL_LIST3","src_List","ROW_LIST","ROW_LIST2","rest","AutoSave_AutoSave","CHECKBOX","EXPAND_LIST","src_ExpandList","BUTTON","COUNTER","Counter_Counter","Image","LABEL","PIE_CHART","prop","mapProps","PieChart_PieChart","PROGRESS_STEPS","ProgressSteps_ProgressSteps","SPACE","src_Space","parentItem","table","_group$by","groupByProps","_group$extraHeader","errorTitle","_step","groupsByValue","rowsByCommonValue","_iterator","groupId","commonValue","groupIds","newHeaders","_id","groupHeaders","newExtraHeaders","_item","definition","accumulatedWidth","col","isFixed","left","parseInt","TableView_TableView","TABS","TAB_LIST","childrenAfterTabs","components_TabList","TITLE","TOOLTIP","PopupContent","_PureComponent","mapper_createSuper","uniqueIdentificator","dropdown","lazyLoad","SLIDER","change","UIContext","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","_files__WEBPACK_IMPORTED_MODULE_2__","onKeyPress","timers","setInterval","intervals","clearTimeout","clearInterval","hasLocalStorage","storageKey","_localStorage","initialValue","isAsync","oldData","toServer","enumCheck","toClient","_performStorage$toCli","_performStorage$toSer","toServerSync","_performStorage$toSer2","_Active$Storage","initSync","_Active$Storage2","subscribeToApiResults","fetchFlow","URL","resubscribe","listener","_response$error","_response$error$paylo","_listener","_response2","_response2$action","_response2$action$pay","_status","_response2$action$met","_args2","race","success","take","action","isMatchingApiActionType","timeout","void","REQUEST_TIMEOUT","status","HTTP_401_UNAUTHORIZED","apiActionResultsType","_ref$method","method","_ref$meta","fetchToCrud","apiAction","isApiActionType","RESULT","_action$meta","isApiActionTypeTimeout","isApiActionTypeError","apiActionType","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","API_CALL","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","crudToFetch","API_ACTIONS","TypeError","API","API_RESULTS","RESULTS","resultList","NETWORK","createAction","_crudToFetch","nicinabox","scheme","author","base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F","_ref$data","_ref$inverted","_ref$expanded","_ref$theme","defaultTheme","shouldExpandNode","lib_default","hideRoot","invertTheme","activePopups","POPUP_ALERT","POPUP_CONFIRM","POPUP_ERROR","prop_types__WEBPACK_IMPORTED_MODULE_0__","prop_types__WEBPACK_IMPORTED_MODULE_0___default","Any","bool","Degree","Decimal","Enum","oneOf","File","Float","Fraction","GetterString","Id","Int","List","ListOf","arrayOf","Milliseconds","Mm","Node","NumberOrString","oneOfType","ObjectOf","objectOf","Of","shape","OneOf","types","Px","PrimitiveOrObject","StringOrNumber","Timestamp","Url","UrlOrBase64","UrlOrBase64OrPreview","UrlOrNode","UrlOrObject","Definition","DefinitionSet","FileInput","src","sizes","FieldForList","FormValueType","Option","Options","API_REQUEST_TIMEOUT","STATE_ACTION_TIMEOUT","REACT_APP_API_REQUEST_TIMEOUT","SOCKET_CONNECT_TIMEOUT","REACT_APP_SOCKET_CONNECT_TIMEOUT","REACT_APP_STATE_ACTION_TIMEOUT","REQUEST_TIMEOUT_BACKOFF_DURATION","REACT_APP_REQUEST_TIMEOUT_BACKOFF_DURATION","APP_NAME","REACT_APP_NAME","APP_RELEASE_VERSION","REACT_APP_RELEASE_VERSION","APP_SUPPORT_TEAM_NAME","REACT_APP_SUPPORT_TEAM_NAME","REACT_APP_ANALYTICS_TRACKING_ID","REACT_APP_CONTACT_HOST","REACT_APP_CONTACT_SERVER","QUERY_CACHE_TIME","TYPING_DELAY","TOOLTIP_DELAY","FORM_SYNC_THROTTLE","LIGHT","_configs__WEBPACK_IMPORTED_MODULE_2__","_definitions__WEBPACK_IMPORTED_MODULE_3__","GRADIENT_HUE_COUNT","PAY_INTERVAL","QUERY_LIMIT","QUERY_ID_LIMIT","QUERY_TAG_LIMIT","QUERY_USER_LIMIT","runTask","run","toPromise","phone","DATES","MULTIPLE","MULTIPLE_LEVEL","PLACE","UPLOAD_GRID","UPLOAD_GRIDS","HOUR_MINUTE","INTEGER","UPPERCASE","_FIELD$NORMALIZER","VALIDATE","EMAIL","MAX_LENGTH","PASSWORD","_FIELD$VALIDATION","MY_EMAIL_ADDRESS_IS","EXAMPLE_GMAIL_COM","labelType","MY_PHONE_NUMBER_IS","plus_1_555_555_55_55","minFields","normalize","setTab","updateTab","_tabs","_contents","transitionUpdate","centerTabs","contents","react__WEBPACK_IMPORTED_MODULE_6___default","ui_react_pack_ScrollView__WEBPACK_IMPORTED_MODULE_9__","ui_react_pack_View__WEBPACK_IMPORTED_MODULE_13__","ui_react_pack_Text__WEBPACK_IMPORTED_MODULE_10__","ui_react_pack_Icon__WEBPACK_IMPORTED_MODULE_8__","tempValue","opts","onSelect","onSearch","_ref$placeholder","_ref$fill","_ref$lazyLoad","optionsLabel","onAddItem","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","setOptions","searchInput","deburr","_Icon__WEBPACK_IMPORTED_MODULE_15__","duplicate","onSearchChange","searchQuery","allowAdditions","additionLabel","ADD_","upward","additionPosition","newOption","_View__WEBPACK_IMPORTED_MODULE_17__","fill-width","_Text__WEBPACK_IMPORTED_MODULE_16__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__","noResultsMessage","NO_OPTIONS_LEFT","NOTHING_FOUND","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__","displayName","_ref$size","_ref$color","iconClassName","_ref$transparent","transparent","src_Spinner","_ref$duration","AnimateHeight_default","changing","handleToggleExpand","expand","handleClick","_this$props2$justify","justify","iconOpened","iconClosed","Title","_content","hasContent","src_AnimateHeight","redux_saga__WEBPACK_IMPORTED_MODULE_0__","createSagaMiddleware","_ref$timestamp","timestamp","_ref$caseSensitive","caseSensitive","_ref$alphabet","alphabet","alphabetLower","_ref$padCount","padCount","_ref$suffix","suffix","charsCount","remainder","isId","minLength","strength","constant","service","circular_json__WEBPACK_IMPORTED_MODULE_0__","circular_json__WEBPACK_IMPORTED_MODULE_0___default","CircularJSON","first","_console2","_console","_len5","_key5","_console6","_console7","Async","Generator","enums","callerFunctionName","descriptor","configurable","enumerable","wait","leading","callNow","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__","lodash_es_throttle__WEBPACK_IMPORTED_MODULE_2__","ROUTE_HOME","ROUTE_SLASH","TESTER","LOGIN","LOADING","NEW","routeObj","matches","uris","parentPath","parentRoute","_ROUTES$FOR_NAV","popups","_ref$payload","activePopup","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","_ref2$payload","_ref2$payload$id","avatar","_ref2$name","_ref2$path","imageSrc","alt","decoding","trigger","mouseEnterDelay","forwardRef","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_5__","onDragEnter","onDragLeave","acceptedFiles","rejectedFiles","ui_react_pack_Row__WEBPACK_IMPORTED_MODULE_17__","ui_react_pack_Text__WEBPACK_IMPORTED_MODULE_18__","closeLabel","dropzone","ui_react_pack_View__WEBPACK_IMPORTED_MODULE_20__","handleKeyPress","open","renderClose","ui_react_pack_Tooltip__WEBPACK_IMPORTED_MODULE_19__","top","onComponentWillMount","parseString","react_dropzone__WEBPACK_IMPORTED_MODULE_13__","inputProps","node","onDrop","onFileDialogCancel","accept","react__WEBPACK_IMPORTED_MODULE_12__","ui_react_pack_Icon__WEBPACK_IMPORTED_MODULE_15__","UPLOAD_file_FILE","ui_react_pack_Loading__WEBPACK_IMPORTED_MODULE_16__","U","BY_ROUTE","fileTypes","Proxy","queriedById","UNTRANSLATED","CLICK_HERE","CONTACT_US","COPY","COPIED","NO","YES","ERROR_STACK","REMOVE","BACK","NEXT","LOGIN_noun","REGISTER","RETRY","SEARCH","SEARCHING___","SIGN_IN","SIGN_IN_noun","SIGNUP","SIGNUP_noun","SEND","SAVE","SAVED","SAVE_TO_FAVORITES","TYPE_A_MESSAGE","HIDE","SHOW","SHOW_LESS","READ_MORE","BETWEEN","OR","PRIVACY_POLICY","YOUR_INFO_IS_SAFE_WITH_US_SEE_OUR","TERMS_OF_SERVICE","THANK_YOU","WE_HAVE_RECEIVED_YOUR_MESSAGE_AND_WILL_GET_IN_TOUCH_SHORTLY","OUR_SITE_USES_COOKIES_BY_CONTINUING_TO_USE_OUR_SITE_YOU_ARE_AGREEING_TO_OUR","OK_I_UNDERSTAND","PLEASE","USE_ANOTHER_BROWSER_TO","DONT_SHOW_AGAIN","ERROR_ID","REASON","STATUS","REQUEST_FAILED","SERVER_DISCONNECTED","REQUEST_FAILED_FOR_url","ADD_ACTIONS_PENDING_AUTH","ADD_ACTIONS_PENDING_LOCATION","ADD_ACTIONS_PENDING_NETWORK","CLEAR_ACTIONS_PENDING_NETWORK","STORAGE_KEY_TOKEN","NETWORK_ERROR_MESSAGES","REQUEST_TIMEOUT_MESSAGE","ui_modules_pack_variables__WEBPACK_IMPORTED_MODULE_0__","ui_utils_pack__WEBPACK_IMPORTED_MODULE_2__","ui_utils_pack__WEBPACK_IMPORTED_MODULE_3__","right","show","images","preview","_FILE","EXT","CSV","GIF","JPG","JPEG","MP3","MP4","PNG","SVG","WEBP","MIME_TYPE","BIN","VIDEO","FORMAT_BY_MIME_TYPE","_FILE$FORMAT_BY_MIME_","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","MAX_RES","EXTENSIONS","MIME_TYPES","SIZES","","res","medium","fit","thumb","DIR","_BY_ROUTE","PATH","CDN_BUCKET_NAME","UPLOAD_PATH","actionsPendingAuth","actionsPendingLocation","actionsPendingNetwork","reselect__WEBPACK_IMPORTED_MODULE_0__","_constants__WEBPACK_IMPORTED_MODULE_2__","hasEnabledSaga","white","black","autoComplete","autoCorrect","autoCapitalize","spellCheck","languageObj","_languageObj$key","langs","truncated","_ref2$faded","faded","fraction","showFraction","minimumFractionDigits","maximumFractionDigits","trunc","boxSizing","computed","getComputedStyle","getPropertyValue","scrollHeight","isDataChangedListenerCalled","fieldValues","registeredFieldValues","registeredFieldErrors","InputComponent","selectPreviousValue","_ref2$input","_ref2$meta","onRemoveChange","hasFocus","initValues","handleFocus","handleBlur","_this$input","_this$props2$parse","didMount","isUnmounting","_this$props4$parse","_value","withFormSetup","_PureComponent2","WithForm","_super2","prevInitialValues","renderForm","formProps","_formProps","_props","_initValues","delete","_this$props6$onSubmit","restProps","arrayMutators","handleChangeInput","onChangeState","changedValues","_fields","labelGroup","PLEASE_COMPLETE_","validationErrors","src_Tooltip","renderInput","FIELDS","fieldsSetup","fieldsFrom","onRenderProps","tooltipProps","syncInputChanges","_ref12","_ref12$parent","_constants__WEBPACK_IMPORTED_MODULE_0__","_redux_actions__WEBPACK_IMPORTED_MODULE_2__","_constants__WEBPACK_IMPORTED_MODULE_3__","popupWatch","apiErrorFlow","apiTimeoutAlert","networkErrorAlert","popupError","all","takeEvery","lastApiErrorMessage","shouldIgnoreErrorCodes","_ref$meta$shouldAlert","shouldAlertSameErrorOnce","detail","msg","_context4","_marked4","_context5","_marked5","_ref3$payload","_context6","_marked6","_ref4$payload","_ref4$payload$title","_context7","_marked7","lastNetworkErrorMessage","auth","useFetch","axios","hasFetch","ApiMiddleware","configDefault","addTokenToRequest","token","Authorization","requestComplete","request","afterRequest","afterResponse","onTimeout","isFetch","apiCall","shouldAuthenticate","requestArgs","responseHandler","responseProcessing","responseProcessFetch","responseProcessAxios","_setTimeout","_logTime","requestError","_afterRequest","callRequest","_omitBy2","authenticate","credentials","_meta$headers","_meta$method","qs","endpoint","questionIndex","urlWithParams","omitBy_default","isNil_default","_setHeaders","contentType","startsWith_default","requestTimeout","_response$headers","latency","callError","_onError","pendingNetwork","_onTimeout","cloneDeep_default","_afterResponse","updated","constants","LOCATION_LIFESPAN","createApiMiddleware","_handleActions","definitionSetup","def","_DEFINITION$index","TRANSLATION","_loop2","KEY","module","exports","p","modules","ignore","reduxCreateStore","middlewares","composeEnhancers","compose","allMiddleware","applyMiddleware","handlers","ignoreActions","rootReducer","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","createObjectURL","link","setAttribute","appendChild","click","removeChild","revokeObjectURL","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__","CONFIRM","CONFIRM_ACTION","ERROR_excMark","Popup","_this$props$ui","react__WEBPACK_IMPORTED_MODULE_8___default","_rules__WEBPACK_IMPORTED_MODULE_15__","Consumer","context","activeClass","ui_react_pack_View__WEBPACK_IMPORTED_MODULE_11__","ui_react_pack_Button__WEBPACK_IMPORTED_MODULE_9__","contextType","Render_RenderClass","RenderClass","errorInfo","TooltipDefaultProps","mappedData","FUNCTION_NAMES","mapper","mapData","metaToFunctions","attribute","configs","revPath","relativePathFrom","getFunctionFromString","getFunctionFromObject","valueDefinition","default","attrCount","_config$funcNames","funcNames","_definition$verify","opt","validators","composeValidators","validator","_definition$args","_config$fallback","hasMapArgs","mapFunctionArgs","_ref4$fallback","_string$split","_string$split2","arg","template","isServerError","hasId","hasStatus","hasTitle","striped","statusCode","scope","wordBreak","serverErrors","userErrors","src_ErrorTable","close","closeAlert","closeConfirm","closeError","hasAlert","hasConfirm","hasError","cancelLabel","confirmLabel","_ref2$confirmClass","confirmClass","src_ErrorContent","react_redux__WEBPACK_IMPORTED_MODULE_0__","thunk","hasAction","hasResult","finalACTION","finalRESULT","finalPayload","finalMeta","_ref$initialValues","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__","_ref3$name","_ref3$namePrefix","namePrefix","validations","validateMultiple","_Users_asamuseu_IdeaProjects_ui_render_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__","ID_HIDDEN","ABOUT","ADDRESS","WEBSITE","MIN_MAX","classnames__WEBPACK_IMPORTED_MODULE_0__","classnames__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default"],"mappings":"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","file":"static/js/main.4b53bc7e.chunk.js","sourcesContent":["import { localise } from 'ui-utils-pack'\nimport * as definitions from './definitions'\n\n/**\n * GLOBAL VARIABLES ============================================================\n * =============================================================================\n */\n\nexport * from './_envs'\nexport * from './configs'\nexport * from './date'\nexport * from './defaults'\nexport * from './definitions'\nexport * from './fields'\nexport * from './files'\nexport * from './routes'\nexport * from './urls'\nexport * from './validations'\n\nlocalise(definitions)\n","import { Active, ENV, get, warn } from 'ui-utils-pack'\n\n/**\n * FILE VARIABLES ==============================================================\n * =============================================================================\n */\n\nexport const CDN_URL = ENV.REACT_APP_CDN_URL || ''\n\nexport const FILE = {\n  PATH_IMAGES: `${CDN_URL}/static/images/`,\n  PATH_SOUNDS: `${CDN_URL}/static/sounds/`,\n  CDN_URL,\n}\n\nif (get(Active, 'SETTINGS.HAS_SOUND') == null) {\n  Active.SETTINGS = {\n    ...Active.SETTINGS,\n    HAS_SOUND: false\n  }\n}\n\n/* Sounds */\nexport const SOUND = {\n  ALERT: soundFile('alert.mp3'),\n  INCREASE: soundFile('increase.mp3'),\n  DECREASE: soundFile('decrease.mp3'),\n  PRESS: soundFile('press.mp3'),\n  PROGRESS: soundFile('progress.mp3'),\n  TOUCH: soundFile('touch.mp3'),\n  SWOOSH: soundFile('swoosh.mp3'),\n  SLIDE: soundFile('slide.mp3'),\n}\n\n/**\n * HELPER FUNCTIONS ------------------------------------------------------------\n * -----------------------------------------------------------------------------\n */\n\n/**\n * Lazy Load Sound File with safe .play() method that is muted when sound is off\n *\n * @param {String} name - sound file name\n * @returns {Object<{play()}>} - object with .play() method\n */\nfunction soundFile (name) {\n  let file\n  return {\n    play () {\n      // IE 11 does not support Audio()\n      if (!file) try {\n        file = new Audio(FILE.PATH_SOUNDS + name)\n      } catch (err) {\n        warn(err)\n      }\n      if (Active.SETTINGS.HAS_SOUND && file) file.play().catch()\n    }\n  }\n}\n","import React from 'react'\nimport { Table as TableS } from 'semantic-ui-react' // adds 4 KB to final js bundle, but has many features\nimport View from './View'\n\nexport default function Table ({\n  fixedHeader = false,\n  ...props\n}) {\n  return (fixedHeader\n      ? <View className='app__table__container--fixed-header'>\n        <View className='app__table__container__inner--fixed-header'>\n          <TableS {...props} />\n        </View>\n      </View>\n      : <TableS {...props} />\n  )\n}\n\nTable.Header = TableS.Header\nTable.HeaderCell = TableS.HeaderCell\nTable.Row = TableS.Row\nTable.Cell = TableS.Cell\nTable.Body = TableS.Body\nTable.Footer = TableS.Footer\n","import classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Loading from './Loading'\nimport { onPressHoc } from './utils'\nimport { Active } from 'ui-utils-pack'\n\n/**\n * Button - Pure Component.\n *\n * @param {Function} [onClick] - button click callback\n * @param {String} [size] - button size, one of ['small', 'base', 'large']\n * @param {String} [type=button] - button type eg. button, submit\n * @param {String} [className] - optional, will be prepended with `button `\n * @param {Boolean} [disabled] - optional, whether the button is disabled\n * @param {Boolean} [loading] - optional, show spinner instead of children\n * @param {Boolean} [active] - whether to add `active` css class=\n * @param {Boolean} [circle] - whether to add `circle` css class with even padding\n * @param {Boolean} [square] - whether to add `square` css class with even padding\n * @param {Object} [sound] - new Audio(URL) sound file\n * @param {*} [children] - optional, content to be wrapped inside button `<button>{children}</button>`\n * @param {*} [props] - other attributes to pass\n * @returns {Object} - React component\n */\nexport function Button ({\n  onClick,\n  disabled = false,\n  loading = false,\n  active,\n  circle,\n  square,\n  children,\n  size,\n  type = 'button',\n  sound,\n  className,\n  translate = Active.translate,\n  ...props\n}) {\n\n  return (\n    <button\n      className={classNames('button', size, className, {circle, square, active, loading})}\n      disabled={disabled || loading}\n      type={type}\n      onClick={onPressHoc(onClick, sound)}\n      {...props}\n    >\n      {(typeof children === 'string') ? translate(children) : children}\n      {loading && <Loading loading/>}\n    </button>\n  )\n}\n\nButton.propTypes = {\n  type: PropTypes.string,\n  className: PropTypes.string,\n  children: PropTypes.any\n}\n\nexport default React.memo(Button)\n","import React, { Component, Fragment } from 'react'\nimport { fetch } from 'ui-modules-pack/api'\nimport { withForm } from 'ui-modules-pack/form'\nimport { popupAlert } from 'ui-modules-pack/popup'\nimport { FIELD } from 'ui-modules-pack/variables'\nimport { cn, type } from 'ui-react-pack'\nimport Json from 'ui-react-pack/JsonView'\nimport ScrollView from 'ui-react-pack/ScrollView'\nimport { Active, get, isEmpty, isList, isString, round, sanitizeResponse, warn } from 'ui-utils-pack'\nimport { cloneDeep, hasObjectValue, isObject, set } from 'ui-utils-pack/object'\nimport Render, { metaToProps } from '../../ui-render'\nimport './mapper' // Set up UI Renderer components and methods\nimport { _ } from './translations'\nimport {\n  replaceDeep,\n  getFormsData,\n  mapErrorObjectToUIFormat,\n  getDateStringFromDateObject,\n  errorsProcessing,\n  normalizeIncomingData\n} from './utils'\nimport deepEqual from 'deep-equal';\nimport { downloadFile as downloadFileProcessing } from 'web/services/downloadFile'\nimport OldPopup from 'ui-modules-pack/popup/views/Popup'\nimport Popup from './components/Popup'\n\n/**\n * BUSINESS RULES ==============================================================\n * UI Config transform logic specific to OpenL reports\n * =============================================================================\n */\n\nFIELD.ACTION = {\n  ADD_DATA: 'addData',\n  DOWNLOAD: 'download',\n  UPLOAD: 'upload',\n  REMOVE_DATA: 'removeData',\n  POPUP_DELAY: 'popupDelay',\n  POPUP_OPEN: 'popupOpen',\n  SUBMIT: 'submit',\n  UPDATE_DATA_ON_CHANGE: 'updateDataOnChange',\n  ON_APPLY_PERIODS : 'onApplyPeriods',\n}\nFIELD.TYPE = {\n  AUTO_SUBMIT: 'AutoSubmit',\n  DATA: 'Data',\n  ICON: 'Icon',\n  IMAGE: 'Image',\n  LINK: 'Link',\n  POPUP: 'Popup',\n  TABLE_CELLS: 'TableCells',\n}\nFIELD.CROSS_VALIDATE = {\n  NOT_WITHIN_RANGE: 'notWithinRange',\n}\nFIELD.NORMALIZE = {\n  ...FIELD.NORMALIZE,\n  CURRENCY: 'currency',\n  PERCENT: 'percent',\n}\nFIELD.NORMALIZER = {\n  ...FIELD.NORMALIZER,\n  [FIELD.NORMALIZE.DATE]: (val) => {\n    if (val) {\n      const date = new Date(val);\n      return getDateStringFromDateObject(date);\n    }\n  },\n  [FIELD.NORMALIZE.CURRENCY]: (v) => v == null ? v : Number((v || 0) || 0).toFixed(2),\n  [FIELD.NORMALIZE.PERCENT]: (v) => {\n    return v == null ? v : (Number((v || 0) || 0) * 100).toLocaleString()\n  },\n}\nFIELD.PARSER = {\n  ...FIELD.PARSER,\n  [FIELD.NORMALIZE.PERCENT]: function fromPercent (v) {\n    return v && round(v / 100, 5)\n  },\n}\n\n/*\n  FormStorage is used for storing all active forms.\n  This solution provides ability to get data from all forms\n */\nexport const formsStorage = new Map();\n\n\n/*\n  Accumulate validation errors from all Form instances\n */\nexport const errorsMap = {};\n\nlet errorHandlerFunction = undefined;\n\n// Context for Popup component\n// TODO: replace redux state for pupup with this context\nexport const PopupContext = React.createContext({\n  isOpen: false,\n  togglePopupState: () => {},\n  title: '',\n  content: '',\n});\n\nexport const usePopup = () => React.useContext(PopupContext)\n\n/**\n * UI Render Instance Component\n * @example:\n *    <UIRender data={data} meta={meta} initialValues={data} onSubmit={this.submit}/>\n */\nexport class UIRender extends Component {\n  static propTypes = {\n    data: type.Any.isRequired,\n    meta: type.Object.isRequired,\n    initialValues: type.Any, // should be the same as `data` initially\n    childBefore: type.Any,\n    childAfter: type.Any,\n    // If given, will render <form onSubmit {...form} />\n    form: type.OneOf(type.Boolean, type.Of({\n      kind: type.Id,\n    })),\n    // Whether to disable rendering of wrapper scroll view and html form\n    embedded: type.Boolean,\n    getFormData: type.Method,\n    onDataChanged: type.Method,\n    getValidationErrors: type.Method,\n    methods: type.ObjectOf(type.Method),\n    translate: type.Method,\n    apiCalls: type.ObjectOf(type.Method),\n  }\n\n  constructor (props) {\n    super(props);\n    if (typeof props.getValidationErrors === 'function') {\n      errorHandlerFunction = props.getValidationErrors;\n    }\n    if (typeof props.translate === 'function') {\n      Active.translate = props.translate\n    }\n\n    this.togglePopupState = ({title = '', content = ''}) => {\n      if (title && content) {\n        this.setState({\n          isPopupOpen: true,\n          popupTitle: title,\n          popupContent: content\n        });\n      } else {\n        this.setState({\n          isPopupOpen: false,\n          popupTitle: '',\n          popupContent: ''\n        });\n      }\n    }\n\n    this.state = {\n      data: {\n        json: normalizeIncomingData(this.props.data)\n      },\n      meta: {\n        json: this.props.meta\n      },\n      errors: {},\n      key: new Date(),\n      isPopupOpen: false,\n      togglePopupState: this.togglePopupState,\n      popupTitle: '',\n      popupContent: '',\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps (next, nextContext) {\n    const update = {}\n    const {data, meta} = this.props\n\n    if (next.data !== data) set(update, 'data.json', normalizeIncomingData(next.data))\n    if (next.meta !== meta) set(update, 'meta.json', next.meta)\n    if (hasObjectValue(update)) this.setState(update)\n  }\n\n  componentDidMount () {\n    if (typeof this.props.getFormData === 'function') {\n      this.props.getFormData(this.getAllFormsData)\n    }\n\n    if (typeof this.props.onDataChanged === 'function') {\n      this.onDataChanged = this.props.onDataChanged;\n    } else if (this.props.parent && typeof this.props.parent.onDataChanged === 'function') {\n      this.onDataChanged = this.props.parent.onDataChanged;\n    }\n  }\n\n  componentDidUpdate () {\n    if (this.props.meta) {\n      errorsProcessing(this.form, this.props.meta)\n    }\n\n    if (typeof errorHandlerFunction === 'function'\n      && !deepEqual(errorsMap, this.state.errors)\n    ) {\n      const errors = cloneDeep(errorsMap);\n      errorHandlerFunction(mapErrorObjectToUIFormat(errors))\n      this.setState({ errors })\n    }\n  }\n\n  getAllFormsData = () => {\n    // TODO: investigate realisation with this.data\n    // this.data contains related data but there no all changes\n    return getFormsData(formsStorage)\n  }\n\n  getCalledMethod = () => {\n    const { methods = {} } = this.props\n    return methods\n  }\n\n  getAPICalls = () => {\n    const { apiCalls = {} } = this.props\n    return apiCalls\n  }\n\n  onDataChanged = undefined;\n\n  render () {\n    const {childBefore, childAfter, form, embedded, className, style, translate, parent} = this.props\n    const { key, isPopupOpen, togglePopupState, popupTitle, popupContent } = this.state\n\n    const content = this.hasData && this.hasMeta &&\n      <Render\n        key={key}\n        data={this.data}\n        {...this.meta}\n        form={this.form || parent.form}\n        instance={parent || this}\n        translate={translate}\n        onDataChanged={this.onDataChanged}\n      />\n    const Container = embedded ? Fragment : ScrollView\n    const props = embedded ? undefined : {\n      fill: true,\n      className: cn('ui__render fade-in bg-neutral', className),\n      style,\n    }\n\n    if (parent) {\n      return <Container {...props}>\n        {childBefore}\n        {(form && !embedded) ? <form onSubmit={this.handleSubmit} {...form}>{content}</form> : content}\n        {childAfter}\n      </Container>\n    }\n\n    return (\n      <PopupContext.Provider value={{ isOpen: isPopupOpen, togglePopupState, title: popupTitle, content: popupContent }}>\n        <Container {...props}>\n          {childBefore}\n          {(form && !embedded) ? <form onSubmit={this.handleSubmit} {...form}>{content}</form> : content}\n          {childAfter}\n          <Popup />\n          <OldPopup />\n        </Container>\n      </PopupContext.Provider>\n    )\n  }\n}\n\nconst UIRenderWithUISetup = withUISetup({subscription: {pristine: true, valid: true, values: true, touched: true}})(UIRender)\nexport default UIRenderWithUISetup\n\nActive.UIRender = UIRender\n\n/**\n * Transform *_meta.json API response into custom rules applied by the team\n */\nexport function transformConfig (meta) {\n  return toOpenLConfig(sanitizeResponse(meta || {}, {tags: []}))\n}\n\nexport function toOpenLConfig (meta) {\n  if (isObject(meta)) {\n    const {view} = meta\n\n    // Apply default Dropdown config if onChange is not defined\n    if ((view === FIELD.TYPE.DROPDOWN || view === FIELD.TYPE.SELECT) && meta.name != null && meta.onChange == null) {\n      if (view === FIELD.TYPE.DROPDOWN) {\n        meta.onChange = FIELD.ACTION.SET_STATE + ',' + meta.name\n      }\n      // if (meta.value == null) meta.value = {name: `{state.${meta.name},0}`}\n      if (meta.options != null) {\n        if (isString(meta.options)) meta.options = {name: meta.options}\n        if (isObject(meta.mapOptions)) {\n          if (meta.mapOptions.value == null) meta.mapOptions.value = '{index}'\n        } else {\n          meta.mapOptions = {\n            text: meta.mapOptions, // if not defined, will default to given option value\n            value: '{index}', // always enforce using index\n          }\n        }\n      }\n    }\n\n    // Add Table Expand to first column if `renderItem` defined, but `renderCell` is undefined\n    else if (view === FIELD.TYPE.TABLE && meta.renderItem != null) {\n      const firstHeader = get(meta.headers, '[0]')\n      if (isObject(firstHeader) && firstHeader.renderCell == null) {\n        firstHeader.renderCell = {\n          view: FIELD.TYPE.EXPAND,\n          name: '{value}',\n          index: '{index}',\n          onClick: 'handleItemExpand',\n        }\n      }\n    }\n  }\n\n  for (const key in meta) {\n    const val = meta[key] // need to also transform Tabs.items collection of objects, which have no `view`\n    if (isList(val) || (isObject(val) && (val.view || val.content || val.id))) {\n      meta[key] = toOpenLConfig(val)\n    }\n\n    // Convert `styles` attribute to `className`\n    else if (key === 'styles') {\n      meta.className = val\n      delete meta[key]\n    }\n\n    // @deprecated: Convert `format` attribute to `normalize` (previously used redux-form)\n    // else if (key === 'format') {\n    //   meta.normalize = val\n    //   delete meta[key]\n    // }\n  }\n\n  return meta\n}\n\n/**\n * Decorator to extend UI Render instance with nested Data component interface\n */\nexport function withDataKind (Class) {\n  Class.prototype.getDataKindByRelativePath = function (dataJson) {\n    if (!this.dataKindPath) {\n      return dataJson\n    }\n\n    return get(dataJson, this.dataKindPath)\n  }\n\n  Class.prototype.getDataKindPath = function (relativePath, kind) {\n    const pathToData = `.dataKind.${kind}`\n    if (relativePath.includes(pathToData)) {\n      return relativePath.replace(pathToData, \"\")\n    }\n\n    return ''\n  }\n\n  // Register child instance from parent instance\n  Class.prototype.registerDataKind = function (instance, kind, index) {\n    if (!this.dataKind) this.dataKind = {}\n    if (!this.dataKind[kind]) this.dataKind[kind] = {}\n    this.dataKind[kind][index] = instance\n    this.dataKindPath = this.getDataKindPath(instance.props.meta.relativePath, kind)\n  }\n\n  // Unregister child instance from parent instance\n  Class.prototype.unregisterDataKind = function (instance, kind, index) {\n    if (!this.dataKind) {\n      this.dataKind = {}\n    }\n    if (this.dataKind[kind] && this.dataKind[kind][index]) {\n      delete this.dataKind[kind][index]\n    }\n  }\n\n  /**\n   * Retrieve current forms' values for given data kind, with fallback to data in state\n   * @param {String}kind - Data component kind\n   * @param {Number} [index] - Data component index\n   * @returns {Array|Object|Undefined} all forms values by index array, or form values for given index object, else undefined\n   */\n  Class.prototype.getDataKind = function (kind) {\n    const dataJson = this.state.data.json\n    const pathToDataKindArray = this.dataKindPath ? this.dataKindPath + '.dataKind.' + kind : 'dataKind.' + kind\n\n    return get(dataJson, pathToDataKindArray, [])\n  }\n\n  return Class\n}\n\n/**\n * React Class Decorator to setup UI with necessary variables and function definitions\n * @usage:\n *    - this.data -> *_data.json from state, ready for <Render> component consumption\n *    - this.meta -> transformed *_meta.json data from state, ready for <Render> component consumption\n *    - this.handleSubmit:\n *        1. final-form: to be used like this <form onSubmit={this.handleSubmit}>\n *    - this.hasData and this.hasMeta getters can be used for conditional check\n *    - Initialize with data by overriding initial state\n */\nexport function withUISetup (formConfig) {\n  return function Decorator (Class) {\n    const componentWillUnmount = Class.prototype.componentWillUnmount\n    const UNSAFE_componentWillMount = Class.prototype.UNSAFE_componentWillMount\n    const UNSAFE_componentWillUpdate = Class.prototype.UNSAFE_componentWillUpdate\n    const UNSAFE_componentWillReceiveProps = Class.prototype.UNSAFE_componentWillReceiveProps\n    withDataKind(Class)\n\n    // @Note: the state shape is used for reference only, it is not instantiated\n    Class.prototype.state = {\n      data: {\n        json: undefined, // data object\n        name: undefined, // file name\n      },\n      meta: {\n        json: undefined, // data object\n        name: undefined, // file name\n      },\n    }\n\n    const callOnDataChanged = (props) => {\n      if (props\n        && props.instance\n        && props.instance.props\n        && props.instance.props.parent\n        && typeof props.instance.props.parent.onDataChanged === 'function'\n      ) {\n        props.instance.props.parent.onDataChanged()\n      }\n    }\n\n    // Define instance getter\n    Object.defineProperty(Class.prototype, 'config', {\n      get () {\n        const data = this.data\n        const {form, parent, index} = this.props\n        // Download file from URL\n        FIELD.FUNC[FIELD.ACTION.DOWNLOAD] = (...args) => {\n          // The first argument can be Button Event\n          if (typeof args[0] === 'object') args.shift()\n          const [fileName] = args\n          const { downloadFile } = this.getAPICalls();\n          if (typeof downloadFile !== 'function') {\n            return false;\n          }\n          downloadFile(fileName)\n            .then(response => response.blob())\n            .then(downloadFileProcessing(fileName))\n            .catch(err => this.popupAlert(err, _.DOWNLOAD_FAILED_))\n        }\n        // File upload\n        FIELD.FUNC[FIELD.ACTION.UPLOAD] = async (files, path, dropzoneRef) => {\n          const { uploadFile } = this.getAPICalls()\n          const [file] = files\n          if (file && typeof uploadFile === 'function') {\n            const data = this.getAllFormsData();\n            delete data[path];\n            try {\n              const response = await uploadFile(JSON.stringify(data), file)\n              const normalizedResponse = normalizeIncomingData(response)\n              dropzoneRef.fileInputEl.value = null\n              this.setState({\n                data: {\n                  json: normalizedResponse\n                }\n              }, () => {\n                this.setState({key: new Date()})\n                this.form.restart(normalizedResponse)\n              })\n            } catch (error) {\n              console.error(error)\n            }\n          }\n        }\n        // Add current Form values to parent UI Render instance.state\n        FIELD.FUNC[FIELD.ACTION.ADD_DATA] = (parent && form)\n          ? () => {\n            // Call form submit to run validation\n            if (!this.canSave) return this.handleSubmit()\n            const registeredValues = this.registeredValues\n            // Add directly to data.json, to keep all data patterns consistent, and to enable backend override.\n            // And store a copy in state for rehydration when backend updates response without added data.\n            const {data} = parent.state\n            const dataKindPath = parent.dataKindPath ? `${parent.dataKindPath}.dataKind` : 'dataKind'\n            const dataKind = get(data.json, dataKindPath)\n            dataKind[form.kind] = [...dataKind[form.kind] || [], registeredValues]\n            const parentForm = this.props.parent.props.instance.form\n            parentForm.mutators.push(`${dataKindPath}.${form.kind}`, registeredValues)\n            this.form.restart()\n          }\n          : dataActionWarning\n        // Remove current Form values from parent UI Render instance.state\n        FIELD.FUNC[FIELD.ACTION.REMOVE_DATA] = (parent && form)\n          ? () => {\n            const {data} = parent.state\n            const dataKindPath = parent.dataKindPath ? `${parent.dataKindPath}.dataKind` : 'dataKind'\n            const dataKind = get(data.json, dataKindPath)\n            const array = [...dataKind[form.kind] || []]\n            array.splice(index, 1)\n            dataKind[form.kind] = array\n            const parentForm = this.props.parent.props.instance.form\n            parentForm.mutators.remove(`${dataKindPath}.${form.kind}`, index)\n          }\n          : dataActionWarning\n\n        // Popup Content Opening\n        FIELD.FUNC[FIELD.ACTION.POPUP_OPEN] = (...args) => {\n          // The first argument can be Button Event\n          if (typeof args[0] === 'object') args.shift()\n          // noinspection JSCheckFunctionSignatures\n          const [id, options] = args\n          const {[id]: {content, title = '', ...props} = {}} = this.popupById || {}\n          popupAlert(title, content, {...props, ...options})\n        }\n\n        // this.data is not updated dynamically at the moment\n        // Implemented as temporary solution\n        FIELD.FUNC[FIELD.ACTION.UPDATE_DATA_ON_CHANGE] = (value, ...params) => {\n          if (typeof value !== 'object' && Array.isArray(params)) {\n            const { name } = params[0];\n            if (name) {\n              replaceDeep(this.data, name, value)\n              this.data = cloneDeep(this.data);\n            }\n          }\n        }\n\n        FIELD.FUNC[FIELD.ACTION.ON_APPLY_PERIODS] = async () => {\n          const { updateExperienceData } = this.getAPICalls();\n          if (typeof updateExperienceData !== 'function') {\n            return false;\n          }\n          const data = this.getAllFormsData();\n\n          try {\n            const response = await updateExperienceData(data)\n            const normalizedResponse = normalizeIncomingData(response)\n            this.setState({\n              data: {\n                json: normalizedResponse\n              }\n            }, () => {\n              this.form.restart(normalizedResponse)\n            })\n          } catch (error) {\n            let message = error\n            // Fix to get error message from Response object\n            if (error instanceof Response) {\n              const reader = error.body.getReader();\n\n              while (true) {\n                const { done, value } = await reader.read();\n                if (done) {\n                  return;\n                }\n                const b64 = Buffer.from(value).toString('base64');\n                const jsonStr = atob(b64).replace(/(\\w+:)|(\\w+ :)/g, function(s) {\n                  return '\"' + s.substring(0, s.length-1) + '\":';\n                });\n                const responseBody = JSON.parse(jsonStr);\n                message = responseBody;\n                if (responseBody.message) {\n                  message = responseBody.message\n\n                  if (/message=(.*)errors.*/.test(message)) {\n                    const subMessage = message.match(/message=(.*)errors.*/)[1]\n                    if (subMessage) {\n                      message = subMessage\n                    }\n                  }\n                }\n              }\n            }\n\n            // const popup = usePopup()\n            this.togglePopupState({\n              title: 'Error',\n              content: <Json data={{message}}/>\n            })\n\n            // this.popupAlert({ message }, 'Error')\n            console.error(error)\n          }\n        }\n\n        FIELD.METHODS = this.getCalledMethod()\n\n        // Cross UI Render instances validation\n        FIELD.VALIDATION[FIELD.CROSS_VALIDATE.NOT_WITHIN_RANGE] = (value, {dataKind, args: [start, end]}) => {\n          const {form, index, parent} = this.props\n          // Validate against self\n          const {[start]: _a, [end]: _b} = this.formValues\n          if (_a !== undefined && _b !== undefined) {\n            if (_a === _b) {\n              return `${start} and ${end} cannot be the same`\n            } else if (_a === value && _b < _a) {\n              return `${start} cannot be more than ${end}`\n            } else if (_b === value && _b < _a) {\n              return `${end} cannot be less than ${start}`\n            }\n          }\n          // Retrieve current state from all Forms, with fallback to parent instance.state\n          const valuesBy = parent.getDataKind(dataKind) // this only includes values in `data.dataKind` state\n          const ranges = []\n          const thisIndex = form.kind === dataKind ? String(index) : null\n          for (const i in valuesBy) {\n            if (i === thisIndex) continue\n            const {[start]: a, [end]: b} = valuesBy[i]\n            ranges.push([a, b])\n          }\n\n          // Validate against overlap\n          if (_a && _b) {\n            // TODO: review this logic\n            const range = ranges.find((([a, b]) => _a < a && b < _b))\n            const error = ranges.find(([start, end]) => start <= value && value <= end)\n\n            if (range || error) {\n              return `Periods cannot overlap`\n            }\n          }\n\n          return undefined\n        }\n        FIELD.FUNC[FIELD.ACTION.RESET] = this.resetForm.bind(this)\n        FIELD.FUNC[FIELD.ACTION.SET_STATE] = this.setStates.bind(this)\n        FIELD.FUNC[FIELD.ACTION.FETCH] = fetch\n        FIELD.FUNC[FIELD.ACTION.POPUP] = this.popupAlert\n        FIELD.FUNC[FIELD.ACTION.POPUP_DELAY] = delayed(this.popupAlert)\n        FIELD.FUNC[FIELD.ACTION.SUBMIT] = this.submit\n\n        return {\n          data,\n          form: this.form,\n          instance: this,\n          funcConfig: {\n            data,\n            fieldFunc: {...FIELD.FUNC}, // bind definition to this instance\n            fieldNormalizer: {...FIELD.NORMALIZER},\n            fieldParser: {...FIELD.PARSER},\n            fieldValidation: {...FIELD.VALIDATION},\n            fieldMethods: {...FIELD.METHODS},\n          }\n        }\n      }\n    })\n\n    // Define instance getter\n    Object.defineProperty(Class.prototype, 'data', {\n      get () {\n        return get(this.state, 'data.json')\n      },\n      set (value) {\n        return this.setState(set(this.state, 'data.json', value))\n      }\n    })\n\n    // Define instance getter\n    Object.defineProperty(Class.prototype, 'meta', {\n      get () {\n        if (this._meta != null) return this._meta\n        return this._meta = metaToProps(transformConfig(cloneDeep(get(this.state, 'meta.json'))), this.config)\n      },\n      set (value) {\n        return this._meta = value\n      }\n    })\n\n    // Define instance method\n    // Update data.json\n    Class.prototype.dataUpdate = function (value) {\n      return this.setState(set(this.state, 'data.json', value))\n    }\n\n    // Define instance method\n    // Update meta.json\n    Class.prototype.metaUpdate = function (value) {\n      return this.setState(set(this.state, 'meta.json', value))\n    }\n\n    // Define instance getter\n    Object.defineProperty(Class.prototype, 'hasData', {\n      get () {\n        return this.data != null\n      },\n    })\n\n    // Define instance getter\n    Object.defineProperty(Class.prototype, 'hasMeta', {\n      get () {\n        return !isEmpty(this.meta)\n      },\n    })\n\n    // Define instance method\n    // @Note: functions should have consistent pattern of receiving important arguments first,\n    // followed by optional arguments.\n    // Positional arguments was chosen instead of keyword arguments because\n    // it provides more flexibility and separation of concerns between different configs.\n    Class.prototype.setStates = function (value, keyPath) {\n      return this.setState(set(this.state, keyPath, value))\n    }\n\n    // Define instance method\n    Class.prototype.resetForm = function () {\n      this.form.reset()\n    }\n\n    // Define instance method\n    Class.prototype.popupAlert = function (content, title) {\n      return popupAlert(title, <Json data={content}/>)\n    }\n\n    Class.prototype.componentWillUnmount = function (nextProps, nextState) {\n      const {parent, form, index} = this.props\n      if (parent && index != null) parent.unregisterDataKind(this, form.kind, index)\n      if (componentWillUnmount) componentWillUnmount.apply(this, arguments)\n    }\n\n    Class.prototype.UNSAFE_componentWillMount = function (nextProps, nextState) {\n      // Wrap form.submit with HOC to extract nested form values before submission\n      this.submit = (...args) => {\n        const {dataKind} = this.formValues\n        for (const kind in dataKind) {\n          dataKind[kind] = this.getDataKind(kind).map((v, index) => isEmpty(v) ? dataKind[kind][index] : v)\n        }\n        return this.form.submit(...args)\n      }\n\n      const {parent, form, index} = this.props\n\n      if (parent && index != null) {\n        parent.registerDataKind(this, form.kind, index)\n      }\n      if (UNSAFE_componentWillMount) {\n        UNSAFE_componentWillMount.apply(this, arguments)\n      }\n    }\n\n    Class.prototype.UNSAFE_componentWillUpdate = function (nextProps, nextState) {\n      if (this.state !== nextState) this.meta = null // update changes by UI interactions (i.e. Dropdown onChange)\n      if (UNSAFE_componentWillUpdate) UNSAFE_componentWillUpdate.apply(this, arguments)\n    }\n\n    Class.prototype.UNSAFE_componentWillReceiveProps = function (next, _) {\n      const {data, meta} = this.props\n      if (next.data != null && next.data !== data) this.dataUpdate(next.data) // external API changes\n      if (next.meta != null && next.meta !== meta) this.metaUpdate(next.meta) // external API changes\n      if (UNSAFE_componentWillReceiveProps) UNSAFE_componentWillReceiveProps.apply(this, arguments)\n    }\n\n    return withForm(formConfig)(Class)\n  }\n}\n\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms))\n\nfunction delayed (func, delay = 2000) {\n  return async (...args) => {\n    await sleep(delay)\n    return func(...args)\n  }\n}\n\nconst dataActionWarning = (e) => warn('Missing parent UI Render instance to modify form values!', e)\n","/**\n * COMMON ACTION CONSTANTS =====================================================\n * =============================================================================\n */\nexport const SEPARATOR = ' -> '         // ACTION type separator string\nexport const RESULT_SEPARATOR = '_'     // RESULT type separator string\nexport const SYSTEM = 'SYSTEM'          // Internal app action subject\n\n/* CRUD Actions */\nexport const GET = 'GET'             \t\t// Retrieving data\nexport const CREATE = 'CREATE'          // Posting new data to backend\nexport const UPDATE = 'UPDATE'          // For saving remote API data (e.g. syncing with backend)\nexport const DELETE = 'DELETE'          // Destroying data from backend\nexport const LIST = 'LIST'            \t// Retrieving list of data\n\n/* State Only Actions */\nexport const SET = 'SET'             \t\t// For saving non-API data in state\nexport const RESET = 'RESET'\nexport const REFRESH = 'REFRESH'\nexport const HYDRATE = 'HYDRATE'        // For Hydrating Redux Store\nexport const LOGIN = 'LOGIN'\nexport const LOGOUT = 'LOGOUT'\nexport const LOAD = 'LOAD'\nexport const ALERT = 'ALERT'           \t// For broadcasting a resource\nexport const SAVE = 'SAVE'            \t// For triggering persistence of a resource\nexport const EDIT = 'EDIT'\nexport const OPEN = 'OPEN'\nexport const CLOSE = 'CLOSE'\nexport const SEARCH = 'SEARCH'          // For searching for a resource\nexport const SUBMIT = 'SUBMIT'          // For triggering submission of a resource\nexport const ADD = 'ADD'             \t\t// For adding a resource\nexport const APPLY = 'APPLY'            // For administering a resource\nexport const CHANGE = 'CHANGE'          // For changing state\nexport const REMOVE = 'REMOVE'          // For removing state\nexport const REPORT = 'REPORT'       \t\t// For broadcasting a resource\nexport const PREFETCH = 'PREFETCH'      // For pre-loading resources\nexport const PRESET = 'PRESET'\t\t\t\t\t// For preparing a resource\nexport const PRE_ADD = 'PRE_ADD'\t\t\t\t// For preparing a resource\nexport const PRE_REMOVE = 'PRE_REMOVE'\t// For preparing a resource\nexport const SELECT = 'SELECT'      \t\t// For picking a resource\nexport const TOGGLE = 'TOGGLE'      \t\t// For switching between states\n\n/* App Specific Actions */\n\n/* Action Result Types */\nexport const START = 'START'\nexport const CANCEL = 'CANCEL'\nexport const FINISH = 'FINISH'\nexport const RECEIVED = 'RECEIVED'\nexport const VOID = 'VOID'            \t// No response at all\n\n/* Socket Actions */\nexport const SEND = 'SEND'\nexport const SUBSCRIBE = 'SUBSCRIBE'\nexport const UNSUBSCRIBE = 'UNSUBSCRIBE'\n\n/* Socket Network Action Result Types */\nexport const CONNECTED = 'CONNECTED'\nexport const DISCONNECTED = 'DISCONNECTED'\nexport const MESSAGE = 'MESSAGE'\n\n/* API Network Action Result Types */\nexport const REQUEST = 'REQUEST'\nexport const SUCCESS = 'SUCCESS'\nexport const ERROR = 'ERROR'\nexport const TIMEOUT = 'TIMEOUT'\n\nexport const ALL_ACTIONS = [\n\tMESSAGE,\n\tGET,\n\tCREATE,\n\tUPDATE,\n\tDELETE,\n\tLIST,\n\tSET,\n\tRESET,\n\tREFRESH,\n\tHYDRATE,\n\tEDIT,\n\tLOGIN,\n\tLOGOUT,\n\tLOAD,\n\tSAVE,\n\tCLOSE,\n\tOPEN,\n\tSUBMIT,\n\tSEARCH,\n\tADD,\n\tAPPLY,\n\tALERT,\n\tCHANGE,\n\tREMOVE,\n\tREPORT,\n\tPREFETCH,\n\tPRESET,\n\tPRE_ADD,\n\tPRE_REMOVE,\n\tSELECT,\n\tTOGGLE,\n]\n\nexport const ALL_RESULTS = [\n\tSTART,\n\tCANCEL,\n\tFINISH,\n\tREQUEST,\n\tSUCCESS,\n\tERROR,\n\tTIMEOUT,\n\tRECEIVED,\n\tVOID,\n]\n\n/* Key Codes */\nexport const KEY = {\n  UNDEFINED: -1,\n  LEFT_CLICK: 0,\n  MIDDLE_CLICK: 1,\n  RIGHT_CLICK: 2,\n\n  // @see: https://github.com/kabirbaidhya/keycode-js/blob/master/dist/keycode.cjs.js\n  CANCEL: 3,\n  HELP: 6,\n  BACK_SPACE: 8,\n  TAB: 9,\n  CLEAR: 12,\n  RETURN: 13,\n  SHIFT: 16,\n  CONTROL: 17,\n  ALT: 18,\n  PAUSE: 19,\n  CAPS_LOCK: 20,\n  ESCAPE: 27,\n  SPACE: 32,\n  PAGE_UP: 33,\n  PAGE_DOWN: 34,\n  END: 35,\n  HOME: 36,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  PRINTSCREEN: 44,\n  INSERT: 45,\n  DELETE: 46,\n  LEFT_CMD: 91,\n  RIGHT_CMD: 92,\n\n  // Alphanumeric\n  _0: 48,\n  _1: 49,\n  _2: 50,\n  _3: 51,\n  _4: 52,\n  _5: 53,\n  _6: 54,\n  _7: 55,\n  _8: 56,\n  _9: 57,\n  A: 65,\n  B: 66,\n  C: 67,\n  D: 68,\n  E: 69,\n  F: 70,\n  G: 71,\n  H: 72,\n  I: 73,\n  J: 74,\n  K: 75,\n  L: 76,\n  M: 77,\n  N: 78,\n  O: 79,\n  P: 80,\n  Q: 81,\n  R: 82,\n  S: 83,\n  T: 84,\n  U: 85,\n  V: 86,\n  W: 87,\n  X: 88,\n  Y: 89,\n  Z: 90,\n}\n\n/* Distance */\nexport const ONE_MM = 1\nexport const ONE_CM = 10 * ONE_MM\nexport const ONE_METER = 1000 * ONE_MM\nexport const ONE_KM = 1000 * ONE_METER\nexport const ONE_INCH = 25.4 * ONE_MM\nexport const ONE_FOOT = 304.8 * ONE_MM\nexport const ONE_YARD = 914.4 * ONE_MM\nexport const ONE_MILE = 1609344 * ONE_MM\n\n/* Formats */\nexport const FORMAT_TIME = 'YYYY-MM-DD hh:mm:ss'\nexport const FORMAT_TIME_FOR_HUMAN = 'ddd, D MMM - hh:mm a'\nexport const FORMAT_DATE = 'DD.MM.YYYY'\nexport const FORMAT_DATE_ISO = 'YYYY-MM-DD'\nexport const FORMAT_HH_MM = 'HH[:]mm'\nexport const FORMAT_DD_MMM = 'D MMM'\nexport const FORMAT_DD_MMM_YYYY = 'D MMM, YYYY'\nexport const FORMAT_MMM_YYYY = 'MMM YYYY'\n\n/* Placeholders */\nexport const ID = '{ID}'\n\n/* Size */\nexport const SIZE_KB = 1024\nexport const SIZE_MB = SIZE_KB * 1024\nexport const SIZE_MB_2 = SIZE_MB * 2\nexport const SIZE_MB_4 = SIZE_MB * 4\nexport const SIZE_MB_5 = SIZE_MB * 5\nexport const SIZE_MB_6 = SIZE_MB * 6\nexport const SIZE_MB_8 = SIZE_MB * 8\nexport const SIZE_MB_10 = SIZE_MB * 10\nexport const SIZE_MB_16 = SIZE_MB * 16\n\n/* Storage Keys */\nexport const UI_STATE = 'UI_STATE'\n\n/* Time */\nexport const TIME_DURATION_INSTANT = 200\nexport const NOW = Date.now()\nexport const ONE_MILLISECOND = 1\nexport const HALF_SECOND = 500\nexport const HALF_MINUTE = HALF_SECOND * 60\nexport const HALF_HOUR = HALF_MINUTE * 60\nexport const ONE_SECOND = 1000\nexport const ONE_MINUTE = ONE_SECOND * 60\nexport const ONE_HALF_SECONDS = 1500\nexport const ONE_HOUR = ONE_MINUTE * 60\nexport const ONE_DAY = ONE_HOUR * 24\nexport const ONE_WEEK = ONE_DAY * 7\nexport const ONE_MONTH = ONE_DAY * 30\nexport const ONE_YEAR = ONE_DAY * 365\nexport const TWO_SECONDS = ONE_SECOND * 2\nexport const TWO_MINUTES = ONE_MINUTE * 2\nexport const TWO_DAYS = ONE_DAY * 2\nexport const TWO_WEEKS = ONE_WEEK * 2\nexport const TWO_MONTHS = ONE_MONTH * 2\nexport const THREE_SECONDS = ONE_SECOND * 3\nexport const THREE_MINUTES = ONE_MINUTE * 3\nexport const FIVE_SECONDS = ONE_SECOND * 5\nexport const FIVE_MINUTES = ONE_MINUTE * 5\nexport const FIVE_HOURS = ONE_HOUR * 5\nexport const SEVEN_SECONDS = ONE_SECOND * 7\nexport const SEVEN_MINUTES = ONE_MINUTE * 7\nexport const TEN_SECONDS = ONE_SECOND * 10\nexport const TEN_MINUTES = ONE_MINUTE * 10\nexport const THIRTY_SECONDS = ONE_SECOND * 30\nexport const THIRTY_MINUTES = ONE_MINUTE * 30\nexport const FIFTEEN_MINUTES = ONE_MINUTE * 15\nexport const FORTY_SECONDS = ONE_SECOND * 40\nexport const HUNDRED_SECONDS = ONE_SECOND * 100\nexport const HUNDRED_MINUTES = ONE_MINUTE * 100\n\n/* Mappings */\nexport const CRYPTO = {         // mapped for cryptoSign() and cryptoHash()\n\tHMAC_SHA256: 'sha256',\n\tHMAC_SHA384: 'sha384',\n\tHMAC_SHA512: 'sha512',\n\tMD5: 'md5',\n}\n\n/**\n * Language Definition\n * @see: https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes\n * @note: sync with Google standard https://developers.google.com/maps/faq#languagesupport\n *    - Correct syntax for <html lang=\"zh-CN\"> uses hyphen, including Google API,\n *\t\thowever, GraphQL name, database tables and many backends only accept undersacore.\n *\t\t=> Use _ for better compatibility between systems.\n */\nexport const LANGUAGE = {\n\tENGLISH:    {_: 'en', lang: 'English',       'en': 'English'},\n\tRUSSIAN:    {_: 'ru', lang: 'Русский',       'en': 'Russian'},\n\tCHINESE:    {_: 'zh_CN', lang: '中文 (中国)', 'en': 'Chinese (Simplified)'},\n\tCHINESE_HK: {_: 'zh_HK', lang: '中文 (香港)', 'en': 'Chinese (Hong Kong)'},\n\tCHINESE_TW: {_: 'zh_TW', lang: '中文 (台灣)', 'en': 'Chinese (Traditional)'},\n\tGERMAN:     {_: 'de', lang: 'Deutsch',       'en': 'German'},\n\tSPANISH:    {_: 'es', lang: 'Español',       'en': 'Spanish'},\n\tITALIAN:    {_: 'it', lang: 'Italiano',      'en': 'Italian'},\n\tPORTUGUESE: {_: 'pt', lang: 'Português',     'en': 'Portuguese'},\n\tDUTCH:      {_: 'nl', lang: 'Nederlands',    'en': 'Dutch'},\n\tFRENCH:     {_: 'fr', lang: 'Français',      'en': 'French'},\n\tSWEDISH:    {_: 'sv', lang: 'Svenska',       'en': 'Swedish'},\n\tFINNISH:    {_: 'fi', lang: 'Suomi',         'en': 'Finnish'},\n\tGREEK:      {_: 'el', lang: 'Ελληνικά',      'en': 'Greek'},\n\tKOREAN:     {_: 'ko', lang: '한국어',          'en': 'Korean'},\n\tJAPANESE:   {_: 'ja', lang: '日本語',         'en': 'Japanese'},\n\tHEBREW:     {_: 'he', lang: 'עִבְרִית',         'en': 'Hebrew'},\n\tPERSIAN:    {_: 'fa', lang: 'فارسی',         'en': 'Persian'},\n\tYIDDISH:    {_: 'yi', lang: 'ייִדיש',         'en': 'Yiddish'},\n\tARABIC:     {_: 'ar', lang: 'العَرَبِيَّة‎',    'en': 'Arabic'},\n\tAFRIKAANS:  {_: 'af', lang: 'Afrikaans',     'en': 'Afrikaans'},\n}\n\n/**\n * Object mapping of language to their code\n */\nexport const l = {\n\t...LANGUAGE // enable IDE suggestion\n}\nfor (const key in LANGUAGE) {\n\tl[key] = LANGUAGE[key]._\n}\n\n/**\n * Spoken Language Fluency Definition\n */\nexport const LANGUAGE_LEVEL = {\n\tUNKNOWN: {\n\t\t_: 0,\n\t\t[l.ENGLISH]: 'Unknown',\n\t},\n\tBASIC: {\n\t\t_: 1,\n\t\t[l.ENGLISH]: 'Beginner',\n\t},\n\tWORKING: {\n\t\t_: 2,\n\t\t[l.ENGLISH]: 'Working',\n\t},\n\tPROFICIENT: {\n\t\t_: 3,\n\t\t[l.ENGLISH]: 'Proficient',\n\t},\n\tFLUENT: {\n\t\t_: 4,\n\t\t[l.ENGLISH]: 'Fluent',\n\t},\n\tNATIVE: {\n\t\t_: 5,\n\t\t[l.ENGLISH]: 'Native',\n\t},\n}\n\n/* Mappings */\nexport const SORT_ORDER = {\n\t0: 'sort',\n\t1: 'asc',\n\t[-1]: 'desc',\n}\n\n/* Characters */\nexport const PLUS = '✛'\nexport const MINUS = '╍'\nexport const DOT = '•'\nexport const CROSS = '✕'\nexport const CROSSMARK = '❌'\nexport const CHECK = '✓'\nexport const CHECKBOX = '✅'\nexport const CLOVER = '☘'\nexport const RECYCLE = '♻️'\nexport const HEART = '♥'\nexport const HEART_EXCLAMATION = '❣'\nexport const SPARKLES = '✨'\nexport const THUNDER = '⚡'\nexport const FIREWORK = '💥'\nexport const ROCKET = '🚀'\nexport const BLOCK = '🚷'\nexport const CHICKEN = '🐣'\nexport const SKULL = '☠'\nexport const WARN = '✋'\nexport const WORKER = '👷'\n\n/*\n * Special Characters Reference for Documentation Use\n * ┌───┬───────────────────────────────────────────────────────────────────────┐\n * │ 1 │     ╭ ─ ╮                                                             │\n * │   │     │ 5 │                                                             │\n * │ 2 │     ╰ ─ ╯                                                             │\n * ├───┼───────────────────────────────────────────────────────────────────────┤\n * │ 3 │                                                                       │\n * └───┴───────────────────────────────────────────────────────────────────────┘\n *     ├─┬─> A ⟶ B\n *     │ ├─> A ⟵ B\n *     │ └─> C ⟶ B\n *     │\n *     └─┬─> C ⟶ D\n *       └─> C ⟵ D\n *                               Time\n *                                │\n *    Start someFunctionName() -> ├───> Action A (start) ─────┐\n *                                ├───> Action B (start) ───────┐\n *                                │                           │ │\n *     Call someFunctionName() -> │╭ ──── Action A (end) ─────┘ │\n *     (dispatch new actions)     │╰ ─> Action C (start) ──────────┐\n *                                │                             │  │\n *                                │                             │  │\n *     Call someFunctionName() -> │╭ ── Action D <─ User Input  │  │\n *     (dispatch new actions)     │╰ ─> Action E (start) ─────────────┐\n *                                │                             │  │  │\n *                                │                             │  │  │\n *     Call someFunctionName() -> │  <─── Action B (end) ───────┘  │  │\n *   (no more actions, wait...)   │  <─── Action C (end) ──────────┘  │\n *                                │                                   │\n *      End someFunctionName() -> │  <─── Action E (end) ─────────────┘\n *                                │\n*/\n","import dotProp from 'dot-prop-immutable'\nimport flatten from 'flat'\nimport {\n\tcloneDeep,\n\tget,\n\tisEmpty,\n\tisEqual,\n\tisObjectLike,\n\tisPlainObject,\n\tmatches,\n\tmerge as _merge,\n\tproperty,\n\tsetWith,\n\tunset\n} from 'lodash-es'\nimport qs from 'querystring'\nimport { isCollection } from './array.js'\n\n/**\n * OBJECT FUNCTIONS ============================================================\n * =============================================================================\n */\n\n/**\n * Get The List of Class Instance Method Names\n * @param {Class} Class - to get methods names from\n * @returns {String[]} list - of all instance methods, including async (but excludes properties, and static methods)\n */\nexport function classInstanceMethodNames (Class) {\n\tconst [_, ...methodNames] = Object.getOwnPropertyNames(Class.prototype)\n\treturn methodNames\n}\n\n/**\n * Clone Object/Collection/Class\n */\nexport function clone (obj) {\n\treturn Object.assign(Object.create(Object.getPrototypeOf(obj)), obj)\n}\n\n/**\n * Delete Nested Property of an Object by given Key Path\n * @param {Object} obj - to delete property from\n * @param {String|*} path - key path to nested property for deletion\n * @returns {Boolean} return value of the `delete` keyword\n */\nexport function deleteProp (obj, path) {\n\tif (!obj || !path) return false\n\tif (typeof path === 'string') path = path.split('.')\n\tfor (let i = 0; i < path.length - 1; i++) {\n\t\tobj = obj[path[i]]\n\t\tif (typeof obj === 'undefined') return false\n\t}\n\treturn delete obj[path.pop()]\n}\n\n/**\n * Check if value provided is an Object with at least one attribute\n *\n * @param {*} obj - value to check\n * @returns {boolean} - true if value is an Object with value\n */\nexport function hasObjectValue (obj) {\n\treturn isObject(obj) && Object.keys(obj).length > 0\n}\n\n/**\n * Compare if two values are the same by converting them to JSON strings\n * @example:\n *    React.memo(func, isEqualJSON)\n *\n * @param {*} oldVal - to compare\n * @param {*} newVal - to compare\n * @returns {Boolean} true - if JSON string of given values are the same\n */\nexport function isEqualJSON (oldVal, newVal) {\n\treturn JSON.stringify(oldVal) === JSON.stringify(newVal)\n}\n\n/**\n * Checks if value is the language type of Object\n *\n * @uses lodash\n * @see https://lodash.com/docs/4.17.4#isPlainObject\n *\n * @param {*} value - any value to check\n * @return {boolean}\n */\nexport function isObject (value) {\n\treturn isPlainObject(value)\n}\n\n/**\n * List the keys and values of an object for iteration.\n * @Note: use for convenience only because it takes 0.5 microseconds per loop, which is:\n *    - x2-3 times longer than looping with `for (const key in obj) {...}` (0.2 microseconds),\n *    - x4-5 times longer than `forEach` or `for i++` loop using array (0.1 microseconds).\n *    => For performance, best to store list as array.\n *\n * @uses generator\n * @uses lodash\n * @see https://lodash.com/docs/#isObjectLike\n *\n * @example:\n for (const [key, value] of listProps(obj)) {\n   console.log(key, value);\n }\n *\n * @param {Object} obj - the object to list\n * @return {Object} generator's yielded value\n */\nexport function * listProps (obj) {\n\tif (!isObjectLike(obj)) {\n\t\treturn []\n\t}\n\n\tfor (const key of Object.keys(obj)) {\n\t\tyield [key, obj[key]]\n\t}\n}\n\n/**\n * Creates a new object that merges properties from all given objects. Properties from the right take precedence\n * over properties on the left\n * @Note: use update() for faster performance of x5 times (without cloneDeep) and x3 times (with cloneDeep)\n *\n * @param {Array|Object} objects - Objects to merge\n * @return {Object} - A new object\n */\nexport function merge (...objects) {\n\treturn _merge({}, ...objects)\n}\n\n/**\n * Compare Original Object vs. Changed Object and keep only changed values\n * @note: deleted props will output as `null` value\n *\n * @param {Object|Undefined|Null} original - to compare against\n * @param {Object|Undefined|Null} changed - object to keep changes\n * @returns {Object|Undefined|Null} changedOnly - new object with only changed values kept, or undefined if no changes\n */\nexport function objChanges (original, changed) {\n\t// clone so we can delete keys while iterating\n\toriginal = {...original}\n\tchanged = {...changed}\n\tfor (const field in changed) {\n\t\tif (isEqual(original[field], changed[field])) {\n\t\t\tdelete changed[field]\n\t\t} else {\n\t\t\t// Recursively check for nested field changes\n\t\t\tif (hasObjectValue(original[field]) && hasObjectValue(changed[field]))\n\t\t\t\tchanged[field] = objChanges(original[field], changed[field])\n\t\t}\n\t\tdelete original[field]\n\t}\n\tfor (const deleted in original) {\n\t\tchanged[deleted] = null\n\t}\n\treturn isEmpty(changed) ? undefined : changed\n}\n\n/**\n * Safely sets the provided value at the given path of an object, creating portions of the path if they don't exist.\n * Unless an optional customizer function is provided, arrays are created for missing index properties while objects\n * are created for all other missing properties.\n *\n * NOTE - This function mutates the provided 'object'\n *\n * @uses lodash\n * @see https://lodash.com/docs/4.17.4#set\n *\n * @param {Object} object - The object to modify\n * @param {String|String[]|Number|Number[]} path - The path in the given object to set the provided values\n * @param {*} value - The value to set\n * @param {Function} [customizer] - An optional function that specifies how to fill in a missing path\n * @returns {Object}\n */\nexport function set(object, path, value, customizer) {\n\treturn setWith(object, path, value, customizer)\n}\n\n/**\n * Similar to set() but returns copy of the object instead of mutating it\n * Note: may not work if the path contains space character, e.g. `path = 'items[key with space].isNotWorking'`\n *\n * @uses dot-prop-immutable\n * @see {@link https://github.com/debitoor/dot-prop-immutable} for further information\n *\n * @param {Object} object - The object to modify\n * @param {string} path - The path in the given object to set the provided values\n * @param {*} value - The value to set\n * @return {Object} - A new object\n */\nexport function setImmutably(object, path, value) {\n\t// Change into suitable format for dotProp eg. myArray[0].myProperty -> myArray.0.myProperty\n\tconst parsedPath = path\n\n\t\t// Remove brackets around strings (add a dot before it, except when bracket is the first character) ie. object[string] -> object.string\n\t\t.replace(/(\\[)(.*?)(\\])/g, (match, match1, match2, match3, offset) => (offset > 0 ? '.' : '') + String(match2))\n\n\treturn dotProp.set(object, parsedPath, value)\n}\n\n/**\n * Set Object to be given Payload recursively, by Mutation\n *\n * @example:\n reset({user: {name: 'Chris'}}, {user: {sign: 'scorpion'}})\n >>> {user: {sign: 'scorpion'}}\n *\n * @param {Object|Array} collection - collection to be reset\n * @param {Object} payload - the nested Object to update with\n * @return {Object|Array} - mutated collection that has properties of payload\n */\nexport function reset(collection, payload) {\n\tfor (const key in payload) {\n\t\tconst value = payload[key]\n\t\tif (isObject(value)) {\n\t\t\tcollection[key] = collection[key] ? reset(collection[key], value) : value\n\t\t} else {\n\t\t\tcollection[key] = value\n\t\t}\n\t}\n\n\tfor (const key in collection) {\n\t\tif (!payload[key]) delete collection[key]\n\t}\n\n\treturn collection\n}\n\n/**\n * Update Object with nested payload, keeping other attributes in the Object intact\n *\n * @example:\n update({user: {name: 'Chris'}}, {user: {sign: 'scorpion'}})\n >>> {user: {name: 'Chris', sign: 'scorpion'}}\n *\n * @param {Object|Array} state - collection to be updated\n * @param {Object|Array} payload - the nested Object to update with\n * @param {Boolean} [shouldCloneDeep] - whether to return new Object instead of mutating it\n * @param {Boolean} [deleteNull] - whether to remove `null` props instead of updating them\n * @return {Object|Array} - mutated/cloned Object with nested update\n */\nexport function update (state, payload, shouldCloneDeep = false, deleteNull = false) {\n\tif (shouldCloneDeep) state = cloneDeep(state)\n\n\tfor (const key in payload) {\n\t\tconst value = payload[key]\n\t\tif (value === null && deleteNull) {\n\t\t\tdelete state[key]\n\t\t} else if (isObject(value)) {\n\t\t\tstate[key] = state[key] ? update(state[key], value) : value\n\t\t} else {\n\t\t\tstate[key] = value\n\t\t}\n\t}\n\treturn state\n}\n\n/**\n * Check Recursively for Matching Object within Nested Object or Collection.\n *\n * @example:\n *   hasObjMatch([[[1, -1], [2, -2]]], [1, -1]);\n *   >>> true\n *\n * @param {*} obj - the collection to search for matching object\n * @param {*} searchObj - the matching object to find\n * @returns {boolean} - true if a match found.\n */\nexport function hasObjMatch(obj, searchObj) {\n\tfor (const key in obj) {\n\t\tif (!{}.hasOwnProperty.call(obj, key)) return\n\t\tconst value = obj[key]\n\n\t\tif (matches(searchObj)(value)) {\n\t\t\treturn true\n\t\t} else if (isObjectLike(value)) {\n\t\t\tconst nestedMatch = hasObjMatch(value, searchObj)\n\t\t\tif (nestedMatch) return true\n\t\t}\n\t}\n\n\treturn false\n}\n\n/**\n * Check if an Object has Provided Key Paths and Values.\n *\n * @example:\n *  const obj = {\n *    properties: {\n *      id: 7\n *    },\n *    type: 'DRAFT',\n *    coords: [[[1, -1], [2, -2]]]\n *  }\n *  hasObjKeys(obj, { 'properties.id': 7, 'coords': [1, -1] }, 'include');\n *  >>> true\n *\n * @param {*} obj - the object to check\n * @param {object} keys - key paths and values to match, e.g. { 'properties.id': 7, type: 'DRAFT' }\n * @param {String} match - one of comparison types ['deep', 'shallow', 'include'], default is `shallow`\n * @returns {boolean} - true if a match found.\n */\nexport function hasObjKeys(obj, keys = {}, match = 'deep') {\n\tfor (const key in keys) {\n\t\tconst value = keys[key]\n\t\tconst searchValue = get(obj, key)\n\n\t\t// Deep comparison\n\t\tif (match === 'deep') {\n\t\t\tif (searchValue !== value) return false\n\t\t} // eslint-disable-line\n\n\t\t// Shallow comparison\n\t\telse if (match === 'shallow') {\n\t\t\tif ((isObjectLike(searchValue) && !matches(value)(searchValue)) || searchValue != value) {\n\t\t\t\t// eslint-disable-line eqeqeq\n\t\t\t\treturn false\n\t\t\t}\n\t\t} // eslint-disable-line\n\n\t\t// Include comparison\n\t\telse if (match === 'include') {\n\t\t\tif (searchValue !== value && !isObjectLike(searchValue)) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tif (!matches(value)(searchValue)) {\n\t\t\t\tif (isObjectLike(searchValue)) return hasObjMatch(searchValue, value)\n\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t}\n\n\treturn true\n}\n\n/**\n * Get Reference to Object with Provided Key Paths and Values within Nested Object or Collection.\n *\n * @example:\n *  const obj = {\n *    id: 7,\n *    items: [\n *      {\n *        type: 'polygon',\n *        geoJSON: {\n *          properties: {\n *            id: 7\n *          },\n *          type: 'DRAFT',\n *          coords: [[[1, -1], [2, -2]]]\n *        }\n *      }\n *    ]\n *  }\n *  findObjByKeys(obj, { 'properties.id': 7, 'coords': [1, -1] }, 'include');\n *  >>> Object: {\n *    properties: {\n *      id: 7\n *    },\n *    type: 'DRAFT',\n *    coords: [[[1, -1], [2, -2]]]\n *  }\n *\n * @param {*} obj - the collection to search for matching object\n * @param {Object} keys - object with key paths and values to match, e.g. { 'properties.id': 7, type: 'DRAFT' }\n * @param {String} match - one of comparison types ['deep', 'shallow', 'include']\n * @returns {Object} - the matching object.\n */\nexport function findObjByKeys(obj, keys = {}, match = 'deep') {\n\tfor (const key in obj) {\n\t\tif (!{}.hasOwnProperty.call(obj, key)) return\n\t\tconst value = obj[key]\n\n\t\tif (!isObjectLike(value)) continue\n\n\t\tif (hasObjKeys(value, keys, match)) return value\n\n\t\tconst foundObj = findObjByKeys(value, keys, match)\n\t\tif (foundObj) return foundObj\n\t}\n}\n\n/**\n * Find all the objects which matches the the keys in the object.\n * @see findObjByKeys on usage details.\n * @param obj\n * @param keys\n * @param match\n * @returns {Array}\n */\nexport function findAllObjsByKeys(obj, keys = {}, match = 'deep') {\n\tconst result = []\n\t_findAllObjsByKeys(result, obj, keys, match)\n\treturn result\n}\n\n/**\n * Find all the objects with matching keys-values pairs in the Object or Collection.\n * @see findObjByKeys (which only returns a single matched object) on usage details.\n * The only usage difference from findObjByKeys is that the found objects are not in the return value.\n * This method populates the argument array 'foundObjs' with the found objects. This method has no return value.\n *\n * @param {Array} result - this is the return array. Pass in an empty array and it will be populated with the found objects\n * @param {Object} obj - Object or Collection to search from\n * @param {Object} keys - object with key paths and values to match, e.g. { 'properties.id': 7, type: 'DRAFT' }\n * @param {String} match - one of comparison types ['deep', 'shallow', 'include']\n */\nfunction _findAllObjsByKeys(result, obj, keys = {}, match = 'deep') {\n\tfor (const key in obj) {\n\t\tif (!{}.hasOwnProperty.call(obj, key)) return\n\t\tconst value = obj[key]\n\n\t\tif (!isObjectLike(value)) continue\n\n\t\tif (hasObjKeys(value, keys, match)) result.push(value)\n\n\t\t_findAllObjsByKeys(result, value, keys, match)\n\t}\n}\n\n/**\n * Flatten/Unflatten Nested Object Keys into Single Object with Dot Separated Keys\n */\nexport const toFlatObj = flatten\nexport const fromFlatObj = flatten.unflatten\n\n/**\n * Extract the value safely from an object via the keyPath and returns the value.\n * Removes that value's key from the passed object.\n *\n * @uses lodash\n * @see https://lodash.com/docs/4.17.1#get\n * @param {Object} obj - the object to get from and mutate\n * @param {string|Array} keyPath - the path to the desired value\n * @param {*} [fallback] - optional fallback value to return\n * @return {*}\n */\nexport function pop(obj, keyPath, fallback) {\n\tconst value = get(obj, keyPath) || null\n\tif (value) unset(obj, keyPath)\n\treturn value || fallback\n}\n\n/**\n * Delete Object property without mutating it, returning new Object without the deleted property\n *\n * @param {Object} obj - the Object to remove property from\n * @param {string} key - Object property to delete\n * @return {Object} - without the deleted key property\n */\nexport function removeKey (obj, key) {\n\tconst {[key]: _, ...rest} = obj // eslint-disable-line\n\treturn rest\n}\n\n/**\n * Recursively remove given list of keys from object or collection\n * @param {Object|Array} obj - or collection to remove keys from\n * @param {String[]} keys - list of keys to remove\n * @param {Boolean} [clone] - whether to return new object, defaults to mutating existing\n * @param {Boolean} [recursive] - whether to parse given obj recursively\n */\nexport function removeKeys (obj, keys, {clone = false, recursive = false} = {}) {\n\tconst data = clone ? cloneDeep(obj) : obj\n\tfor (const key in data) {\n\t\tif (keys.indexOf(key) >= 0) {\n\t\t\tdelete data[key]\n\t\t} else if (recursive && isCollection(data[key])) {\n\t\t\tdata[key] = removeKeys(data[key], keys, {recursive})\n\t\t}\n\t}\n\treturn data\n}\n\n/**\n * Remove Empty String value keys from given Collection by mutation\n * (For Array, Falsey values will be removed)\n *\n * @param {Object|Array} collection - to remove empty values\n * @param {Boolean} [recursive] - whether to remove empty values recursively\n * @return {Object|Array} - without empty strings\n */\nexport function removeEmptyValues (collection, {recursive = true} = {}) {\n\tfor (const key in collection) {\n\t\tif (collection[key] === '') {\n\t\t\tdelete collection[key]\n\t\t} else if (recursive && typeof (collection[key] || '') === 'object') {\n\t\t\tcollection[key] = removeEmptyValues(collection[key], { recursive })\n\t\t}\n\t}\n\n\treturn collection.constructor === Array ? collection.filter(v => v) : collection\n}\n\n/**\n * Remove Null/Undefined value keys from given Collection by mutation\n * (For Array, Falsey values will be removed)\n *\n * @param {Object|Array} collection - to remove nil values\n * @param {Boolean} [recursive] - whether to remove nil values recursively\n * @return {Object|Array} - without null or undefined keys\n */\nexport function removeNilValues (collection, {recursive = true} = {}) {\n\tfor (const key in collection) {\n\t\tif (collection[key] == null) {\n\t\t\tdelete collection[key]\n\t\t} else if (recursive && typeof collection[key] === 'object') {\n\t\t\tcollection[key] = removeNilValues(collection[key], {recursive})\n\t\t}\n\t}\n\n\treturn collection.constructor === Array ? collection.filter(v => v) : collection\n}\n\n/**\n * Remove items with truthy 'delete' properties from given Collection by mutation\n * (For Array, Falsey values will be removed)\n *\n * @param {Object|Array} collection - to remove deleted items from\n * @return {Object|Array} - without items with .delete keys\n */\nexport function removeDeletedItems(collection) {\n\tfor (const key in collection) {\n\t\t// Null is of type 'object' according to stupid JS specs\n\t\tif (typeof (collection[key] || '') !== 'object') continue\n\n\t\tif (collection[key].delete) {\n\t\t\tdelete collection[key]\n\t\t} else {\n\t\t\tcollection[key] = removeDeletedItems(collection[key])\n\t\t}\n\t}\n\n\treturn collection.constructor === Array ? collection.filter(v => v) : collection\n}\n\n/**\n * Remove GraphQL Tags and Null values from given Collection\n *  - Nullable values will be removed from Array\n *  - Commonly uneditable attributes listed in `tags` are deleted, see `GQL_HIDDEN_FIELDS` for example\n *\n * @param {Object|Array} collection - to remove graphql tags from\n * @param {Array} [tags] - list of tags to remove\n * @param {Boolean} [clone] - whether to clone the object before mutating\n * @return {Object|Array} - without graphql tags\n */\nexport function sanitizeResponse (collection, {tags = ['__typename'], clone = false} = {}) {\n\tconst result = clone ? cloneDeep(collection) : collection\n\n\tfor (const key in result) {\n\t\tif (tags.includes(key)) {\n\t\t\tdelete result[key]\n\t\t} else if (result[key] == null) {\n\t\t\tdelete result[key]\n\t\t} else if (typeof result[key] === 'object') {\n\t\t\tresult[key] = sanitizeResponse(result[key])\n\t\t}\n\t}\n\n\treturn result.constructor === Array ? result.filter(v => v != null) : result\n}\n\n/**\n * Sort Object Keys by given order, returning new Object with Keys sorted\n *\n * @param {Object} obj - to sort key attributes for\n * @param {String} order - enum, one of ['asc', 'desc']\n * @return {Object} - sorted by key attributes\n */\nexport function sortObjKeys(obj, order = 'asc') {\n\tconst result = {}\n\tObject.keys(obj)\n\t\t.sort(order === 'desc' ? sortObjKeys.descending : undefined)\n\t\t.forEach(key => {\n\t\t\tresult[key] = obj[key]\n\t\t})\n\treturn result\n}\n\nsortObjKeys.descending = (a, b) => {\n\tif (a < b) return 1\n\tif (a > b) return -1\n\treturn 0\n}\n\n/**\n * Swap Object's Keys with its Values\n *\n * @example:\n *    swapKeyWithValue({id: 1, name: Tom})\n *    >>> {1: 'id', 'Tom': name}\n *\n * @param {Object} obj - to swap keys with values\n * @returns {Object} - with key and values swapped\n */\nexport function swapKeyWithValue(obj) {\n\tconst result = {}\n\tfor (const key in obj) {\n\t\tresult[obj[key]] = key\n\t}\n\treturn result\n}\n\n/**\n * Compute the Total Number from Object Values\n * @example:\n *    toObjValuesTotal({'a': 1, 'b': 2})\n *    >>> 3\n *\n * @param {Object} obj - with nested values to calculate total for\n * @returns {number} total - value of object values\n */\nexport function toObjValuesTotal(obj) {\n\tlet sum = 0\n\tfor (const key in obj) {\n\t\tsum += obj[key]\n\t}\n\treturn sum\n}\n\n/**\n * Compute the Total Number from Object Values given Key Property\n * @example:\n *    toObjValuesKeyTotal({'a': {'count': 1}, 'b': {'count': 2}}, 'count')\n *    >>> 3\n *\n * @param {Object} obj - with nested values to calculate total for\n * @param {String} [key] - nested obj value key to extract amount for calculation\n * @returns {number} total - value of object values for given key property\n */\nexport function toObjValuesKeyTotal(obj, key = 'value') {\n\tlet sum = 0\n\tfor (const val in obj) {\n\t\tsum += obj[val][key]\n\t}\n\treturn sum\n}\n\n/**\n * Converts object properties to a query string\n *\n * @example\n toParams({ids: [1, 2]});\n >>> 'ids=1&ids=2'\n *\n * @param {Object} obj - the object to turn into a query string\n * @return {string}\n */\nexport function queryString(obj) {\n\treturn qs.stringify(obj)\n}\n\n// LODASH CLONES\n// -----------------------------------------------------------------------------\n\nexport {\n\tcloneDeep,\n\t/**\n\t * Search an object safely for a value via the keyPath and returns the value.\n\t *\n\t * @NOTE: this method is x10 times slower than Object property direct access\n\t *    - try and catch block is even slower\n\t *    - Object destructuring is much faster (more noticeable on big objects)\n\t *    => best to use Object destructuring with default fallback\n\t *\n\t * @uses lodash\n\t * @see https://lodash.com/docs/4.17.1#get\n\t * @param {Object} obj - the object to get the value from\n\t * @param {string|Array} keyPath - the path to the desired value\n\t * @param {*} [defaultValue] - The value returned for `undefined` resolved values\n\t * @return {*} the value at the keyPath\n\t */\n\tget,\n\n\t/**\n\t * Check if two Objects are Equal\n\t * @example:\n\t *    const a = [{ code: 'en' }, { code: 'ru' }]\n\t *    const b = [{ code: 'en' }, { code: 'ru' }]\n\t *    >>> isEqual(a, b)\n\t *    >>> true\n\t *\n\t * @uses lodash\n\t * @see https://lodash.com/docs/4.17.4#isEqual\n\t *\n\t * @param {Object} object - the object to compare against\n\t * @param {Object} object2 - the object to compare with\n\t * @return {boolean} - true or false\n\t */\n\t\tisEqual,\n\n\t/**\n\t * Checks if value is an empty object, collection, map or set\n\t *\n\t * @param {*} value - The value to check\n\t * @return {boolean} - Returns true if value is empty, else false\n\t */\n\t\tisEmpty,\n\n\t/**\n\t * Creates a function that returns the value at path of a given object\n\t *\n\t * @example\n\t *  [{ name: 'Neo', ... }, { name: 'Morpheus', ... }].map(property('name'))\n\t *  >>> ['Neo', 'Morpheus']\n\t *\n\t * @uses lodash\n\t * @see {@link https://lodash.com/docs/4.17.4#property} for further information\n\t *\n\t * @param {Array|string} path - The path of the property to get\n\t * @returns {Function} - Returns the new accessor function\n\t */\n\t\tproperty,\n\n\t/**\n\t * Removes the Property at Path of Object by Mutation\n\t *\n\t * @uses lodash\n\t * @see https://lodash.com/docs/4.17.4#unset\n\t *\n\t * @param {Object} object - to remove property from\n\t * @param {String|Array} path - of the property to unset.\n\t * @return {boolean} - whether the value was removed from object\n\t */\n\t\tunset,\n}\n","import { LANGUAGE } from './constants.js'\n\n/**\n * Environment Variables\n * @note: for Next.js, explicitly set variable on initialisation like so:\n *   import config from 'next/config'\n *   import { ENV } from 'ui-utils-pack'\n *\n *   Object.assign(ENV, config().publicRuntimeConfig)\n */\nexport let ENV = (typeof process !== 'undefined' && process.env) || {}\nexport const NODE_ENV = ENV.NODE_ENV // @Note: Next.js does not automatically add NODE_ENV, set inside next.config.js\nexport const __PROD__ = NODE_ENV === 'production'\nexport const __STAGE__ = NODE_ENV === 'stage'\nexport const __TEST__ = NODE_ENV === 'test'\nexport const __DEV__ = NODE_ENV === 'development'\nexport const __CLIENT__ = typeof window !== 'undefined'\nexport const __BACKEND__ = !__CLIENT__\nexport const __IOS__ = false\nexport const _INIT_ = __BACKEND__ && (__PROD__ || __STAGE__)\nexport const _SHOULD_SHOW_TEST_ = __DEV__\nexport const _WORK_DIR_ = typeof process !== 'undefined' ? process.cwd() : '.' // relative to root `index.js`\nexport const UNDEFINED = (Undefined => Undefined)()\n\n/* Globally Accessible Objects */\nexport const Active = {\n  // will be overridden at runtime, used for avoiding circular import and env-dependent libraries\n  DEFAULT: {LANGUAGE: LANGUAGE.ENGLISH._},\n  LANG: LANGUAGE.ENGLISH, // currently used language\n  SETTINGS: {}, // User settings\n  Storage: typeof localStorage !== 'undefined' ? localStorage : undefined, // LocalStorage for Node\n  WebSocket: typeof WebSocket !== 'undefined' ? WebSocket : undefined, // WebSocket for Node\n  history: {}, // Cross Platform route history object\n  iconClass: '', // CSS className for <Icon />\n  iconClassPrefix: 'icon-', // CSS className prefix for <Icon />\n  client: undefined, // Apollo client\n  log: undefined, // backend console logger\n  user: {}, // the current user, for quick access to user info, such as auth\n  usersById: {}, // for storing temporary info, like user.lastOnline\n  translate: (value) => value, // Global translate function\n\n  /**\n   * Password Strength Calculator\n   * @example: <script async src=\"/static/zxcvbn.js\"/>\n   *    - Frontend uses async script in <head/> section to load static zxcvbn.js for faster page load.\n   *    - Backend should override this prop with `Active.passwordCheck = require('zxcvbn')`\n   * @returns {zxcvbn|(function(): {score: number})|*}\n   */\n  get passwordCheck () {\n    // When not loaded, skip password validation in frontend\n    if (typeof window !== 'undefined') return window.zxcvbn || (() => ({score: Infinity}))\n    return this.zxcvbn\n  },\n  set passwordCheck (zxcvbn) {\n    this.zxcvbn = zxcvbn\n  }\n}\n","import { Active, definitionByValue, enumFrom, l, LANGUAGE, LANGUAGE_LEVEL, optionsFrom } from 'ui-utils-pack'\n\n/**\n * PROJECT DEFINITIONS =========================================================\n * =============================================================================\n */\n\nexport const CURRENCY = {\n  USD: {\n    _: 'USD',\n    [l.ENGLISH]: 'USD',\n  },\n  EUR: {\n    _: 'EUR',\n    [l.ENGLISH]: 'EUR',\n  },\n  RUB: {\n    _: 'RUB',\n    [l.ENGLISH]: 'RUB',\n  },\n}\nActive.CURRENCY = CURRENCY.USD\n\nexport const PHONE = {\n  MOBILE: {\n    _: 'mobile',\n    [l.ENGLISH]: 'Mobile Phone'\n  },\n  HOME: {\n    _: 'home',\n    [l.ENGLISH]: 'Home Phone'\n  },\n  WORK: {\n    _: 'work',\n    [l.ENGLISH]: 'Work Phone'\n  },\n}\n\nexport const PERMISSION = {\n  // @note: permissions are defined as separate access levels.\n  // To have full access, one must have all permissions defined below.\n  // This way we keep the logic for checking permissions simple.\n  // Example: User with permission {'1': true, '99': true} cannot update/delete.\n  READ: {\n    _: 1,\n    [l.ENGLISH]: 'Read',\n    // [l.RUSSIAN]: 'Читать',\n  },\n  UPDATE: {\n    _: 2,\n    [l.ENGLISH]: 'Update',\n    // [l.RUSSIAN]: 'Обновить',\n  },\n  DELETE: {\n    _: 3,\n    [l.ENGLISH]: 'Delete',\n    // [l.RUSSIAN]: 'Удалить',\n  },\n  MANAGE_USERS: { // add/remove users and set permissions\n    _: 99, // same as STAFF authorization level\n    [l.ENGLISH]: 'Manage Users',\n    // [l.RUSSIAN]: 'Организовать Пользователей',\n  },\n}\n\n/* Match with GraphQL Type */\nexport const TYPE = {\n  CURRENCY: {\n    _: 'Currency',\n    [l.ENGLISH]: 'Currency'\n  },\n  LANGUAGE: {\n    _: 'Language',\n    [l.ENGLISH]: 'Language'\n  },\n  LANGUAGE_LEVEL: {\n    _: 'LanguageLevel',\n    [l.ENGLISH]: 'Language Level'\n  },\n  PHONE: {\n    _: 'Phone',\n    [l.ENGLISH]: 'Phone Number'\n  },\n}\nexport const TYPE_BY = {\n  [TYPE.CURRENCY._]: TYPE.CURRENCY,\n  [TYPE.LANGUAGE._]: TYPE.LANGUAGE,\n  [TYPE.PHONE._]: TYPE.PHONE,\n}\n\nexport const OPTIONS = {\n  CURRENCY: optionsFrom(CURRENCY),\n  LANGUAGE: optionsFrom(LANGUAGE),\n  PHONE: optionsFrom(PHONE),\n}\n\nexport const DEFINITION = {\n  [TYPE.CURRENCY._]: CURRENCY,\n  [TYPE.LANGUAGE._]: LANGUAGE,\n  [TYPE.PHONE._]: PHONE,\n}\n\nexport const DEFINITION_BY_VAL = {\n  LANGUAGE: definitionByValue(LANGUAGE),\n  LANGUAGE_LEVEL: definitionByValue(LANGUAGE_LEVEL),\n  [TYPE.LANGUAGE._]: definitionByValue(LANGUAGE),\n}\n\nexport const ENUM = {\n  LANGUAGE: enumFrom(LANGUAGE),\n  LANGUAGE_LEVEL: enumFrom(LANGUAGE_LEVEL),\n}\n","/**\n * STYLE VARIABLES =============================================================\n * Should match with colors defined in /style/_variables.less\n * =============================================================================\n */\n\n/* Colors */\nexport const STYLE = {\n  ANIMATION_DURATION: 500,\n  SIZE_SCALE: 62.5, // match percentage of font-size defined in <html> root element\n  GREY: 'rgb(55, 145, 70)',\n  TEXT: 'rgb(23,21,31)',\n  TEXT_LIGHT: 'rgb(237, 237, 237)',\n  BG: 'rgb(238,246,255)',\n  BG_LIGHT: 'rgb(23,21,31)',\n  TEAL: 'rgb(0, 172, 188)',\n  TEAL_LIGHT: 'rgb(16, 165, 234)',\n  GREEN: 'rgb(55, 145, 70)',\n  GREEN_LIGHT: 'rgb(36, 210, 187)',\n  GOLD: 'rgb(239, 165, 44)',\n  GOLD_LIGHT: 'rgb(243, 200, 88)',\n  YELLOW: 'rgb(250, 215, 88)',\n  YELLOW_LIGHT: 'rgb(255, 237, 122)',\n  ORANGE: 'rgb(229, 114, 37)',\n  ORANGE_LIGHT: 'rgb(244, 150, 45)',\n  RED: 'rgb(220, 30, 45)',\n  RED_LIGHT: 'rgb(247, 111, 170)',\n  PINK: 'rgb(235, 77, 164)',\n  PINK_LIGHT: 'rgb(255, 125, 205)',\n  VIOLET: 'rgb(90, 55, 187)',\n  VIOLET_LIGHT: 'rgb(103, 118, 234)',\n  BORDER: 'rgba(124, 124, 153, 0.3)',\n  TRANSPARENT: 'rgba(0, 0, 0, 0)',\n}\nSTYLE.PRIMARY = STYLE.TEAL\nSTYLE.PRIMARY_LIGHT = STYLE.TEAL_LIGHT\nSTYLE.SECONDARY = STYLE.VIOLET\nSTYLE.SECONDARY_LIGHT = STYLE.VIOLET_LIGHT\n","import now from 'performance-now' // adds almost zero KB to bundle size because browsers have window.performance.now()\nimport { createSelector } from 'reselect'\nimport { __CLIENT__, __DEV__, Active } from './_envs.js'\nimport { ONE_MILLISECOND } from './constants.js'\nimport { logSelector } from './log.js'\nimport { formatNumber } from './number.js'\n\n/**\n * Selector Decorator to turn all class static property functions into Memoized Functions\n *\n * @see: `createSelector` in reselect library for docs\n * @note: make sure to avoid arrow function when reusing selectors\n *\n * @example:\n *   // selectors.js\n *   @selector(NAME)\n *   export default class select {\n *\n *     static activeRoute = () => [\n *       (state) => get(state, `${NAME}.location.pathname`),\n *       (pathname) => pathname\n *     ]\n *\n *     // Reusing selectors\n *     static activeUri = function () {\n *        // noinspection JSPotentiallyInvalidUsageOfClassThis\n *        return [\n *          this.activeRoute,\n *          (state) => get(state, `${this.NAME}.location.id`),\n *          (route, id) => route.split('/').pop()\n *        ]\n *     }\n *   }\n * @param {String} NAME - module's namespace\n * @param {Number} [maxTime] - milliseconds, to be considered slow (highlights execution time as red), default is 5 ms\n * @returns {Function} decorator - that transforms given class' static properties\n */\nexport default function selector (NAME, maxTime = 5 * ONE_MILLISECOND) {\n  let start\n  return function (constructor) {\n    for (const key in constructor) {\n      const selectors = constructor[key]()\n      const lastFunc = selectors.pop()\n      selectors.forEach((selector, i) => selector || console.error(`${lastFunc.name} is missing selector ${i + 1}!`))\n      constructor[key] = createSelector(\n        ...selectors,\n        function () {\n          __DEV__ && (start = now())\n          const result = lastFunc(...arguments)\n          if (__DEV__) {\n            const duration = now() - start\n            let time = `${formatNumber(duration, {decimals: 3})} ms`\n            if (duration >= maxTime) {\n              if (__CLIENT__ || (!Active.log || !Active.log.keyword)) {\n                time = '%c' + time + '%c'\n                logSelector(`${NAME} ${key} [${time}]`, result, 'color: Red', 'color: Orange')\n              }\n              // Chalk logger is available\n              else {\n                logSelector(`${NAME} ${key} [`, result, Active.log.keyword('red')(time), Active.log.keyword('orange')(']'))\n              }\n            } else {\n              logSelector(`${NAME} ${key} [${time}]`, result)\n            }\n          }\n          return result\n        }\n      )\n    }\n    constructor.NAME = NAME // can be accessed as instance `this.NAME` within selectors\n  }\n}\n\n","import { capitalize, get } from 'lodash-es'\nimport pluralizer from 'pluralize'\n\nexport const alphaNumPattern = /[^a-zA-Z0-9]/g\nexport const alphaNumIdPattern = /[^a-zA-Z0-9_-]/g\nexport const escapeRegExpPattern = /[.*+?^${}()|[\\]\\\\]/g\nexport const fileNameWithoutExtPattern = /\\.[^.$]+$/\nexport const hyphensPattern = /-+/g\nexport const hyphensTrimPattern = /^-+|-+$/g\nexport const isBase64Pattern = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/\n// Matches multiples spaces, including tabs, newline, etc.\nexport const spacesPattern = /\\s\\s+/g\n\n// Random String Generation (with increased search space to 88^n)\nconst symbols = `~!@#%^&*()[]|{}<>:;,.?-+_=` // only use safe symbols\nconst symbolRatio = symbols.length / (62 + symbols.length) // rate of symbols against alphanumeric characters\nconst upperThreshold = 1 - 26 / (62 + symbols.length) // minimum Math.random() result for upper case\nconst upperThresholdAlphaNum = 1 - 26 / 62 // minimum Math.random() result for upper case\n\n/**\n * STRING FUNCTIONS ===========================================================\n * =============================================================================\n */\n\n/**\n * Escape String for use in Regex Expression\n * @see: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#escaping\n * @param {String} string - to be sanitized\n * @returns {String} string - escaped for Regex use\n */\nexport function escapeRegExp (string) {\n\treturn string.replace(escapeRegExpPattern, '\\\\$&') // $& means the whole matched string\n}\n\n/**\n * Convert String to RegexExp (with given String being escaped first)\n * @param {String} string - to be converted to Regex\n * @param {*[]} [args] - to be passed to RegexExp initialization\n */\nexport function regexExp (string, ...args) {\n\treturn new RegExp(escapeRegExp(string), ...args)\n}\n\n/**\n * Get Cookie Value by Name from Cookie String\n *\n * @example:\n *    const cookie = 'KEY=value; KEY2=value2'\n *    getCookie(cookie, KEY)\n *    >>> 'value'\n *\n * @param {String} cookie - whole cookie string to get value from\n * @param {String} key - cookie name to get value for\n * @return {String} value - cookie\n */\nexport function getCookie(cookie, key) {\n\tif (!cookie) return\n\tlet value = cookie.split('; ').find(string => string.indexOf(key + '=') === 0)\n\tif (!value) return\n\treturn value.split('=')[1]\n}\n\n/**\n * Get Query Parameter Value by its Key from URL String\n * @example:\n *  // URL is: https://example.com?foo=man&bar=&baz\n *  var foo = getParameterByKey('foo'); // \"man\"\n *  var bar = getParameterByKey('bar'); // \"\" (present with empty value)\n *  var baz = getParameterByKey('baz'); // \"\" (present with no value)\n *  var qux = getParameterByKey('qux'); // undefined (absent)\n *\n * @param {String} key - query parameter to extract from current URL\n * @param {String} [url] - string to search query parameters, defaults to current browser URL\n * @returns {String|Undefined} - value if found, else undefined\n */\nexport function getParamByKey (key, url = window.location.href) {\n\tkey = key.replace(getParamByKeyPattern, '\\\\$&')\n\tconst regex = new RegExp('[?&]' + key + '(=([^&#]*)|&|#|$)')\n\tconst results = regex.exec(url)\n\tif (!results) return undefined\n\tif (!results[2]) return ''\n\treturn decodeURIComponent(results[2].replace(getParamByKeySpacePattern, ' '))\n}\n\nexport const getParamByKeyPattern = /[[\\]]/g\nexport const getParamByKeySpacePattern = /\\+/g\n\n/**\n * Get URI from given URL string\n * @param {String} url - to extract URI\n * @returns {String} URI\n */\nexport function pathURI (url) {\n\treturn url.split('/').pop()\n}\n\n/**\n * Check that given value is a string and is not empty\n *\n * @param {*} value - to check\n * @returns {Boolean} true - if given value is non-empty string\n */\nexport function hasStringValue(value) {\n\treturn !!value && typeof value === 'string'\n}\n\n/**\n * Checks to see if the search param exists within the string param.\n *\n * @param {string} string - haystack\n * @param {string} search - needle\n * @return {boolean}\n */\nexport function isInString(string, search) {\n\treturn string.indexOf(search) > -1\n}\n\n/**\n * Checks to see if any of the searches params exist within the string param.\n *\n * @param {string} string - haystack\n * @param searches - needles\n * @return {boolean}\n */\nexport function isInStringAny(string, ...searches) {\n\tif (typeof string !== 'string') return false\n\n\tfor (const value of searches) {\n\t\tif (string.indexOf(value) >= 0) return true\n\t}\n\n\treturn false\n}\n\n/**\n * Insert Value to String at Specified Index\n *\n * @param {string} string - the string to be inserted to\n * @param {number} index - the position to insert\n * @param {string|number} value - the string to insert\n * @returns {string}\n */\nexport function insertToString (string, index, value) {\n\tif (index > 0) return string.substring(0, index) + value + string.substring(index, string.length)\n\treturn value + string\n}\n\n/**\n * Check if Given Value is a Base64 Encoded String\n * @note: cache regex pattern for faster search on large strings\n * @param {String} string - value to check\n * @returns {Boolean} true - if it is a valid Base64 encoded string\n */\nexport function isBase64 (string) {\n\treturn isBase64Pattern.test(string)\n}\n\n/**\n * Check if given string is a File URL or Path.\n * Helps to determine if File.src is URL or Path string vs. base64 encoded string.\n * @param {String} string - to check\n * @returns {Boolean} true - if string contains a dot '.', because a file always needs extension\n */\nexport function isFileSrc (string) {\n\treturn !!string && string.indexOf('.') > -1\n}\n\n/**\n * Check if Given String is a Valid IP v4 Address\n *\n * @param {*} address - value to check\n * @returns {Boolean} true - if value given is a valid IP address string\n */\nexport function isIpAddress (address) {\n\treturn typeof address === 'string' && isIpAddressPattern.test(address)\n}\n\nexport const isIpAddressPattern = new RegExp(\n\t'^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}' +\n\t'([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\\\\-]*[a-zA-Z0-9])\\\\.)' +\n\t'*([A-Za-z]|[A-Za-z][A-Za-z0-9\\\\-]*[A-Za-z0-9])$|^\\\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|((' +\n\t'[0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(\\\\.(25[0-5]|2[0-4]\\\\d|1' +\n\t'\\\\d\\\\d|[1-9]?\\\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\\\d|1' +\n\t'\\\\d\\\\d|[1-9]?\\\\d)(\\\\.(25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}' +\n\t'(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)' +\n\t'(\\\\.(25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|' +\n\t'((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(\\\\.(25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?' +\n\t'\\\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|' +\n\t'2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(\\\\.(25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}' +\n\t'(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(\\\\.(25[0-5]' +\n\t'|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]' +\n\t'|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(\\\\.(25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:)))(%.+)?\\\\s*$'\n)\n\n/**\n * Check if given string is a valid Phone Number\n *\n * @param {String} string - value to check\n * @returns {Boolean} true - if is valid phone number\n */\nexport function isPhoneNumber(string) {\n\treturn isPhoneNumberPattern.test(string)\n}\n\nexport const isPhoneNumberPattern = /^\\+[0-9()\\-\\s]+$/\n\n/**\n * Check if given value is a String\n * @param {*} value - to check\n * @returns {Boolean} true - if it's a string\n */\nexport function isString(value) {\n\treturn typeof value === 'string'\n}\n\n/**\n * Interpolate a Template String with given Variables\n * @example:\n *    interpolateString('key.{id}.name', {id: 'user'})\n *    >>> 'key.user.name'\n *\n *    interpolateString('key.{state.id}.name', {state: {id: 'user'}})\n *    >>> 'key.user.name'\n *\n *    interpolateString('key.{state.id,0}.name', {})\n *    >>> 'key.0.name'\n *\n *    interpolateString('key.{id}.name', {$id: 'user'}, {formatKey: '$key'})\n *    >>> 'key.user.name'\n *\n * @param {String} string - template with '{placeholders}' to interpolate\n * @param {Object} variables - object containing keys matching the names of placeholders to interpolate\n * @param {String} [formatKey] - key format to match in given 'variables' (e.g. format = '$key')\n * @param {String} [name] - function name to use in case error is thrown\n * @param {Boolean} [suppressError] - whether to ignore error when replacement string not found, and leave as is\n * @return {String} output - with interpolated variables\n */\nexport function interpolateString (string, variables = {}, {formatKey, name, suppressError} = {}) {\n\treturn string.replace(interpolateStringPattern, (__, match) => {\n\t\tlet key = match\n\t\tif (formatKey) key = formatKey.replace('key', key)\n\t\t// noinspection JSCheckFunctionSignatures\n\t\tconst result = get(variables, ...key.split(','))\n\t\tif (result === void 0) {\n\t\t\tif (!suppressError && !variables.hasOwnProperty(key.split(',')[0])) {\n\t\t\t\tthrow new Error(`${name || interpolateString.name + '()'} expects variable '${key}', got '${variables[key]}'`)\n\t\t\t}\n\t\t\treturn `{${match}}`\n\t\t}\n\t\treturn result\n\t})\n}\n\nexport const ips = interpolateString\nexport const interpolateStringPattern = /{([^{}]+)}/g\n\n/**\n * Remove brackets around strings (add a dot before it, except when bracket is the first character)\n *\n * @example:\n *    formatKeyPath('object[string]')  // 'object.string'\n *\n * @param {string} keyPath - the path string to format\n */\nexport function formatKeyPath(keyPath) {\n\treturn keyPath.replace(\n\t\tformatKeyPathPattern, (match, match1, match2, match3, offset) => (offset > 0 ? '.' : '') + String(match2)\n\t)\n}\n\nexport const formatKeyPathPattern = /(\\[)(.*?)(\\])/g\n\n/**\n * Get File Name Format Extension from String\n *\n * @param {string} fileName - full file name with format extension (ex. 'image.png')\n * @returns {string} extension - file format if exists (ex. 'png') or empty string if it does not\n */\nexport function fileFormat (fileName) {\n\tconst array = fileName.split('.')\n\treturn array.length > 1 ? array.pop() : ''\n}\n\n/**\n * Get File Extension used in Backend from User submitted file name\n *\n * @param {String|Null|Undefined} fileName - to extract extension\n * @returns {String|Undefined} file format extension, or empty string, or undefined\n */\nexport function fileFormatNormalized (fileName) {\n\tif (!fileName) return\n\tconst ext = fileFormat(toLowerCase(fileName))\n\tswitch (ext) {\n\t\tcase 'jpeg':\n\t\tcase 'jpg':\n\t\t\treturn 'jpg'\n\t\tdefault:\n\t\t\treturn ext\n\t}\n}\n\n/**\n * Get File Name without Extension String\n *\n * @param {string} fileName - full file name with extension\n */\nexport function fileNameWithoutExt (fileName) {\n\treturn fileName.replace(fileNameWithoutExtPattern, '')\n}\n\n/**\n * Convert Data URL, such as Base64 Image string to JS File object\n * @param {String} dataUrl\n * @param {String} filename\n * @returns {File} file - object\n */\nexport function fileFromDataUrl (dataUrl, filename) {\n\tconst arr = dataUrl.split(',')\n\tconst mime = arr[0].match(/:(.*?);/)[1]\n\tconst str = atob(arr[1])\n\tlet n = str.length\n\tconst u8arr = new Uint8Array(n)\n\n\twhile (n--) {\n\t\tu8arr[n] = str.charCodeAt(n)\n\t}\n\n\treturn new File([u8arr], filename, {type: mime})\n}\n\n/**\n * Get File Mime Type from Data URL\n * @param {String} dataUrl - see https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\n * @returns {String|undefined} mime type\n */\nexport function mimeTypeFromDataUrl (dataUrl) {\n\treturn dataUrl.split(',')[0].match(/:(.*?);/)[1]\n}\n\n/**\n * Get hostname from URL string\n *\n * @param {string} url - to extract hostname\n * @return {string} - hostname\n */\nexport function hostname (url) {\n\tlet hostname\n\n\t// find & remove protocol (http, ftp, etc.) and get hostname\n\tif (url.indexOf('://') > -1) {\n\t\thostname = url.split('/')[2]\n\t} else {\n\t\thostname = url.split('/')[0]\n\t}\n\n\t// find & remove port number\n\thostname = hostname.split(':')[0]\n\n\t// find & remove \"?\"\n\thostname = hostname.split('?')[0]\n\n\treturn hostname\n}\n\n/**\n * Get Matching Substring Between Two Strings\n *\n * @example:\n * matchBetween('cool_black__hat', '_', '__')\n * >>> 'black'\n *\n * @param {string} string - to match against\n * @param {string} before - string preceding the match\n * @param {string} after - string succeeding the match\n * @returns {string} - matching string between `before` and `after` strings if found, or an empty string if not\n */\nexport function matchBetween(string, before, after) {\n\treturn get(string.match(`${before}(.*)${after}`), '[1]') || ''\n}\n\n/**\n * Convert two strings or numbers into one scrambled string, deterministically\n *\n * @param {string|number} str1\n * @param {string|number} str2\n * @returns {string} - scrambled characters from provided values\n */\nexport function mergeStrings(str1, str2) {\n\tstr1 = String(str1)\n\tstr2 = String(str2)\n\tconst strLong = (str1.length >= str2.length ? str1 : str2).split('').reverse()\n\tconst strShort = (str1.length > str2.length ? str2 : str1).split('')\n\treturn strLong\n\t\t.map((char, index) => {\n\t\t\treturn strShort[index] != null ? char + strShort[index] : char + strShort[index % strShort.length]\n\t\t})\n\t\t.join('')\n}\n\n/**\n * Pad Left given String with Template String\n *\n * @param {String} string - to be padded, example 7\n * @param {String} padTemplate - example: '000'\n * @return {String} padded with template - example: '007'\n */\nexport function padStringLeft (string, padTemplate) {\n\treturn `${padTemplate}${string}`.slice(-(Math.max(string.length, padTemplate.length)))\n}\n\n/**\n * Pad Right given String with Template String\n *\n * @param {String} string - to be padded, example 7\n * @param {String} padTemplate - example: '000'\n * @return {String} padded with template - example: '700'\n */\nexport function padStringRight (string, padTemplate) {\n\treturn `${string}${padTemplate}`.substr(0, Math.max(string.length, padTemplate.length))\n}\n\n/**\n * Converts the given singular word to it's plural version\n *\n * @example\n *  plural('butterfly')\n *  >>> 'butterflies'\n *\n * @uses pluralize\n * @see {@link https://github.com/blakeembrey/pluralize} for further information\n *\n * @param {string} string\n */\nexport function plural(string) {\n\treturn pluralizer.plural(string)\n}\n\n/**\n * Pluralize or singularize a word based on count\n *\n * @uses pluralize\n * @see {@link https://github.com/blakeembrey/pluralize} for further information\n *\n * @param {string} word - The word to pluralize/singularize\n * @param {number} count - A count\n * @param {boolean} [shouldIncludeCount] - If true will prefix the given count to the word\n * @return {string} - A new string\n */\nexport function pluralize(word, count, shouldIncludeCount) {\n\treturn pluralizer(word, count, shouldIncludeCount)\n}\n\n/**\n * Get a random Character from provided string\n *\n * @param {String} string\n * @returns {String} character\n */\nexport function randomFromString(string) {\n\treturn string.charAt(Math.floor(Math.random() * string.length))\n}\n\n/**\n * Create a Random ASCII String with Random length within given min - max range\n *\n * @param {Number} [min] - length\n * @param {Number} [max] - length\n * @param {Boolean} [alphaNum] - whether to create alphanumeric string only\n * @param {Boolean} [hex] - whether to create hex string only\n * @returns {String} random - ASCII compliant string\n */\nexport function randomString (min = 32, max = 64, {alphaNum = false, hex = false} = {}) {\n\tconst searchSpace = hex ? 16 : 36\n\tconst uppercase = alphaNum ? upperThresholdAlphaNum : upperThreshold\n\treturn [...Array(randomNumberInRange(min, max))]\n\t\t.map(() => {\n\t\t\tconst random = Math.random()\n\t\t\tif (!alphaNum && !hex && random < symbolRatio) return randomFromString(symbols)\n\t\t\tconst string = (~~(random * searchSpace)).toString(searchSpace)\n\t\t\treturn !hex && random > uppercase ? string.toUpperCase() : string\n\t\t})\n\t\t.join('')\n}\n\nrandomString.history = []\n\n/**\n * Hash ASCII String using SHA256\n *\n * @param {String} ascii - compliant\n * @returns {String} digest - hashed to 64 characters long\n */\nexport function sha256(ascii) {\n\tfunction rightRotate(value, amount) {\n\t\treturn (value >>> amount) | (value << (32 - amount))\n\t}\n\n\tconst mathPow = Math.pow\n\tconst maxWord = mathPow(2, 32)\n\tconst lengthProperty = 'length'\n\tlet i, j // Used as a counter across the whole file\n\tlet result = ''\n\n\tconst words = []\n\tconst asciiBitLength = ascii[lengthProperty] * 8\n\n\t//* caching results is optional - remove/add slash from front of this line to toggle\n\t// Initial hash value: first 32 bits of the fractional parts of the square roots of the first 8 primes\n\t// (we actually calculate the first 64, but extra values are just ignored)\n\tlet hash = (sha256.h = sha256.h || [])\n\t// Round constants: first 32 bits of the fractional parts of the cube roots of the first 64 primes\n\tconst k = (sha256.k = sha256.k || [])\n\tlet primeCounter = k[lengthProperty]\n\t/*/\n  const hash = [], k = [];\n  const primeCounter = 0;\n  //*/\n\n\tconst isComposite = {}\n\tfor (let candidate = 2; primeCounter < 64; candidate++) {\n\t\tif (!isComposite[candidate]) {\n\t\t\tfor (i = 0; i < 313; i += candidate) {\n\t\t\t\tisComposite[i] = candidate\n\t\t\t}\n\t\t\thash[primeCounter] = (mathPow(candidate, 0.5) * maxWord) | 0\n\t\t\tk[primeCounter++] = (mathPow(candidate, 1 / 3) * maxWord) | 0\n\t\t}\n\t}\n\n\tascii += '\\x80' // Append Ƈ' bit (plus zero padding)\n\twhile ((ascii[lengthProperty] % 64) - 56) ascii += '\\x00' // More zero padding\n\tfor (i = 0; i < ascii[lengthProperty]; i++) {\n\t\tj = ascii.charCodeAt(i)\n\t\tif (j >> 8) return // ASCII check: only accept characters in range 0-255\n\t\twords[i >> 2] |= j << (((3 - i) % 4) * 8)\n\t}\n\twords[words[lengthProperty]] = (asciiBitLength / maxWord) | 0\n\twords[words[lengthProperty]] = asciiBitLength\n\n\t// process each chunk\n\tfor (j = 0; j < words[lengthProperty]; ) {\n\t\tconst w = words.slice(j, (j += 16)) // The message is expanded into 64 words as part of the iteration\n\t\tconst oldHash = hash\n\t\t// This is now the undefined working hash\", often labelled as variables a...g\n\t\t// (we have to truncate as well, otherwise extra entries at the end accumulate\n\t\thash = hash.slice(0, 8)\n\n\t\tfor (i = 0; i < 64; i++) {\n\t\t\t// Expand the message into 64 words\n\t\t\t// Used below if\n\t\t\tconst w15 = w[i - 15],\n\t\t\t\tw2 = w[i - 2]\n\n\t\t\t// Iterate\n\t\t\tconst a = hash[0],\n\t\t\t\te = hash[4]\n\t\t\tconst temp1 =\n\t\t\t\thash[7] +\n\t\t\t\t(rightRotate(e, 6) ^ rightRotate(e, 11) ^ rightRotate(e, 25)) + // S1\n\t\t\t\t((e & hash[5]) ^ (~e & hash[6])) + // ch\n\t\t\t\tk[i] +\n\t\t\t\t// Expand the message schedule if needed\n\t\t\t\t(w[i] =\n\t\t\t\t\ti < 16\n\t\t\t\t\t\t? w[i]\n\t\t\t\t\t\t: (w[i - 16] +\n\t\t\t\t\t\t  (rightRotate(w15, 7) ^ rightRotate(w15, 18) ^ (w15 >>> 3)) + // s0\n\t\t\t\t\t\t\t\tw[i - 7] +\n\t\t\t\t\t\t\t\t(rightRotate(w2, 17) ^ rightRotate(w2, 19) ^ (w2 >>> 10))) | // s1\n\t\t\t\t\t\t  0)\n\t\t\t// This is only used once, so *could* be moved below, but it only saves 4 bytes and makes things unreadble\n\t\t\tconst temp2 =\n\t\t\t\t(rightRotate(a, 2) ^ rightRotate(a, 13) ^ rightRotate(a, 22)) + // S0\n\t\t\t\t((a & hash[1]) ^ (a & hash[2]) ^ (hash[1] & hash[2])) // maj\n\n\t\t\thash = [(temp1 + temp2) | 0].concat(hash) // We don't bother trimming off the extra ones, they're harmless as long as we're truncating when we do the slice()\n\t\t\thash[4] = (hash[4] + temp1) | 0\n\t\t}\n\n\t\tfor (i = 0; i < 8; i++) {\n\t\t\thash[i] = (hash[i] + oldHash[i]) | 0\n\t\t}\n\t}\n\n\tfor (i = 0; i < 8; i++) {\n\t\tfor (j = 3; j + 1; j--) {\n\t\t\tconst b = (hash[i] >> (j * 8)) & 255\n\t\t\tresult += (b < 16 ? 0 : '') + b.toString(16)\n\t\t}\n\t}\n\treturn result\n}\n\n/**\n * Encode given String to HEX format\n *\n * @param {String} string - to encode\n * @returns {String} hex - encoded string\n */\nexport function toHex(string) {\n\tlet hex\n\tlet result = ''\n\tfor (let i = 0; i < string.length; i++) {\n\t\thex = string.charCodeAt(i).toString(16)\n\t\tresult += ('000' + hex).slice(-4)\n\t}\n\treturn result\n}\n\n/**\n * Convert String to Alpha Numeric Characters\n *\n * @param {String} string - to convert\n * @returns {String} - with alpha numeric characters only\n */\nexport function toAlphaNum(string) {\n\treturn string.replace(alphaNumPattern, '')\n}\n\n/**\n * Convert String to Alpha Numeric Characters with dashes and underscores\n *\n * @param {String} string - to convert\n * @returns {String} - with alpha numeric characters, dash and underscore only\n */\nexport function toAlphaNumId(string) {\n\treturn string.replace(alphaNumIdPattern, '')\n}\n\n/**\n * Sanitize String for use in URL without encoding.\n * @param {String} string - to sanitize, can contain any characters\n * @returns {String} URI - sanitized for browser URL, without encoding/decoding\n */\nexport function toURI (string) {\n\treturn string && string.replace(spacesPattern, '-') // remove spaces/newlines before stripping special characters\n\t\t.replace(alphaNumIdPattern, '-') // convert all invalid characters to hyphen\n\t\t.replace(hyphensPattern, '-') // may have hyphen at the start or end\n\t\t.replace(hyphensTrimPattern, '')\n\t\t.toLowerCase()\n}\n\n/**\n * Truncate a String to Given Character Length, Showing the Last n Characters at the End\n *\n * @param {String} string - to truncate with ellipses\n * @param {Number} [length] - number of characters to keep in total\n * @param {Number} [lastChars] - number of characters to keep at the end\n * @returns {String} string - truncated to given total length\n */\nexport function truncate(string, length = 15, lastChars = 3) {\n\tif (string.length <= length) return string\n\tconst firstChars = length - lastChars - 3\n\tif (firstChars < 1) return string\n\treturn string.substr(0, firstChars) + '...' + string.substr(string.length - lastChars, lastChars)\n}\n\n/**\n * Convert All Characters to lower case\n * @param {String|*} string - value to make lower case\n * @returns {String|*} - in lower case\n */\nexport function toLowerCase (string) {\n\treturn string && string.toLowerCase()\n}\n\n/**\n * Convert Any Value type to lower case String\n * @param {*} value - make lower case\n * @returns {String} value - in lower case\n */\nexport function toLowerCaseAny (value) {\n\treturn String(value).toLowerCase()\n}\n\n/**\n * Convert All Characters to UPPER CASE\n * @param {String|*} string - value to make upper case\n * @returns {String|*} - in upper case\n */\nexport function toUpperCase (string) {\n\treturn string && string.toUpperCase()\n}\n\n/**\n * Convert Any Value type to UPPER CASE String\n * @param {*} value - make UPPER CASE\n * @returns {String} value - in UPPER CASE\n */\nexport function toUpperCaseAny (value) {\n\treturn String(value).toUpperCase()\n}\n\n/**\n * Trim spaces at the start and end of String, and convert multiples spaces,\n * including tabs, newline, etc. in between to a single space.\n * @param {String|*} string - to trim\n * @returns {String|*} string - trimmed\n */\nexport function trimSpaces (string) {\n\treturn string && string.replace(spacesPattern, ' ').trim()\n}\n\n/**\n * Create RFC4122 Complaint Version 4 UUID\n *\n * @see: https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n * @returns {String} uuid - in this format 'xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx'\n */\nexport function uuid () {\n\tconst d0 = (Math.random() * 0xffffffff) | 0\n\tconst d1 = (Math.random() * 0xffffffff) | 0\n\tconst d2 = (Math.random() * 0xffffffff) | 0\n\tconst d3 = (Math.random() * 0xffffffff) | 0\n\treturn (\n\t\tlut[d0 & 0xff] +\n\t\tlut[(d0 >> 8) & 0xff] +\n\t\tlut[(d0 >> 16) & 0xff] +\n\t\tlut[(d0 >> 24) & 0xff] +\n\t\t'-' +\n\t\tlut[d1 & 0xff] +\n\t\tlut[(d1 >> 8) & 0xff] +\n\t\t'-' +\n\t\tlut[((d1 >> 16) & 0x0f) | 0x40] +\n\t\tlut[(d1 >> 24) & 0xff] +\n\t\t'-' +\n\t\tlut[(d2 & 0x3f) | 0x80] +\n\t\tlut[(d2 >> 8) & 0xff] +\n\t\t'-' +\n\t\tlut[(d2 >> 16) & 0xff] +\n\t\tlut[(d2 >> 24) & 0xff] +\n\t\tlut[d3 & 0xff] +\n\t\tlut[(d3 >> 8) & 0xff] +\n\t\tlut[(d3 >> 16) & 0xff] +\n\t\tlut[(d3 >> 24) & 0xff]\n\t)\n}\n\nconst lut = []\nfor (let i = 0; i < 256; i++) {\n\tlut[i] = (i < 16 ? '0' : '') + i.toString(16)\n}\n\n// LODASH CLONES\n// -----------------------------------------------------------------------------\n\nexport {\n\t/**\n\t * A wrapper around the lodash's capitalize function\n\t *\n\t * @uses lodash\n\t * @see {@link https://lodash.com/docs/4.17.4#capitalize} for further information.\n\t *\n\t * @param {string} string - the string to capitalize\n\t * @returns {string} - the capitalized string\n\t */\n\t\tcapitalize,\n}\n\nfunction randomNumberInRange (min, max) {\n\treturn Math.floor(Math.random() * (max - min + 1)) + min\n}\n","import { l, localiseTranslation } from 'ui-utils-pack'\n\n/**\n * LOCALISED TRANSLATIONS (i18n) ===============================================\n * =============================================================================\n */\nlocaliseTranslation({\n  CHARACTER: {\n    [l.ENGLISH]: 'Character',\n    // [l.RUSSIAN]: 'Символ',\n  },\n  ENTER_NUMBER_STARTING_WITH_plus_COUNTRY_CODE: {\n    [l.ENGLISH]: 'Enter number starting with + country code',\n    // [l.RUSSIAN]: 'Введите номер начиная с плюсом и кодом страны',\n  },\n  INVALID_DATE: {\n    [l.ENGLISH]: 'Invalid date',\n    // [l.RUSSIAN]: 'Недействительная дата',\n  },\n  INVALID_EMAIL_ADDRESS: {\n    [l.ENGLISH]: 'Invalid email address',\n    // [l.RUSSIAN]: 'Неправильный адрес',\n  },\n  INVALID_URL: {\n    [l.ENGLISH]: 'Invalid URL',\n    // [l.RUSSIAN]: 'Неверный URL',\n  },\n  MUST_BE_LESS_THEN_characters: {\n    [l.ENGLISH]: 'Must be less than {characters}',\n    // [l.RUSSIAN]: 'Должно быть меньше, чем {characters}',\n  },\n  MUST_BE_IN_THE_PAST: {\n    [l.ENGLISH]: 'Must be in the past',\n    // [l.RUSSIAN]: 'Должно быть в прошлом',\n  },\n  MUST_BE_IN_THE_FUTURE: {\n    [l.ENGLISH]: 'Must be in the future',\n    // [l.RUSSIAN]: 'Должно быть в будущем',\n  },\n  MUST_HAVE_START_TIME: {\n    [l.ENGLISH]: 'Must have start time',\n    // [l.RUSSIAN]: 'Должно быть время начала',\n  },\n  MUST_HAVE_END_TIME: {\n    [l.ENGLISH]: 'Must have end time',\n    // [l.RUSSIAN]: 'Должно быть время окончания',\n  },\n  PASSWORD_IS_TOO_WEAK: {\n    [l.ENGLISH]: 'Password is too weak',\n    // [l.RUSSIAN]: 'Пароль слишком слабый',\n  },\n  PASSWORD_MISMATCH: {\n    [l.ENGLISH]: 'Password mismatch',\n    // [l.RUSSIAN]: 'Пароль не совпадает',\n  },\n  REQUIRED: {\n    [l.ENGLISH]: 'Required',\n    // [l.RUSSIAN]: 'Обязательный',\n  },\n})\n","import { interpolateString, isEmpty, isNumeric, isPhoneNumber, pluralize, toList, toLowerCase } from 'ui-utils-pack'\nimport { _ } from 'ui-utils-pack/translations'\nimport { isGoodPassword } from 'ui-utils-pack/utility'\nimport isEmail from 'validator/lib/isEmail'\nimport isLength from 'validator/lib/isLength'\nimport isURL from 'validator/lib/isURL'\nimport * as t from './translations'\n\nconst sideEffects = {t}\n\n/**\n * VALIDATION RULES ============================================================\n * Common validation rules to be used with redux-form\n * =============================================================================\n */\n\n\nexport const OK = undefined // Return type when validation passes\n\nexport function isRequired (value) {\n  return (value == null || value === '' || Number.isNaN(value) || (typeof value === 'object' && isEmpty(value))) ? _.REQUIRED : OK\n}\n\nexport function url (value) {\n  return (value && !isURL(String(value), {require_protocol: true})) ? _.INVALID_URL : OK\n}\n\nexport function email (value) {\n  return value && (isEmail(String(value)) ? OK : _.INVALID_EMAIL_ADDRESS)\n}\n\nexport function maxLength (length = 100) {\n  return (value) => (\n    isLength(String(value), {max: length})\n      ? OK\n      : interpolateString(_.MUST_BE_LESS_THEN_characters, {characters: pluralize(toLowerCase(_.CHARACTER), length, true)})\n  )\n}\n\nexport function password (value) {\n  password.value = value\n  return (!value || isGoodPassword(value)) ? OK : _.PASSWORD_IS_TOO_WEAK\n}\n\n// @Note: must be called after `password` validator, because it depends on value set by that function\npassword.confirm = (value) => {\n  return (value === password.value) ? OK : _.PASSWORD_MISMATCH\n}\n\nexport function phoneNumber (value) {\n  return (!value || isPhoneNumber(value)) ? OK : _.ENTER_NUMBER_STARTING_WITH_plus_COUNTRY_CODE\n}\n\nexport function dateMonthYear (value) {\n  return /^([0-3])?[0-9]\\.([0-1])?[0-9]\\.\\d+$/.test(value) ? OK : _.INVALID_DATE\n}\n\nexport function timeInThePast (value) {\n  if (!isNumeric(value)) return OK\n  const now = Date.now()\n  return value >= now ? _.MUST_BE_IN_THE_PAST : OK\n}\n\nexport function timeRangesInFuture (value) {\n  if (isEmpty(value)) return OK\n  const now = Date.now()\n  return toList(value).find(({from, to}) => (from <= now || to <= now)) ? _.MUST_BE_IN_THE_FUTURE : OK\n}\n\n// Validate that Time Ranges contain `from` and `to` time\nexport function timeRanges (value) {\n  if (isEmpty(value)) return OK\n  const values = toList(value)\n  if (!values.find(({from}) => from != null)) return _.MUST_HAVE_START_TIME\n  if (!values.find(({to}) => to != null)) return _.MUST_HAVE_END_TIME\n  return OK\n}\n","import classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport React, { useRef, useState } from 'react'\nimport { accessibilitySupport } from './utils'\n\n/**\n * View with Custom Scroll Bar - Pure Component\n *\n * @param {String} [className] - CSS classes to apply\n * @param {String} [classNameInner] - CSS classes to apply to inner wrapper\n * @param {Object} [style] - CSS to apply\n * @param {Object} [styleInner] - CSS to apply to inner wrapper\n * @param {Boolean} [row] - whether to render children as <Row />\n * @param {Boolean} [fill] - whether to make the view fill up available height and width\n * @param {Boolean} [reverse] - whether to reverse order of rendering\n * @param {Boolean} [rtl] - whether to use right to left direction\n * @param {Boolean} [center] - whether to center align content\n * @param {Object} [sound] - new Audio(URL) sound file\n * @param {*} [tab]\n * @param {*} props - other props\n * @returns {Object} - React component\n */\nconst ScrollView = ({\n  className,\n  classNameInner,\n  style,\n  styleInner,\n  row,\n  fill,\n  reverse,\n  rtl,\n  center,\n  sound,\n  // Remove tab to prevent Error\n  tab,\n  ...props\n}) => {\n  const thisRef = useRef(null)\n  const [scrollYPosition, setScrollYPosition] = useState(0)\n\n  const handleScroll = (e) => {\n    if (e.target === thisRef.current) {\n      setScrollYPosition(e.target.scrollLeft)\n    }\n  }\n\n  props = accessibilitySupport(props, sound)\n  return (\n    <div\n      ref={thisRef}\n      className={classNames('overflow-scroll',\n        row ? 'flex--row max-width' : 'flex--col max-height',\n        scrollYPosition && 'vertical-scroll',\n        {fill, rtl, center: center && !row}, className,\n      )}\n      style={style}\n      onScroll={handleScroll}\n    >\n      <div\n        className={classNames(row ? 'flex--row min-width' : 'flex--col min-height',\n          {fill, reverse, rtl, pointer: props.onClick, 'margin-auto': center}, classNameInner,\n        )}\n        style={styleInner}\n        {...props}\n      />\n    </div>\n  )\n}\n\nScrollView.propTypes = {\n  className: PropTypes.string,\n  classNameInner: PropTypes.string,\n  style: PropTypes.object,\n  styleInner: PropTypes.object,\n  children: PropTypes.any.isRequired\n}\n\nexport default ScrollView\n","import {\n  difference,\n  flatten,\n  get,\n  intersection,\n  isEqual,\n  isPlainObject,\n  max,\n  min,\n  some,\n  union,\n  unionBy,\n  unionWith,\n  uniqWith,\n} from 'lodash-es'\nimport thenby from 'thenby'\nimport { toLowerCaseAny } from './string.js'\n\n/**\n * ARRAY FUNCTIONS =============================================================\n * =============================================================================\n */\n\n/**\n * Check if the data passed is an array and has values.\n *\n * @param {*} data - The variable to check\n * @return {boolean}\n */\nexport function hasListValue (data) {\n  return (isList(data) && data.length > 0)\n}\n\n/**\n * Check if given lists have at least one intersecting value in each list\n *\n * @param {Array[]} lists - array of arrays to test\n * @return {boolean} - true if a common value is found among given lists\n */\nexport function hasCommonListValue (...lists) {\n  // Find the list with the shortest length\n  let listLength = Infinity\n  let shortestList = []\n  lists.forEach(list => {\n    if (list.length < listLength) {\n      listLength = list.length\n      shortestList = list\n    }\n  })\n\n  // If at least one value found among all lists, skip the loop and return true\n  return shortestList.some(value => {\n    // If value does not exist in at least one list, skip to next value\n    return !lists.some(list => !isInList(list, value))\n  })\n}\n\n/**\n * Check if given list contains primitive duplicate values\n * @Note: array.indexOf(NaN) always returns -1, even if the array has `NaN` value\n * @param {*[]} array - to check for duplicates\n * @returns {Boolean} true - if duplicate found\n */\nexport function hasDuplicateInList (array) {\n  return array.some((value, index, self) => self.indexOf(value) !== index)\n}\n\n/**\n * Get All Indexes of Value in Array\n * @param {Array<*>} list - to search for index list\n * @param {*} value - to find indexes for\n * @returns {Number[]} index - list of value indexes, or empty array if nothing found\n */\nexport function indexesOf (list, value) {\n  let indices = [], i = -1\n  while ((i = list.indexOf(value, i + 1)) !== -1) {\n    indices.push(i)\n  }\n  return indices\n}\n\n/**\n * Check if the data passed is an array or plain object.\n *\n * @param {*} data - The variable to check\n * @return {boolean}\n */\nexport function isCollection (data) {\n  return (!!data && (data.constructor === Array || isPlainObject(data)))\n}\n\n/**\n * Check if Given Arrays are Equal in Values by Element References\n *\n * @param {Array|*} a\n * @param {Array|*} b\n * @returns {Boolean} true - if all elements of `a` are equal to all elements of `b` using exact equality match\n */\nexport function isEqualList (a, b) {\n  if (a === b) return true\n  if (a && b && a.length !== b.length) return false\n  if (!a || !b) return false\n  for (const i in a) {\n    if (a[i] !== b[i]) return false\n  }\n  return true\n}\n\n/**\n * Check if the data passed is an array.\n *\n * @param {*} data - The variable to check\n * @return {boolean}\n */\nexport function isList (data) {\n  return (!!data && data.constructor === Array)\n}\n\n/**\n * Check if the value passed exists within the array passed.\n *\n * @param {Array} array - haystack\n * @param {*} value - needle\n * @return {boolean}\n */\nexport function isInList (array, value) {\n  return array.indexOf(value) >= 0\n}\n\n/**\n * Check if any of the values passed in via ...args exists within the array passed.\n *\n * @param {Array} array - the array to search for the values\n * @param {*} args - the values to search for\n */\nexport function isInListAny (array, ...args) {\n  for (const value of args) {\n    if (array.indexOf(value) >= 0) {\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * Check if a given Element exists in the Collection, with shallow include match\n *\n * @uses lodash\n * @see {@link https://lodash.com/docs/4.17.2#some} for further information.\n * @return {Boolean} true - if element found in given collection with shallow include match\n */\nexport function isInCollection (collection, element) {\n  return some(collection, element)\n}\n\n/**\n * Check if any given Element exists in the Collection, with shallow include match\n *\n * @example:\n *    isInCollectionAny([{name: 'god', age: 'eternal'}], {name: 'dog'}, {name: 'god'})\n *    >>> true\n *\n * @param {Array|Object} collection - to search from\n * @param {*} elements - to search for\n * @return {boolean} true - if any of the given elements found in the collection\n */\nexport function isInCollectionAny (collection, ...elements) {\n  for (const element of elements) {\n    if (isInCollection(collection, element)) return true\n  }\n  return false\n}\n\n/**\n * Compare two Arrays and determine if they have the same values\n * @param array1\n * @param array2\n */\nexport function isSameList (array1, array2) {\n  return isEqual(array1.sort(), array2.sort())\n}\n\n/**\n * Creates an array with all falsey values removed\n * (values false, null, 0, \"\", undefined, and NaN are falsey)\n *\n * @param {Array} array - the array to clean from falsey values\n * @return {Array} - returns the new array of filtered values\n */\nexport function cleanList (array) {\n  return array.filter(v => v)\n}\n\n/**\n * Converts Any Value to Array (or keep it as is if already Array)\n *\n * @param {*} value - the value to convert\n * @param {*} [clean] - if truthy, remove falsey values: false, null, 0, \"\", undefined, and NaN\n * @return {Array}\n */\nexport function toList (value, clean) { // eslint-disable-line no-shadow\n  if (!isList(value)) value = [value]\n  return clean ? value.filter(v => v) : value\n}\n\n/**\n * Compute the Average Number from Array Elements\n *\n * @param {Array} array - list of numbers to calculate average of\n * @returns {number} - the average value\n */\nexport function toListAvg (array) {\n  let sum = 0\n  for (const value of array) {\n    sum += value\n  }\n  return (sum / array.length)\n}\n\n/**\n * Compute the Total Number from Array Elements\n * @Note: ~2.5 times faster than array.reduce() in Node.js\n * @example:\n *    toListTotal([1, 2])\n *    >>> 3\n *\n * @param {Array} array - list of numbers to calculate total of\n * @returns {number} total - value of all elements\n */\nexport function toListTotal (array = []) {\n  let sum = 0\n  for (const value of array) {\n    sum += value\n  }\n  return sum\n}\n\n/**\n * Compute the Total Number from Array Element Values\n * @Note: ~2.5 times faster than array.reduce() in Node.js\n * @example:\n *    toListValuesTotal([{count: 1}, {count: 2}], 'count')\n *    >>> 3\n *\n * @param {Array} array - list of objects to calculate total values for\n * @param {String} [key] - object key to extract values from\n * @param {Number} [fallback] - default value to use when not a number encountered\n * @returns {Number} total - of all element values\n */\nexport function toListValuesTotal (array = [], key = 'value', fallback = 0) {\n  let sum = 0\n  for (const obj of array) {\n    sum += obj[key] || fallback\n  }\n  return sum\n}\n\n/**\n * Ensures the array has unique values, including nested objects.\n *\n * @uses lodash\n * @see https://lodash.com/docs/#uniqWith\n * @example\n before [1, 2, 2, {a: 5, b: {c: 6}}, {a: 5, b: {c: 6}}];\n after [1, 2, {a: 5, b: {c: 6}}];\n * @param {Array} array - the array to enforce unique values for\n * @return {Array}\n */\nexport function toUniqueList (array) {\n  return uniqWith(toList(array), isEqual)\n}\n\n/**\n * Ensure array has only unique primitive values.\n *\n * @param {Array} array - the array to enforce unique primitive values for\n * @return {Array} - new array\n */\nexport function toUniqueListFast (array) {\n  return array.filter((value, index, self) => self.indexOf(value) === index)\n}\n\n/**\n * Ensure array has only unique values case insensitive keeping the first occurrence of duplicates.\n *\n * @param {Array<*>} array - the array to enforce unique values for (can be mix of value types)\n * @return {Array<*>} list - new array containing only unique values, case insensitive\n */\nexport function toUniqueListCaseInsensitive (array) {\n  const listLower = array.map(toLowerCaseAny)\n  return array.filter((v, i) => listLower.indexOf(toLowerCaseAny(v)) === i)\n}\n\n/**\n * Merge two arrays into one, with objects containing only unique key, keeping the value from the first array\n * @Note: this method is faster than `array.filter((val, _, self) => self.find(i => i[key] === val[key]) === val)`\n *    by about x5 times\n *\n * @param {Array} newList - list of new objects to keep\n * @param {Array} oldList - list of old objects to be updated\n * @param {string} key - objects's key that needs to be unique\n * @returns {Array} list - of unique objects\n */\nexport function toUniqueListByKey (newList, oldList, key) {\n  return unionBy(newList, oldList, key)\n}\n\n/**\n * Add value to the beginning of Array, optionally trimming its length to provided limit\n *\n * @param {Array} array - to prepend to\n * @param {*} value - to prepend to `array`\n * @param {number} [limit] - optionally trim array to this length\n */\nexport function prependToList (array, value, limit) {\n  const result = [value, ...array]\n  if (limit && result.length > limit) result.length = limit\n  return result\n}\n\n/**\n * Merge Arrays into a single List with unique values keeping orders given (using SameValueZero comparison)\n *\n * @param {Array} arrays - lists to combine (if not array given, it will be ignored without error)\n * @returns {Array} - merged list with unique values\n */\nexport function mergeLists (...arrays) {\n  return union(...arrays)\n}\n\n/**\n * Remove Value from Array if found, without mutation\n *\n * @param {Array } listToKeep - list of values to search from\n * @param {String|Number|Array} valueToRemove - to remove\n * @return {Array} - new array with value removed\n */\nexport function removeFromList (listToKeep, valueToRemove) {\n  // Value is Array\n  if (isList(valueToRemove)) return difference(listToKeep, valueToRemove)\n\n  // Value is of primitive type\n  const result = [...listToKeep]\n  const index = listToKeep.indexOf(valueToRemove)\n  if (index > -1) result.splice(index, 1)\n  return result\n}\n\n/**\n * Get the first element of an array, or return the value if it's not array\n *\n * @param {Array|*} array - The array to query\n * @returns {*} - The first element of the array\n */\nexport function firstListValue (array) {\n  return isList(array) ? array[0] : array\n}\n\n/**\n * Gets the first value of array\n *\n * @param {Array} array - The array to query\n * @return {*} - The last element of the given array\n */\nexport function first (array) {\n  return array[0]\n}\n\n/**\n * Gets the last value of array\n *\n * @param {Array} array - The array to query\n * @return {*} - The last element of the given array\n */\nexport function last (array) {\n  return array[array.length - 1]\n}\n\n/**\n * Get a random value from provided list\n */\nexport function randomFromList (array) {\n  return array[Math.floor(Math.random() * array.length)]\n}\n\n/**\n * Get a random value from provided list, removing it from the list\n */\nexport function randomFromListExtract (array) {\n  const index = Math.floor(Math.random() * array.length)\n  return array.splice(index, 1)[0]\n}\n\nexport function listAlphabetically (array) {\n  return array.sort(sortAscending)\n}\n\n/**\n * Array.reduce callback to convert list of objects with .id attributes to a key-value hashmap object\n * @example:\n *    [{id: \"unique\", name: \"test\"}].reduce(listToMap, {})\n *    >>> {\"unique\": {id: \"unique\", name: \"test\"}}\n *\n * @returns {Object} object with element.id being keys, and elements of original array being values\n */\nexport function listToMap (obj, data) {\n  obj[data.id] = data\n  return obj\n}\n\n/**\n * Sort List in Ascending Order\n * (Fastest)\n *\n * @example:\n *    array.sort(sortAscending)\n *\n * @param {*} a - first value in the iteration\n * @param {*} b - second value in the iteration\n * @return {number} - whether values should be re-arranged\n */\nexport function sortAscending (a, b) {\n  if (a < b) return -1\n  if (a > b) return 1\n  return 0\n}\n\n/**\n * Sort List in Descending Order\n * (Fastest)\n *\n * @example:\n *    array.sort(sortDescending)\n *\n * @param {*} a - first value in the iteration\n * @param {*} b - second value in the iteration\n * @return {number} - whether values should be re-arranged\n */\nexport function sortDescending (a, b) {\n  if (a < b) return 1\n  if (a > b) return -1\n  return 0\n}\n\n/**\n * Sort List by Object Property\n * (Fastest)\n *\n * @example:\n *  array.sort(sort('name', 'asc'))\n *\n * @param {String} [key] - property value used to compare for sorting\n * @param {String} [order] - enum ['asc', 'desc']\n * @return {Function} - to be used as argument for native Array.sort()\n */\nexport function sort (key, order = 'asc') {\n  const sortFunc = order === 'asc' ? sortAscending : sortDescending\n  return (a, b) => sortFunc(a[key], b[key])\n}\n\n/**\n * Sort List By Object Properties or custom sort Function (with optional chaining)\n * (Moderately Fast)\n *\n * @example:\n *    // sort objects by descending 'name' length property, then by descending 'name', then by given function,\n *    // useful in situations when 'name' is a string containing numbers\n *    array.sort(by('-name.length', '-name', (a, b) => a.localCompare(b)))\n *\n * @param {String|Function} args - compare function, object Key, or Path (prepend string with '-' for descending)\n */\nexport function by (...args) {\n  return (a, b) => {\n    let result = 0\n\n    // Loop through given sort arguments\n    for (let key of args) {\n      if (key.constructor === String) {\n        if (key.indexOf('-') === 0) {\n          key = key.substring(1)\n          if (key.indexOf('.') > 0) {\n            result = sortDescending(get(a, key), get(b, key))\n          } else {\n            result = sortDescending(a[key], b[key])\n          }\n        } else {\n          if (key.indexOf('.') > 0) {\n            result = sortAscending(get(a, key), get(b, key))\n          } else {\n            result = sortAscending(a[key], b[key])\n          }\n        }\n\n        // exit function when has sorting to perform,\n        // else keep looping to the next sort argument\n        if (result) return result\n      } else if (key.constructor === Function) {\n        result = key(a, b)\n\n        // exit function when has sorting to perform,\n        // else keep looping to the next sort argument\n        if (result) return result\n      }\n    }\n\n    return result\n  }\n}\n\n/**\n * Helper to sort arrays on multiple keys. Can compose like sortBy().thenBy().thenBy()\n * @NOTE: this methods is much slower than writing native sort function, use it for convenience only\n *\n * @uses thenby\n * @see {@link https://github.com/Teun/thenBy.js} for further information\n *\n * @example\n *    array.sort(firstBy((a, b) => (a > b ? -1 : 1)).thenBy('id'))\n *    >>> a will appear before b, then sorted by id alphabetically\n *\n * @param {Function|string} sort - A sorting compare function or, in the case of a string, an object attribute to sort by\n * @param {Object|number} options - An object of options for sorting, or in the case of a number, the sort direction\n * @return {Function} - A new sortBy function\n */\nexport function firstBy (sort, options) {\n  return thenby(sort, options)\n}\n\n/**\n * Randomize List Value Orders by mutation\n *\n * @param {Array} list - to shuffle values for\n * @return {Array} list - mutated with shuffled values\n */\nexport function shuffle (list) {\n  for (let i = list.length - 1; i > 0; i--) {\n    let j = Math.floor(Math.random() * (i + 1));\n    [list[i], list[j]] = [list[j], list[i]]\n  }\n  return list\n}\n\n// LODASH CLONES\n// -----------------------------------------------------------------------------\n\nexport {\n  min,\n  max,\n\n  /**\n   * Creates an array of array values not included in the other given arrays\n   */\n    difference,\n\n  /**\n   * Create a new list of values that exist in all given lists using SameValueZero equality check.\n   * The order and references of result values are determined by the first array.\n   *\n   * @param {Array} args - lists to check for intersection\n   * @return {Array} list - of common values\n   */\n    intersection,\n\n  /**\n   * Creates an array of unique values from all given arrays using the provided 'comparator' function\n   * to determine value equality\n   *\n   * @uses lodash\n   * @see {@link https://lodash.com/docs/4.17.4#unionWith} for further information.\n   *\n   * @param {...Array} arrays - The arrays to inspect\n   * @param {Function} comparator - The comparator invoked per element\n   * @return {Array} - The new array of combined values\n   */\n    unionWith,\n}\n\n/**\n * Flatten an Array a single level deep\n *\n * @param {Array} array - The array to flatten\n * @return {Array} - The new flattened array\n */\nexport const toFlatList = flatten\n","import { hasListValue } from './array.js'\nimport { isInString } from './string.js'\n\n/**\n * NUMBER FUNCTIONS ============================================================\n * =============================================================================\n */\n\n/**\n * Checks if value is classified as a Number primitive or object.\n *\n * Note: To exclude Infinity, -Infinity, and NaN,\n * which are classified as numbers, use the isFinite method.\n *\n * @example\n *  isNumber(3)\n *  >>> true\n *  isNumber(Number.MIN_VALUE)\n *  >>> true\n *  isNumber(Infinity)\n *  >>> true\n *  isNumber('3')\n *  >>> false\n *\n * @param {*} val - The value to check.\n * @returns {boolean} - Returns true if value is a number, else false.\n */\nexport { isNumber } from 'lodash-es'\n\n/**\n * Returns true if the given variable is a number,\n * including if it's data type is not a number eg. '1'\n *\n * @example\n isNumeric('1')  // NOTE: isNumber('1') would return false\n >>> true\n isNumeric('a')\n >>> false\n *\n * @param {*} val\n * @returns {boolean}\n */\nexport function isNumeric(val) {\n\treturn !isNaN(parseFloat(val)) && isFinite(val) // must use parseFloat, cannot use the faster Number()\n}\n\n/**\n * Check if given list of {from: Number, to: Number} is in continuous incrementing order\n * (useful for checking schedules of time durations in milliseconds)\n *\n * @param {Array<{from: Number, to: Number}>} arrayOfNumberRanges - to check for validity\n * @returns {Boolean} true - if it is a continuously incrementing ranges of numbers\n */\nexport function isContinuousNumberRanges(arrayOfNumberRanges) {\n\tif (!hasListValue(arrayOfNumberRanges)) return false\n\tlet result = true\n\tlet lastTo = -Infinity\n\tarrayOfNumberRanges.forEach(({ from, to }) => {\n\t\tif (from <= lastTo || from >= to) result = false\n\t\tif (to) lastTo = to\n\t})\n\treturn result\n}\n\n/**\n * Extract the Starting and Ending Number in given list of continuously incrementing number ranges\n *\n * @param {Array<{from: Number, to: Number}>} arrayOfNumberRanges - to check for values\n * @returns {{start: Number|Undefined, end: Number|Undefined}}\n */\nexport function startEndFromNumberRanges(arrayOfNumberRanges) {\n\tconst start = (arrayOfNumberRanges.find(({ from }) => from != null) || {}).from\n\tlet end = ([...arrayOfNumberRanges].reverse().find(({ to }) => to != null) || {}).to\n\tif (end <= start) end = undefined\n\treturn { start, end }\n}\n\n/**\n * Increment Counter\n *\n * @example:\n *  - This is a Closure Function, declare at the start to instantiate the environment:\n *    const addCount = createIncrementCounter(7)\n *  - Then perform incrementing:\n *    addCount()\n *    >>> 8\n *  - Add 2 to current count:\n *    addCount(2)\n *    >>> 10\n *  - Reset Count:\n *    addCount(0)\n *    >>> 0\n *  - Subtract 2 from current count:\n *    addCount(-2)\n *    >>> -2\n *\n * @param {number} initValue - initial count\n * @return {Function} - closure that stores a local number count,\n *    and increments count by 1 when no argument passed\n * @return\n */\nexport function createIncrementCounter(initValue = 0) {\n\tlet count = initValue\n\treturn value => {\n\t\tif (value === 0) {\n\t\t\tcount = value // Reset count\n\t\t} else if (isNumeric(value)) {\n\t\t\tcount += Number(value)\n\t\t} else {\n\t\t\tcount++ // eslint-disable-line\n\t\t}\n\n\t\treturn count\n\t}\n}\n\n/**\n * Format Currency\n *\n * @param {Number|String} value - to format with currency symbol\n * @param {String} [symbol] - currency code to use, default is `$`\n */\nexport function formatCurrency(value, { symbol = '$' } = {}) {\n\treturn `${symbol} ${shortNumber(value, 3)}`\n}\n\n/**\n * Format Number to Delimited String, and optionally set the number of Decimals\n * @Note: use Number().toLocaleString() for faster performance if no fixed decimals needed.\n *\n * @param {number|string} value - number to format\n * @param {number} [decimals] - length of decimal\n * @param {number} [delimits] - length of digits to be delimited\n * @param {string} [sectionDelimiter] - section delimiter character\n * @param {string} [decimalDelimiter] - decimal delimiter character\n * @param {boolean} [ordinal] - whether to convert to ordinal number\n * @return {string} - delimited number with specified decimals\n */\nexport function formatNumber(\n\tvalue,\n\t{ decimals, delimits = 3, sectionDelimiter = ',', decimalDelimiter, ordinal } = {}\n) {\n\tif (!isNumeric(value)) return value\n\tconst number = Number(value)\n\n\t/* Set Decimals */\n\tlet result = decimals != null ? number.toFixed(decimals) : String(number) // toFixed is slow, but can force decimal\n\n\t/* Replace Delimiter */\n\tif (decimalDelimiter) result = result.replace('.', decimalDelimiter)\n\n\t/* Delimit Sections */\n\t// Note: because JS does not have negative lookbehind regex, we have to create dynamic pattern\n\tif (number >= 1000 || number <= -1000) {\n\t\t// Note: below code is slightly slower than toLocalString(), but needed for custom formatting\n\t\tconst dot = decimalDelimiter || '.'\n\t\tconst dotPattern = `\\\\${dot}\\\\d+`\n\t\tconst pattern = `(\\\\d)(?=(\\\\d{${delimits}})+(${isInString(result, dot) ? dotPattern : '$'}))`\n\t\tresult = result.replace(new RegExp(pattern, 'g'), `$1${sectionDelimiter}`)\n\t}\n\n\t/* Final Output */\n\tif (Number(result) === 0) result = result.replace('-', '')\n\treturn ordinal ? toOrdinal(result) : result\n}\n\n/**\n * Shorten Number to given Digits Length, with Suffix Added if Necessary\n *\n * @param {number|string} value - number to format\n * @param {Number} [digits] - maximum number of digits to keep (will add/remove decimals to match final length)\n * @param {Number} [divider] - value to divide by when determining exponent steps, example: 1024 for bytes\n * @param {String} [delimiter] - character to insert between computed value and suffix\n * @param {Object} [suffixes] - list of suffixes to use for each exponent\n * @return {String} number - shorten to digits length with suffix if needed\n */\nexport function shortNumber (value, digits = 3, divider = 1000, delimiter, suffixes) {\n\tlet number = Number(value)\n\tif (number === 0) return '0'\n\n\t/* Suffix Required */\n\tif (number >= divider || number <= -divider) return formatSI(number, digits, divider, delimiter, suffixes)\n\n\t/* No Suffix Truncate (for numbers less than 1k, with decimals rounded if needed) */\n\tconst decimals = Math.max(0, digits - String(~~Math.abs(number)).length)\n\tnumber = number.toFixed(decimals) // must use toFixed(), cannot use parseFloat, to avoid scientific notation\n\treturn decimals ? number.replace(/\\.?0+$/, '') : number\n}\n\n/**\n * Format Number with SI Prefix\n * @link: https://github.com/ThomWright/format-si-prefix\n *\n * @param {Number} number - to format\n * @param {Number} [precision] - number of significant digits to keep, will round number if 0 given\n * @param {Number} [divider] - value to divide by when determining exponent steps, example: 1024 for bytes\n * @param {String} [delimiter] - character to insert between computed value and suffix\n * @param {Object} [suffixes] - list of suffixes to use for each exponent\n * @return {string} number - with unit suffix if needed\n */\nexport function formatSI (number, precision = 3, divider = 1000, delimiter = '', suffixes = formatSI.PREFIXES) {\n\tif (number === 0) return '0'\n\n\tlet result = Math.abs(number) // significand\n\tlet exponent = 0\n\n\twhile (result >= divider && exponent < 24) {\n\t\tresult /= divider\n\t\texponent += 3\n\t}\n\twhile (result < 1 && exponent > -24) {\n\t\tresult *= divider\n\t\texponent -= 3\n\t}\n\n\tconst prefix = number < 0 ? '-' : ''\n\tif (result > divider) {\n\t\t// exponent == 24\n\t\t// significand can be arbitrarily long\n\t\treturn `${prefix}${result.toFixed(0)}${delimiter}${suffixes[exponent]}`\n\t}\n\treturn `${prefix}${(precision ? Number(result.toPrecision(precision)) : Math.round(result))}${delimiter}${suffixes[exponent]}`\n}\n\nformatSI.PREFIXES = {\n\t'24': 'Y',\n\t'21': 'Z',\n\t'18': 'E',\n\t'15': 'P',\n\t'12': 'T',\n\t'9': 'B',\n\t'6': 'M',\n\t'3': 'k',\n\t'0': '',\n\t'-3': 'm',\n\t'-6': 'µ',\n\t'-9': 'n',\n\t'-12': 'p',\n\t'-15': 'f',\n\t'-18': 'a',\n\t'-21': 'z',\n\t'-24': 'y',\n}\n\n/**\n * Calculate Logarithm for given exponent and base numbers\n *\n * @param {Number} exponent\n * @param {Number} base\n * @returns {number} log\n */\nexport function mathLog(exponent, base) {\n\treturn Math.log(exponent) / Math.log(base)\n}\n\n/**\n * Format Number to Ordinal Numeric String\n *\n * @param {number|string} number - to format\n * @return {string} - ordered number (i.e. 1st, 2nd, 3rd, 4th...)\n */\nexport function toOrdinal(number) {\n\tconst v = number % 100\n\treturn number + (toOrdinal.list[(v - 20) % 10] || toOrdinal.list[v] || toOrdinal.list[0])\n}\n\ntoOrdinal.list = ['th', 'st', 'nd', 'rd']\n\n/**\n * Compute Radian Value from given Degree\n *\n * @param {Number} degree - to ompute\n * @returns {Number} radian\n */\nexport function rad(degree) {\n\treturn (degree * Math.PI) / 180\n}\n\n/**\n * Round off a number to n* last digits\n * (e.g. converting timestamps into whole seconds)\n *\n * @example:\n *    roundTail(1234567, 3)\n *    >>> 1235000\n *    roundTail(1234567, 7)\n *    >>> 1000000\n *    roundTail(5234567, 7)\n *    >>> 10000000\n * @param {number} number - the value to convert\n * @param {number} lastDigits - the number of digits to round off to 0 at the end\n * @returns {number} - rounded number\n */\nexport function roundTail(number, lastDigits) {\n\tif (-1 < number && number < 1) return 0\n\tconst precision = Math.pow(10, lastDigits)\n\treturn Math.round(number / precision) * precision || precision / 10\n}\n\n/**\n * Round Number to given Precision decimal point\n *\n * @example:\n *    roundNumber(123.4567, 3)\n *    >>> 123.457\n *\n * @param {number} number - value to round\n * @param {number} [precision] - decimal places to keep\n * @returns {number} - with rounded values\n */\nexport function round(number, precision = 0) {\n\tconst factor = Math.pow(10, precision)\n\treturn Math.round(number * factor) / factor\n}\n\n/**\n * Round Number up to given Precision decimal point\n *\n * @example:\n *    roundUp(123.4564, 3)\n *    >>> 123.457\n *\n * @param {number} number - value to round\n * @param {number} [precision] - decimal places to keep\n * @returns {number} - with rounded values\n */\nexport function roundUp(number, precision = 0) {\n\tconst factor = Math.pow(10, precision)\n\treturn Math.ceil(number * factor) / factor\n}\n\n/**\n * Round Number down to given Precision decimal point\n *\n * @example:\n *    roundDown(123.4567, 3)\n *    >>> 123.456\n *\n * @param {number} number - value to round\n * @param {number} [precision] - decimal places to keep\n * @returns {number} - with rounded values\n */\nexport function roundDown (number, precision = 0) {\n\tconst factor = Math.pow(10, precision)\n\treturn Math.floor(number * factor) / factor\n}\n\n/**\n * Round Number to the closest Multiple of value\n * @Note: this function need precision rounding because of floating point issues, as the last operation is multiply\n *    => example: roundTo(1.2, 0.1)\n *    >>> 1.2000000000000002 -> this is the output without precision rounding\n *\n * @example:\n *    roundTo(123.4567, 10)\n *    >>> 120\n *\n * @param {number} number - value to round\n * @param {number} [multiple] - value, the multiple of which to round to\n * @returns {number} - rounded to given multiple of value\n */\nexport function roundTo (number, multiple = 1) {\n\treturn +(Math.round(number / multiple) * multiple).toPrecision(15)\n}\n\n/**\n * Round Down Number to the closest Multiple of value\n * @Note: this function needs rounding twice, because\n *    => example: 1.2 / 0.1\n *    >>> 11.999999999999998 -> rounds down to 11\n *\n * @example:\n *    roundTo(123.4567, 10)\n *    >>> 120\n *\n * @param {number} number - value to round\n * @param {number} [multiple] - value, the multiple of which to round to\n * @returns {number} - rounded to given multiple of value\n */\nexport function roundDownTo (number, multiple = 1) {\n\treturn +(Math.floor(+(number / multiple).toPrecision(15)) * multiple).toPrecision(15)\n}\n\n/**\n * Round Up Number to the closest Multiple of value\n * @Note: this function needs rounding twice, like roundDownTo\n *\n * @example:\n *    roundTo(123.4567, 10)\n *    >>> 130\n *\n * @param {number} number - value to round\n * @param {number} [multiple] - value, the multiple of which to round to\n * @returns {number} - rounded to given multiple of value\n */\nexport function roundUpTo (number, multiple = 1) {\n\treturn +(Math.ceil(+(number / multiple).toPrecision(15)) * multiple).toPrecision(15)\n}\n\n/**\n * Get decimal places of given Numeric value\n *\n * @param {number|string} value - number to get precision for\n * @return {number} precision - decimal places\n */\nexport function decimalPlaces (value) {\n\tconst match = String(Number(value)).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/)\n\tif (!match) return 0\n\treturn Math.max(\n\t\t// Number of digits right of decimal point.\n\t\t(match[1] ? match[1].length : 0) -\n\t\t\t// Adjust for scientific notation.\n\t\t\t(match[2] ? +match[2] : 0),\n\t\t0\n\t)\n}\n\n/**\n * Calculates the Greatest Common Divisor Between Two Numbers\n *\n * @param {Number|String} a - first number\n * @param {Number|String} b - second number\n * @returns {Number} - the biggest divisible number between `a` and `b`\n */\nexport function greatestCommonDivisor(a, b) {\n\treturn b ? greatestCommonDivisor(b, a % b) : Math.abs(Number(a) || Infinity)\n}\n\n/**\n * Returns a random integer/float between min (inclusive) and max (inclusive),\n * if given numbers are whole integers, then returned value will also be a whole number,\n * if given numbers are floats, then returned value can also be a float.\n *\n * Note: Using Math.round() will give you a non-uniform distribution!\n *\n * @param {number} min - minimum number\n * @param {number} max - maximum number\n * @returns {number} - random value between min and max, inclusive\n */\nexport function randomNumberInRange(min, max) {\n\treturn Math.floor(Math.random() * (max - min + 1)) + min\n}\n\n/**\n * Compute the Difference between two numbers in Percents\n *\n * @param {number} newNumber - new value to calculate percent change\n * @param {number} baseNumber - the number to calculate percentage from\n * @return {number|NaN} diff - percentage difference, or not a number\n */\nexport function toPercentage(newNumber, baseNumber) {\n\tif (!isNumeric(newNumber) || !isNumeric(baseNumber)) return NaN\n\tif (baseNumber === 0) return newNumber === 0 ? 0 : newNumber > 0 ? Infinity : -Infinity\n\treturn ((newNumber - baseNumber) / baseNumber) * 100\n}\n\n/**\n * Convert Fraction number to Percentage string with '%', or render an empty string if not a number\n *\n * @param {Number|String} number - fraction from 0 to 1 to show as percent\n * @param {Number} [decimals] - number of digits to show after the dot\n * @returns {String} percentage - formatted string with set decimal places and '%', or empty string\n */\nexport function toPercent (number, decimals = 0) {\n\tif (!isNumeric(number)) return ''\n\treturn (Number(number) * 100).toFixed(decimals).toLocaleString() + '%'\n}\n","import { merge, isObject } from 'ui-utils-pack/object'\nimport { errorsMap } from './rules'\nimport { FIELD, ISO_8601_FULL } from 'ui-modules-pack'\nimport { cloneDeep } from 'ui-utils-pack'\n\nexport const getFormsData = (forms) => {\n  const formDataArray = [];\n\n  forms.forEach(value => {\n    const { form, meta } = value;\n    const formData = getStructuredDataFromFormObject(form, meta);\n    if (formData) {\n      formDataArray.push(formData);\n    }\n  })\n\n  return mergeData([...formDataArray]);\n}\n\nconst getStructuredDataFromFormObject = (form, meta) => {\n  const { relativePath, relativeIndex } = meta || {};\n\n  if (relativePath && typeof relativeIndex === 'undefined') {\n    return;\n  }\n\n  const formValues = cloneDeep(form.getState().values);\n  const formState = changeOptionOrderForSelectFields(formValues, meta);\n\n  if (!relativePath) {\n    return formState;\n  }\n\n  return createObjectStructure(formState, relativePath, relativeIndex);\n}\n\nconst createObjectStructure = (value, relativePath, relativeIndex) => {\n  return relativePath.split('.').reverse().reduce((acc, item, index) => {\n    const result = {};\n    if (index === 0) {\n      const tmpArray = [];\n      tmpArray[relativeIndex] = value;\n      result[item] = tmpArray;\n    } else {\n      result[item] = acc;\n    }\n\n    return result;\n  }, {})\n}\n\nconst mergeData = (formData) => {\n  let masterDataIndex = -1;\n  // Find Master object which contains all data structure\n  // It should be one object in array\n  // All other objects contain only one property at the first level of the structure\n  let result = formData.find((formValues, index) => {\n    if (Object.keys(formValues).length !== 1) {\n      masterDataIndex = index;\n      return true\n    }\n    return false;\n  })\n\n  formData.forEach((formValues, index) => {\n    if (index === masterDataIndex) {\n      return;\n    }\n\n    result = merge(result, formValues);\n  })\n\n  return result;\n}\n\nexport const replaceDeep = (object, key, value) => {\n  if (Array.isArray(object)) {\n    object.forEach(item => {\n      replaceDeep(item, key, value)\n    })\n  } else if (isObject(object)) {\n    if (object.hasOwnProperty(key)) {\n      object[key] = value;\n    }\n\n    Object.keys(object).forEach(k => {\n      replaceDeep(object[k], key, value)\n    })\n  }\n};\n\nfunction getKeyAndPathFromMetaData(meta) {\n  const { relativeIndex, relativePath } = meta;\n  let path = '';\n  let key = 'master';\n\n  if (relativePath && typeof relativeIndex === 'undefined') {\n    return {};\n  }\n\n  if (relativePath) {\n    path = `${relativePath}[${relativeIndex}].`;\n    key = path;\n  }\n\n  return { key, path }\n}\n\nexport function errorsProcessing(form, meta) {\n  const { key, path } = getKeyAndPathFromMetaData(meta);\n  const errors = {};\n\n  if (!key) {\n    return;\n  }\n\n  const registeredFieldNames = form.getRegisteredFields()\n  if (!registeredFieldNames.length) {\n    return;\n  }\n\n  registeredFieldNames.forEach(field => {\n    const { name, error, touched } = form.getFieldState(field);\n    if (error && touched) {\n      let errorText = error;\n      if (errorText === 'Required') {\n        errorText = convertFieldNameToTitleCaseText(name) + ' is Required'\n      }\n      errors[`${path}${name}`] = errorText;\n    }\n  })\n\n  if (Object.keys(errors).length) {\n    errorsMap[key] = errors;\n  } else {\n    delete errorsMap[key];\n  }\n}\n\nexport const clearErrorsMap = (form, meta) => {\n  const { key } = getKeyAndPathFromMetaData(meta);\n\n  if (!key) {\n    return;\n  }\n\n  delete errorsMap[key];\n}\n\n/*\n Expected format of filed validation object (from Policy team)\n {\n    \"quote.termDetails[0].termEffectiveDate\": {\n        \"messages\": [\n            {\n                \"text\": \"Master Policy should be effective on the 1st day of month.\"\n            }\n        ],\n    }\n}\n */\nexport const mapErrorObjectToUIFormat = (errors) => {\n  const result = {};\n\n  Object.keys(errors).forEach(key => {\n    Object.keys(errors[key]).forEach(fieldName => {\n      result[fieldName] = {\n        messages: [\n          {\n            text: errors[key][fieldName]\n          }\n        ]\n      }\n    })\n  })\n\n  return result;\n}\n\nexport const convertFieldNameToTitleCaseText = (str) => {\n  let fieldName = str;\n  if (fieldName.includes('.')) {\n    fieldName = fieldName.split('.').pop();\n  }\n  const result = fieldName.replace(/([A-Z])/g, \" $1\").trim();\n\n  return result.charAt(0).toUpperCase() + result.slice(1);\n}\n\n// Find Select fields and change options order in case select was changed\nconst changeOptionOrderForSelectFields = (data, meta) => {\n  // find data related to Select and change options order\n  const recursiveDataParser = (data, optionName, selectValue) => {\n    let isDataOrderChanged = false\n    if (isObject(data)) {\n      Object.keys(data).forEach(key => {\n        if (Array.isArray(data[key]) && data[key][0] && data[key][0][optionName]) {\n          data[key].unshift(data[key].splice(selectValue, 1)[0]);\n          isDataOrderChanged = true\n        }\n      })\n    }\n    return isDataOrderChanged\n  }\n\n  if (meta && meta.view === FIELD.TYPE.SELECT) {\n    const selectName = meta.name;\n    if (typeof data[selectName] === 'string') {\n      const { mapOptions } = meta;\n      const { text: optionName, value: optionValue } = mapOptions\n      if (typeof mapOptions === 'string') {\n        recursiveDataParser(data, mapOptions, data[selectName]) && delete data[selectName]\n      } else if (optionValue === '{index}') {\n        recursiveDataParser(data, optionName, data[selectName]) && delete data[selectName]\n      }\n    }\n  }\n\n  if (meta && Array.isArray(meta.items)) {\n    meta.items.forEach(item => {\n      changeOptionOrderForSelectFields(data, item)\n    })\n  } else if (meta && meta.renderItem && Array.isArray(meta.renderItem.items)) {\n    meta.renderItem.items.forEach(item => {\n      changeOptionOrderForSelectFields(data, item)\n    })\n  }\n\n  return data;\n}\n\n/*\n  Return date in format 'YYYY-MM-DD'\n */\nexport const getDateStringFromDateObject = (date) => {\n  const year = String(date.getFullYear()).padStart(4, '0')\n  const month = String(date.getMonth() + 1).padStart(2, '0')\n  const day = String(date.getDate()).padStart(2, '0')\n  return `${year}-${month}-${day}`\n}\n\nexport const normalizeIncomingData = (data) => {\n  if (!data) {\n    return data\n  }\n\n  if (typeof data === 'string') {\n    if (ISO_8601_FULL.test(data)) {\n      // based on previous solution from Normalize function\n      return data.split('T')[0]\n    }\n\n    return data\n  }\n\n  if (typeof data === 'number') {\n    return data\n  }\n\n  if (data instanceof Date) {\n    return getDateStringFromDateObject(data);\n  }\n\n  if (Array.isArray(data)) {\n    return data.map(item => normalizeIncomingData(item))\n  }\n\n  if (Object.keys(data).length) {\n    const nextData = {};\n    Object.keys(data).forEach(key => {\n      nextData[key] = normalizeIncomingData(data[key])\n    })\n    return nextData;\n  }\n\n  return data;\n}","import { Active, namespace } from 'ui-utils-pack'\n\n/**\n * CONSTANT VARIABLES ==========================================================\n * =============================================================================\n */\n\nexport const UPLOAD = 'UPLOAD' // namespace this module\nexport const UPLOAD_SERVER = namespace(UPLOAD, Active.SERVICE) // Namespace this module for backend\n","import { createNestedRoutes, ROUTE, ROUTES } from 'ui-modules-pack/variables'\nimport { __PROD__, ENV } from 'ui-utils-pack'\n\nexport const ROUTE_BASE = __PROD__ ? `${ENV.REACT_APP_HOMEPAGE || ''}/` : '/'\nconst _ROUTE = {\n  HOME: ROUTE_BASE,\n  DOCS: __PROD__ ? ROUTE_BASE : `${ROUTE_BASE}docs`,\n  TEST: `${ROUTE_BASE}test`\n}\nObject.assign(ROUTE, _ROUTE)\n\nconst _ROUTES = {\n  FOR_DEFINITION: createNestedRoutes(ROUTE, {\n    [ROUTE.DOCS]: __PROD__ ? ':id?' : '/:id?', // add id to this route\n  }),\n  FOR_NAV: [],\n  WITHOUT_NAV: []\n}\n\nObject.assign(ROUTES, _ROUTES)\nexport { ROUTE, ROUTES }\n\nexport function goTo (uri, title = uri, page = uri) {\n  if (typeof window === 'undefined') return\n// eslint-disable-next-line no-restricted-globals\n  if (typeof history === 'undefined') return\n// eslint-disable-next-line no-restricted-globals\n  if (typeof history.pushState !== 'undefined') {\n// eslint-disable-next-line no-restricted-globals\n    history.pushState({page: page}, title, uri)\n  } else {\n    window.location.assign(uri)\n  }\n}\n","import { FILE } from 'ui-react-pack/files'\nimport { __PROD__, ENV } from 'ui-utils-pack'\n/**\n * GLOBAL VARIABLES ============================================================\n * =============================================================================\n */\n\nexport * from './routes'\n\nif (__PROD__) FILE.PATH_IMAGES = `${ENV.REACT_APP_HOMEPAGE}/static/images/`\n\n/* Platform Prefixes */\nexport const SERVER = 'SERVER'\n","import { get } from 'ui-utils-pack'\nimport selector from 'ui-utils-pack/selectors'\nimport { ROUTER } from './constants'\n\n/**\n * STATE SELECTORS =============================================================\n * Memoized Functions - to retrieve specific branches of the app state\n * =============================================================================\n */\n\n@selector(ROUTER)\nexport default class select {\n  static activeRoute = () => [\n    (state) => get(state, `${ROUTER}.location.pathname`),\n    (val) => val\n  ]\n}\n","/**\n * CONSTANT VARIABLES ==========================================================\n * =============================================================================\n */\n\nexport const ROUTER = 'router'  // Namespace this module\n","import { DEFINITION_BY_VAL, ENUM } from 'ui-modules-pack/variables/definitions'\nimport { definitionByValue, enumFrom, l } from 'ui-utils-pack'\n\n/**\n * LOCALISED DEFINITIONS =======================================================\n * =============================================================================\n */\n\nexport const _USER = {\n  // @Note: User Authorization can have matching values with User Role, but incrementing in between.\n  //    Example: a Supervising Staff may have authorization level 200, while New Hire - level 99.\n  //    It is then possible to set access threshold for certain features based on auth level.\n  ROLE: {\n    // 0: 'Any' - zero value code is used to delete record in database\n    // Language is the bottom most in hierarchy because code should be defined only once\n    // and it's easier to see all translation of the same word together\n    // We use numbered code for security reasons so it's harder for hackers to guess.\n    // Numbered code also allows computation of permissions with quick `<` or `>` checks\n    USER: {\n      _: 0, // default role -> undefined in database\n      [l.ENGLISH]: 'User',\n      // [l.RUSSIAN]: 'Пользователь',\n    },\n    STAFF: {\n      _: 99,\n      [l.ENGLISH]: 'Staff',\n      // [l.RUSSIAN]: 'Сотрудник',\n    },\n    DEVELOPER: {\n      _: 699,\n      [l.ENGLISH]: 'Developer',\n      // [l.RUSSIAN]: 'Девелопер',\n    },\n    ADMIN: {\n      _: 999,\n      [l.ENGLISH]: 'Admin',\n      // [l.RUSSIAN]: 'Админ',\n    },\n  },\n\n  KIND: {\n    INDIVIDUAL: {\n      _: 0,\n      [l.ENGLISH]: 'Individual',\n      // [l.RUSSIAN]: 'Частное Лицо',\n    },\n    COMPANY: {\n      _: 1,\n      [l.ENGLISH]: 'Company',\n      // [l.RUSSIAN]: 'Компания',\n    },\n  },\n}\n\nexport const SEX = { // code needs to be incrementing value for slider\n  ANY: {\n    _: 0,\n    [l.ENGLISH]: 'Any',\n  },\n  FEMALE: {\n    _: 1,\n    [l.ENGLISH]: 'Female',\n  },\n  MALE: {\n    _: 2,\n    [l.ENGLISH]: 'Male',\n  }\n}\n\nDEFINITION_BY_VAL.USER_ROLE = definitionByValue(_USER.ROLE)\nDEFINITION_BY_VAL.USER_KIND = definitionByValue(_USER.KIND)\nDEFINITION_BY_VAL.SEX = definitionByValue(SEX)\nENUM.USER_ROLE = enumFrom(_USER.ROLE)\nENUM.USER_KIND = enumFrom(_USER.KIND)\nENUM.SEX = enumFrom(SEX)\n","import { _USER } from './definitions'\n\n/**\n * BUSINESS LOGIC COMPUTATIONS =================================================\n * =============================================================================\n */\n\n/**\n * Check if User has Admin or higher authorization based on User.auth\n */\nexport function hasAdminAuth (auth) {\n  return auth >= _USER.ROLE.ADMIN._\n}\n\n/**\n * Check if User has Developer or higher authorization based on User.auth\n */\nexport function hasDeveloperOrHigherAuth (auth) {\n  return auth >= _USER.ROLE.DEVELOPER._\n}\n\n/**\n * Check if User has Staff or higher authorization based on User.auth\n */\nexport function hasStaffOrHigherAuth (auth) {\n  return auth >= _USER.ROLE.STAFF._\n}\n\n/**\n * Check if User has Staff or higher permission based on User.role\n */\nexport function hasStaffOrHigherRole (role) {\n  return role >= _USER.ROLE.STAFF._\n}\n\n/**\n * Check if given User.role is Staff\n */\nexport function isStaff (role) {\n  return role === _USER.ROLE.STAFF._\n}\n\n/**\n * Check if given User.role is Admin\n */\nexport function isAdmin (role) {\n  return role === _USER.ROLE.ADMIN._\n}\n\n/**\n * Check if given User.kind is Company\n */\nexport function isCompany (kind) {\n  return kind === _USER.KIND.COMPANY._\n}\n\n/**\n * Check if given User.kind is Individual\n */\nexport function isIndividual (kind) {\n  return !kind || kind === _USER.KIND.INDIVIDUAL._\n}\n\n/**\n * Check if given Instance or Object is of User Type\n *\n * @param {Object|Undefined} instance - to check, can be empty\n * @returns {Boolean} true - if it is\n */\nexport function isUserModel (instance) {\n  return !!instance && (instance.lastLogin != null || instance.lastOnline != null || instance.surname != null)\n}\n","import { l, localiseTranslation } from 'ui-utils-pack'\n\n/**\n * LOCALISED TRANSLATIONS (i18n) ===============================================\n * =============================================================================\n */\n\nexport { _ } from 'ui-utils-pack/translations'\nlocaliseTranslation({\n  GIVEN_NAME: {\n    [l.ENGLISH]: 'Given Name',\n    // [l.RUSSIAN]: 'Имя',\n  },\n  MY_GIVEN_NAME_IS: {\n    [l.ENGLISH]: 'My given name is',\n    // [l.RUSSIAN]: 'Моё имя',\n  },\n  MY_SURNAME_IS: {\n    [l.ENGLISH]: 'My surname is',\n    // [l.RUSSIAN]: 'Моя фамилия',\n  },\n  SURNAME: {\n    [l.ENGLISH]: 'Surname',\n    // [l.RUSSIAN]: 'Фамилия',\n  },\n  ABOUT_ME: {\n    [l.ENGLISH]: 'About Me',\n    // [l.RUSSIAN]: 'О себе',\n  },\n  BRIEF_DESCRIPTION: {\n    [l.ENGLISH]: 'Brief description',\n    // [l.RUSSIAN]: 'Краткое описание',\n  },\n  DATE_OF_BIRTH: {\n    [l.ENGLISH]: 'Date of Birth',\n    // [l.RUSSIAN]: 'Дата Рождения',\n  },\n  I_WAS_BORN: {\n    [l.ENGLISH]: 'I was born',\n    // [l.RUSSIAN]: 'Я родился(лась)',\n  },\n  MY_ROLE: {\n    [l.ENGLISH]: 'My Role',\n    // [l.RUSSIAN]: 'Моя Роль',\n  },\n  REGISTER_ME_AS: {\n    [l.ENGLISH]: 'Register me as',\n    // [l.RUSSIAN]: 'Зарегистрировать меня как',\n  },\n  GENDER: {\n    [l.ENGLISH]: 'Gender',\n    // [l.RUSSIAN]: 'Пол',\n  },\n  I_AM: {\n    [l.ENGLISH]: 'I am',\n    // [l.RUSSIAN]: 'Я',\n  },\n})\n","import { stickyPlaceholder } from 'ui-modules-pack/form/constants'\nimport { FIELD } from 'ui-modules-pack/variables'\nimport { timeInThePast } from 'ui-react-pack/inputs/validationRules'\nimport { Active, capitalize, optionsFrom } from 'ui-utils-pack'\nimport { namespace } from 'ui-utils-pack/utility'\nimport { _USER, SEX } from './definitions'\nimport * as t from './translations'\nimport { _ } from './translations'\n\nconst sideEffects = {t}\n\n/**\n * CONSTANT VARIABLES ==========================================================\n * =============================================================================\n */\n\nexport const USER = 'USER' // Namespace this module\nexport const USERS = 'USERS' // GraphQL field type for list query (to be lower-cased)\nexport const USER_CLIENT = namespace(USER, Active.SERVICE) // Namespace this module for frontend\nexport const USER_SERVER = namespace(USER, Active.SERVICE) // Namespace this module for backend\nexport const USER_MODEL = capitalize(USER) // db model name\nexport const SELF = `${USER}_SELF`\nexport const USER_LOGIN = `${USER}_LOGIN`\nexport const ROLE = {} // object of role values by name\nfor (const name in _USER.ROLE) {\n  ROLE[name] = _USER.ROLE[name]._\n}\n\n// Field IDs\nFIELD.ID = {\n  GIVEN_NAME: `${USER}_GIVEN_NAME`,\n  SURNAME: `${USER}_SURNAME`,\n  FULL_NAME: `${USER}_FULL_NAME`,\n  ABOUT_ME: `${USER}_ABOUT_ME`,\n  BIRTHDAY: `${USER}_BIRTHDAY`,\n  BIRTH_n_SEX: `${USER}_BIRTH_&_SEX`,\n  ROLE: `${USER}_ROLE`,\n  SEX: `${USER}_SEX`,\n}\n\n// Lists\nFIELD.FOR = {\n  /* To be defined on implementation */\n  // USER_CONTACTS: [\n  //   {id: FIELD.ID.EMAIL, required},\n  //   {id: FIELD.ID.PHONE, required},\n  //   {id: FIELD.ID.ADDRESS},\n  // ],\n  // USER_PROFILE: [\n  //   {id: FIELD.ID.FULL_NAME},\n  //   {id: FIELD.ID.BIRTH_n_SEX},\n  // ],\n}\n\n// Field Definitions\nFIELD.DEF = {\n  [FIELD.ID.GIVEN_NAME]: {\n    name: 'name',\n    get label () {return _.GIVEN_NAME},\n    get hint () {return _.MY_GIVEN_NAME_IS},\n    view: FIELD.TYPE.INPUT,\n  },\n  [FIELD.ID.SURNAME]: {\n    name: 'surname',\n    get label () {return _.SURNAME},\n    get hint () {return _.MY_SURNAME_IS},\n    view: FIELD.TYPE.INPUT,\n  },\n  [FIELD.ID.ABOUT_ME]: {\n    name: 'about',\n    get label () {return _.ABOUT_ME},\n    get hint () {return _.ABOUT_ME},\n    get placeholder () {return _.BRIEF_DESCRIPTION},\n    type: 'textarea',\n    view: FIELD.TYPE.INPUT,\n  },\n  [FIELD.ID.BIRTHDAY]: {\n    name: 'birthday',\n    get label () {return _.DATE_OF_BIRTH},\n    get hint () {return _.I_WAS_BORN},\n    placeholder: 'dd.mm.yyyy',\n    stickyPlaceholder,\n    validate: [timeInThePast],\n    view: FIELD.TYPE.DATE,\n  },\n  [FIELD.ID.ROLE]: {\n    name: 'role',\n    get label () {return _.MY_ROLE},\n    get hint () {return _.REGISTER_ME_AS},\n    options: optionsFrom([_USER.ROLE.STAFF, _USER.ROLE.USER]),\n    view: FIELD.TYPE.DROPDOWN,\n  },\n  [FIELD.ID.SEX]: {\n    name: 'sex',\n    get label () {return _.GENDER},\n    get hint () {return _.I_AM},\n    options: optionsFrom([SEX.FEMALE, SEX.MALE]),\n    view: FIELD.TYPE.DROPDOWN,\n    // Cannot use minWidth because it causes overflow for long text, add minWidth for FormInSteps only\n    // style: {minWidth: 120},\n  },\n  [FIELD.ID.FULL_NAME]: {\n    // `required` can be passed down as group, leave undefined by default for customisation\n    items: [{id: FIELD.ID.GIVEN_NAME}, {id: FIELD.ID.SURNAME}],\n    view: FIELD.TYPE.GROUP,\n  },\n  [FIELD.ID.BIRTH_n_SEX]: {\n    items: [{id: FIELD.ID.BIRTHDAY}, {id: FIELD.ID.SEX}],\n    view: FIELD.TYPE.GROUP,\n  },\n}\n","import { hasStaffOrHigherRole, isAdmin, isCompany, isIndividual, isStaff } from 'ui-modules-pack/user/logic'\nimport { DEFAULT } from 'ui-modules-pack/variables'\nimport { Active } from 'ui-utils-pack'\nimport selector from 'ui-utils-pack/selectors'\nimport { USER } from './constants'\n\n// noinspection JSPotentiallyInvalidUsageOfClassThis\n/**\n * STATE SELECTORS =============================================================\n * Memoized Functions - to retrieve specific branches of the app state\n * =============================================================================\n */\n\n@selector(USER)\nexport default class select {\n  static self = () => [\n    (state) => state[USER].self,\n    (val) => Active.user = val || {}\n  ]\n\n  static id = () => [\n    (state) => state[USER].self.id,\n    (val) => val\n  ]\n\n  static role = () => [\n    (state) => state[USER].self.role,\n    (val) => val\n  ]\n\n  static kind = () => [\n    (state) => state[USER].self.kind,\n    (val) => val\n  ]\n\n  // This selector is used to compute whether to show Login or Signup popup, without identifying user\n  static lastLogin = () => [\n    (state) => state[USER].self.lastLogin,\n    (val) => val\n  ]\n\n  static loading = () => [\n    state => state[USER].loading,\n    (val) => val || {}\n  ]\n\n  static isLoggedIn = () => [\n    (state) => state[USER].self.id,\n    (state) => state[USER].self.lastLogin,\n    (id, lastLogin) => (Active.user.isLoggedIn = (!!id && (Date.now() - lastLogin) < DEFAULT.LOGIN_DURATION))\n  ]\n\n  static isAdmin = function () {\n    return [\n      this.role,\n      isAdmin,\n    ]\n  }\n\n  static isStaff = function () {\n    return [\n      this.role,\n      isStaff,\n    ]\n  }\n\n  static hasStaffOrHigherRole = function () {\n    return [\n      this.role,\n      hasStaffOrHigherRole,\n    ]\n  }\n\n  static isCompany = function () {\n    return [\n      this.kind,\n      isCompany,\n    ]\n  }\n\n  static isIndividual = function () {\n    return [\n      this.kind,\n      isIndividual,\n    ]\n  }\n}\n","import { THEME } from '../variables'\n\n/**\n * CONSTANT VARIABLES ==========================================================\n * =============================================================================\n */\n\nexport const NAME = 'SETTINGS' // Namespace this module\nexport const UI = `${NAME}_UI`\nexport const SETTING = {THEME}\n","import routerSelect from 'ui-modules-pack/router/selectors'\nimport userSelect from 'ui-modules-pack/user/selectors'\nimport { Active, findObjByKeys, isInList, LANGUAGE } from 'ui-utils-pack'\nimport selector from 'ui-utils-pack/selectors'\nimport { CURRENCY, DEFAULT, ROUTES } from '../variables'\nimport { NAME } from './constants'\n\n/**\n * STATE SELECTORS =============================================================\n * Memoized Functions - to retrieve specific branches of the app state\n * =============================================================================\n */\n\n@selector(NAME)\nexport default class select {\n  static country = () => [\n    (state) => state[NAME].data.country,\n    (val) => val\n  ]\n\n  static currency = () => [\n    (state) => state[NAME].data.currency,\n    (val) => {\n      Active.CURRENCY = findObjByKeys(CURRENCY, {_: val}) || findObjByKeys(CURRENCY, {_: DEFAULT.CURRENCY})\n      return val\n    }\n  ]\n\n  static language = () => [\n    (state) => state[NAME].data.language,\n    (val) => { // @note: do not add default language here to trigger setLanguageFlow saga\n      Active.LANG = findObjByKeys(LANGUAGE, {_: val}) || LANGUAGE.ENGLISH\n      return val\n    }\n  ]\n\n  static isOpenSidebar = () => [\n    (state) => state[NAME].ui.isOpenSidebar,\n    (val) => val\n  ]\n\n  static theme = () => [\n    (state) => state[NAME].data.theme,\n    (val) => val\n  ]\n\n  static ui = () => [\n    (state) => state[NAME].ui,\n    (val) => val\n  ]\n\n  static routesForNav = function () {\n    return [\n      routerSelect.activeRoute,\n      userSelect.role,\n      userSelect.isLoggedIn,\n      (activeRoute, userRole, isLoggedIn) => {\n        if (isInList(ROUTES.WITHOUT_NAV, activeRoute)) return []\n        const routeWithoutId = activeRoute.substring(0, activeRoute.lastIndexOf('/'))\n        if (routeWithoutId && isInList(ROUTES.WITHOUT_NAV, routeWithoutId)) return []\n        return ROUTES.FOR_NAV.filter(r => {\n          if (r.userRoles != null && !isInList(r.userRoles, userRole)) return false\n          if (r.isLoggedIn != null && r.isLoggedIn !== isLoggedIn) return false\n          return true\n        })\n      }\n    ]\n  }\n}\n","import classNames from 'classnames'\nimport React from 'react'\nimport View from './View'\n\n/**\n * Modal - Pure Component\n */\nexport function Modal ({\n  isOpen = false,\n  canClose = true,\n  onClose,\n  className,\n  children\n}) {\n  return (\n    <View className={'app__modal fade-in' + (isOpen ? ' active' : '')}>\n      <View\n        className='app__modal__backdrop no-outline'\n        onClick={() => canClose && onClose && onClose()}\n      />\n      {isOpen &&\n      <View className={classNames('app__modal__box', className)}>\n        <View className='app__modal__box__content'>\n          {children}\n        </View>\n      </View>\n      }\n    </View>\n  )\n}\n\nexport default React.memo(Modal)\n","import { ROUTE } from 'ui-modules-pack'\nimport React from 'react'\nimport { withRouter } from 'react-router'\nimport { Link as ClientLink, Route } from 'react-router-dom'\nimport { onPressHoc, SOUND } from 'ui-react-pack'\nimport { Active, hasListValue } from 'ui-utils-pack'\nimport { idFromRoute } from '../utils'\n\n/**\n * Recursively Declare Browser Routes using Absolute Paths\n * @Note: this function expects js files to be found with matching route path from `pages` default export\n *\n * @param {Array} routes - list of nested routes, in this structure [{path, name, items}]\n * @param {Object} pages - pages by route name\n * @returns {Array} routes - flat list of React Route Components\n */\nexport function defineRoutes (routes, pages) {\n  const results = []\n  if (!hasListValue(routes)) return results\n  routes.forEach(({path, items}) => {\n    const route = (path.indexOf('/:') ? path.split('/:')[0] : path)\n    results.push(<Route key={path} exact path={path} component={pages[route] || pages[ROUTE.HOME]}/>)\n    if (hasListValue(items)) results.push(defineRoutes(items, pages))\n  })\n  return results\n}\n\n/**\n * Link HOC for react-router to play sound onClick\n */\nexport function Link ({onClick, sound = Active.SETTINGS.HAS_SOUND && SOUND.TOUCH, ...props}) {\n  return <ClientLink onClick={onPressHoc(onClick, sound)} {...props}/>\n}\n\n/**\n *\n * React Component Decorator (HOC) to provide this.id getter that returns ID from Browser router pathname\n *\n * @example:\n *    https://example.com/user/edit/uuid\n *    this.id\n *    >>> 'uuid'\n *\n * @param {Class|Function} constructor - to be decorated\n * @param {Class|Function} constructor - class, wrapped using @withRouter decorator\n */\nexport function withRouteId (constructor) {\n  // Define instance getter\n  Object.defineProperty(constructor.prototype, 'id', {\n    get () {\n      return idFromRoute(this.props)\n    }\n  })\n  return withRouter(constructor)\n}\n","import { CHANGE } from 'ui-utils-pack'\n\n/**\n * CONSTANT VARIABLES ==========================================================\n * =============================================================================\n */\n\nexport const ACTION_TYPE = '@@router' // for react-router\nexport const ROUTER_ACTION_TYPE = {\n  [CHANGE]: `${ACTION_TYPE}/LOCATION_CHANGE`\n}\n","import { Active } from 'ui-utils-pack'\n\n// history requires DOM and will throw error in Node when used with Next.js\n// thus need to do conditional check before importing\nexport const history = Active.history = typeof window !== 'undefined' ? require('history').createBrowserHistory() : {}\nexport default history\n","import { ConnectedRouter, connectRouter, routerMiddleware } from 'connected-react-router'\nimport { Route } from 'react-router-dom'\nimport { ROUTER } from '../constants'\nimport select from '../selectors'\nimport { defineRoutes } from './components'\nimport { ACTION_TYPE } from './constants'\nimport history from './history'\n\n/**\n * BROWSER ROUTER EXPORTS ======================================================\n * Modules' Exposing API - to enable consistent and maintainable app integration\n * =============================================================================\n */\n\nexport { Switch } from 'react-router-dom'\nexport { withRouter } from 'react-router'\nexport * from '../utils'\nexport * from '../constants'\nexport * from './constants'\nexport * from './components'\nexport * from './actions'\nexport * from './history'\nexport {\n  select\n}\n\nconst router = {\n  NAME: ROUTER,\n  ACTION_TYPE,\n  history,\n  middleware: typeof window !== 'undefined' ? routerMiddleware(history) : {},\n  reducer: typeof window !== 'undefined' ? connectRouter(history) : undefined,\n  Router: ConnectedRouter,\n  Route,\n  select,\n  defineRoutes,\n  get activeRoute () {\n    const {location: {pathname} = {}} = history\n    return pathname\n  },\n  get activeRouteId () {\n    return (this.activeRoute || '').split(/\\//).pop()\n  }\n}\n\nexport default  router\n","import { GET, performStorage } from 'ui-utils-pack'\nimport { NAME } from './constants'\n\n/**\n * STATE DATA ==================================================================\n * Initial State or Test Data - used to launch the app initially\n * =============================================================================\n */\n\nconst initState = {\n  data: {\n    ...performStorage(GET, NAME)\n  },\n  ui: {\n    loading: false,\n  }\n}\n\nexport default initState\n","import { combineReducers, handleActions, stateActionType, uiLoading } from 'ui-modules-pack/redux'\nimport { performStorage, SET } from 'ui-utils-pack'\nimport { NAME, UI } from './constants'\nimport initState from './data'\n\n/**\n * ACTION HANDLERS =============================================================\n * Pure Functions Only - business logic to handle actions and update app state\n * =============================================================================\n */\n\n/* Data Handler (persistent settings) */\nconst dataHandler = handleActions({\n\n  [stateActionType(NAME, SET)]: (state, {payload}) => {\n    const settings = {...state, ...payload}\n    performStorage(SET, NAME, settings)\n    return settings\n  }\n\n}, initState.data)\n\n/* UI Handler (non-persistent settings) */\nconst uiHandler = handleActions({\n  ...uiLoading(NAME),\n  [stateActionType(UI, SET)]: (state, {payload}) => ({...state, ...payload}),\n}, initState.ui)\n\nconst allHandlers = combineReducers({\n  data: dataHandler,\n  ui: uiHandler\n})\n\nexport default allHandlers\n","import { fromJSON } from 'ui-utils-pack'\n\n/**\n * API HELPERS =================================================================\n * =============================================================================\n */\n\n/**\n * Process Fetch Response\n * @example:\n *  const promiseResult = fetch(url).then(fetchResponseProcessing)\n *\n * @param {Object} response - from chained fetch().then((response) => {...})\n * @returns {*} - JSON object on success, or rejected Promise with Error object\n */\nexport function fetchResponseProcessing (response) {\n  /* Successful response */\n  if (response.ok) return response.json()\n  return response.text().then((data) => Promise.reject(fromJSON(data)))\n}\n","import { languageDropdownOptions } from 'ui-react-pack'\nimport { isInList, l, LANGUAGE } from 'ui-utils-pack'\nimport { CONFIG } from './configs'\nimport { DEFAULT } from './defaults'\nimport { OPTIONS } from './definitions'\n\n/**\n * COMMON STATE DATA ===========================================================\n * Initial State or Test Data - used to launch the app initially\n * =============================================================================\n */\n\nexport const LANGUAGE_CODE_BY_COUNTRY = { // Language code by country code\n  AU: getSupportedLanguageCode(l.ENGLISH),\n  US: getSupportedLanguageCode(l.ENGLISH),\n  UK: getSupportedLanguageCode(l.ENGLISH),\n  RU: getSupportedLanguageCode(l.RUSSIAN),\n  BY: getSupportedLanguageCode(l.RUSSIAN),\n  UA: getSupportedLanguageCode(l.RUSSIAN),\n}\nOPTIONS.LANGUAGE = languageDropdownOptions(LANGUAGE)\n\nfunction getSupportedLanguageCode (langCode, options = CONFIG.LANGUAGE_OPTIONS.map(l => l._)) {\n  return (isInList(options, langCode)) ? langCode : DEFAULT.LANGUAGE\n}\n","import { fetchResponseProcessing } from 'ui-modules-pack/api/utils'\nimport { stateAction } from 'ui-modules-pack/redux/actions'\nimport { call, put, selectState, spawn } from 'ui-modules-pack/saga/utils'\nimport { isString, SET, toLowerCase } from 'ui-utils-pack'\nimport { DEFAULT } from '../variables'\nimport { LANGUAGE_CODE_BY_COUNTRY } from '../variables/data'\nimport { NAME } from './constants'\nimport select from './selectors'\n\n/**\n * ASYNC TASKS =================================================================\n * Actions Orchestration - for subscribing, managing and dispatching actions.\n * =============================================================================\n */\n\n/**\n * All Tasks in this module get initiated here\n */\nexport default function * init () {\n  yield spawn(setLanguageFlow)\n}\n\n/**\n * WATCH TASKS (Action Subscriptions) ------------------------------------------\n * -----------------------------------------------------------------------------\n */\n\n/**\n * PERPETUAL TASKS (Action Initialisations) ------------------------------------\n * -----------------------------------------------------------------------------\n */\n\n/**\n * FLOW TASKS (Action Management) ----------------------------------------------\n * -----------------------------------------------------------------------------\n */\n\n/**\n * Set Language base on User Country if no language preference has been set\n */\nfunction * setLanguageFlow () {\n  const language = yield selectState(select.language)\n  if (language) return\n  const {country} = yield call(getUserGeolocation)\n  if (!country || typeof country !== 'string' || country.length > 3) return\n  yield put(stateAction(NAME, SET, {country, language: LANGUAGE_CODE_BY_COUNTRY[country] || DEFAULT.LANGUAGE}))\n}\n\n/**\n * HELPER TASKS (Action Dispatches) --------------------------------------------\n * -----------------------------------------------------------------------------\n */\n\n/**\n * Request User Geolocation via external API if no Country has been set\n */\nfunction * getUserGeolocation () {\n  const result = {}\n  result.country = yield selectState(select.country)\n  if (result.country) return result\n  const response = yield call(fetch, 'https://ipapi.co/json')\n  const info = yield call(fetchResponseProcessing, response)\n  const {country_code: country, languages} = info || {}\n  if (isString(country)) result.country = country.toUpperCase()\n  if (isString(languages)) result.language = toLowerCase(languages).split(',').shift()\n  return result\n}\n","import { NAME, SETTING, UI } from './constants'\nimport reducer from './reducers'\nimport saga from './sagas'\nimport select from './selectors'\n\n/**\n * EXPORTS =====================================================================\n * Modules' Exposing API - to enable consistent and maintainable app integration\n * =============================================================================\n */\n\nexport * from './constants'\nexport * from './actions'\nexport {\n  NAME,\n  UI,\n  SETTING,\n  select,\n}\n\nconst settings = {\n  NAME,\n  SETTING,\n  reducer,\n  saga,\n  select,\n}\n\nexport default settings\n","import classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport { Active } from 'ui-utils-pack'\nimport Button from './Button'\nimport { SOUND } from './files'\n\n/**\n * Hamburger Style Button animating into Cross - Pure Component.\n *\n * @param {Boolean} [active] - whether to render the cross\n * @param {String} [className] - optional css class name\n * @param {*} [props] - other props\n * @returns {Object} - React button component\n */\nexport function MenuButton ({\n  active,\n  className,\n  ...props\n}) {\n  return (\n    <Button\n      className={classNames('app__menu__button transparent', {active}, className)}\n      aria-label={(active ? 'Close' : 'Open') + ' Menu'}\n      sound={Active.SETTINGS.HAS_SOUND && SOUND.TOUCH}\n      {...props}\n    >\n      <span className='box'>\n        <span className='bar'/>\n      </span>\n    </Button>\n  )\n}\n\nMenuButton.propTypes = {\n  active: PropTypes.bool,\n  className: PropTypes.string,\n}\n\nexport default React.memo(MenuButton)\n","import classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport { shortNumber } from 'ui-utils-pack'\nimport View from './View'\n\n/**\n * Badge Counter - Pure Component.\n */\nexport function Badge ({\n  count,\n  digits = 2,\n  className,\n  ...props\n}) {\n  const counter = (digits && count > 9) ? shortNumber(count, digits) : count\n  // noinspection JSConstructorReturnsPrimitive\n  return counter ? <View className={classNames('badge', className)} {...props}>{counter}</View> : null\n}\n\nBadge.propTypes = {\n  count: PropTypes.number.isRequired,\n  digits: PropTypes.number,\n  className: PropTypes.string,\n}\n\nexport default React.memo(Badge)\n","import PropTypes from 'prop-types'\nimport React, { PureComponent } from 'react'\nimport { Active } from 'ui-utils-pack'\nimport Badge from './Badge'\nimport { SOUND } from './files'\n\n/**\n * VIEW TEMPLATE ---------------------------------------------------------------\n * Notification Counter Icon\n * @Usage: to be wrapped using @withGql decorator\n * -----------------------------------------------------------------------------\n */\nexport default class AlertCounter extends PureComponent {\n  static propTypes = {\n    alert: PropTypes.number.isRequired,\n  }\n\n  static defaultProps = {\n    alert: 0\n  }\n\n  componentDidUpdate (prev) {\n    if (prev.alert < this.props.alert && Active.SETTINGS.HAS_SOUND) SOUND.ALERT.play()\n  }\n\n  render () {\n    return <Badge className='alert__counter' count={this.props.alert}/>\n  }\n}\n","import { connect } from 'ui-modules-pack/redux'\nimport router, { Link } from 'ui-modules-pack/router/browser'\nimport { ROUTE } from 'ui-modules-pack/variables'\nimport React, { Component, Fragment } from 'react'\nimport { PropTypes, STYLE } from 'ui-react-pack'\nimport AlertCounter from 'ui-react-pack/AlertCounter'\nimport Icon from 'ui-react-pack/Icon'\nimport Text from 'ui-react-pack/Text'\nimport { withTimer } from 'ui-react-pack/utils'\n\n/**\n * MAP STATE & ACTIONS TO PROPS ------------------------------------------------\n * -----------------------------------------------------------------------------\n */\nconst mapStateToProps = (state) => ({\n  activeRoute: router.select.activeRoute(state),\n})\n\n/**\n * VIEW TEMPLATE ---------------------------------------------------------------\n * Routed Navigation Links with Icon\n * -----------------------------------------------------------------------------\n */\n@connect(mapStateToProps)\n@withTimer\nexport default class NavLinks extends Component {\n  static propTypes = {\n    items: PropTypes.arrayOf(PropTypes.shape({\n      path: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      icon: PropTypes.string,\n    })).isRequired,\n    onChangeRoute: PropTypes.func,\n    sound: PropTypes.object, // sound file\n  }\n\n  itemDidMount = {}\n\n  UNSAFE_componentWillReceiveProps (nextProps) {\n    if (nextProps.sound && !this.props.sound) this.itemDidMount = {} // reset sound\n  }\n\n  render () {\n    const {activeRoute, items, onChangeRoute, sound} = this.props\n    return (\n      <Fragment>\n        {items.map(({path, name, icon}, i) => {\n          const delay = (i + 1) * STYLE.ANIMATION_DURATION * 0.3\n          if (sound && !this.itemDidMount[i]) {\n            this.setTimeout(sound.play, delay + 200)\n            this.itemDidMount[i] = true\n          }\n          return (\n            <Link\n              key={path || i}\n              to={{pathname: path}}\n              className={'app__menu__item ' + (path === activeRoute ? 'active' : '')}\n              disabled={path === activeRoute}\n              onClick={onChangeRoute}\n              style={{animationDelay: delay + 'ms'}}\n            >\n              <Icon name={icon}>{path === ROUTE.CHAT && <AlertCounter/>}</Icon><Text>{name}</Text>\n            </Link>\n          )\n        })}\n      </Fragment>\n    )\n  }\n}\n","import { connect, stateAction } from 'ui-modules-pack/redux'\nimport router from 'ui-modules-pack/router/browser'\nimport settings, { UI } from 'ui-modules-pack/settings'\nimport { ROUTES } from 'ui-modules-pack/variables'\nimport React, { Component } from 'react'\nimport { cn, PropTypes, SOUND } from 'ui-react-pack'\nimport MenuButton from 'ui-react-pack/MenuButton'\nimport Row from 'ui-react-pack/Row'\nimport View from 'ui-react-pack/View'\nimport { SET } from 'ui-utils-pack'\nimport NavLinks from './NavLinks'\n\n/**\n * MAP STATE & ACTIONS TO PROPS ------------------------------------------------\n * -----------------------------------------------------------------------------\n */\nconst mapStateToProps = (state) => ({\n  activeRoute: router.select.activeRoute(state),\n  items: settings.select.routesForNav(state),\n  isOpenSidebar: settings.select.isOpenSidebar(state),\n})\nconst mapDispatchToProps = (dispatch) => ({\n  actions: {\n    set: (payload) => dispatch(stateAction(UI, SET, payload))\n  }\n})\n\n/**\n * VIEW TEMPLATE ---------------------------------------------------------------\n * Header Navigation\n * -----------------------------------------------------------------------------\n */\n@connect(mapStateToProps, mapDispatchToProps)\nexport class Header extends Component {\n  static propTypes = {\n    isMobile: PropTypes.bool.isRequired, // whether the view is for mobile\n  }\n\n  handleToggleSidebar = () => {\n    const { actions, isOpenSidebar } = this.props\n    actions.set({ isOpenSidebar: !isOpenSidebar })\n  }\n\n  render () {\n    const { isMobile, isOpenSidebar, items } = this.props\n    if (!items.length) return null\n    if (!isMobile) return null\n    const hasSidebar = items.length > ROUTES.NAV_HEADER_MAX_LINKS\n    const links = [...items]\n    if (hasSidebar) links.length = ROUTES.NAV_HEADER_MAX_LINKS - 1\n    return (\n      <Row className='app__header__items fill-width'>\n        <NavLinks\n          items={links}\n          onChangeRoute={this.handleCloseSidebar}\n        />\n        {hasSidebar && <MenuButton active={isOpenSidebar} onClick={this.handleToggleSidebar}/>}\n      </Row>\n    )\n  }\n}\n\n/**\n * VIEW TEMPLATE ---------------------------------------------------------------\n * Sidebar Navigation\n * -----------------------------------------------------------------------------\n */\n@connect(mapStateToProps, mapDispatchToProps)\nexport default class Sidebar extends Component {\n  static propTypes = {\n    isMobile: PropTypes.bool.isRequired, // whether the view is for mobile\n  }\n\n  handleCloseSidebar = () => {\n    const {actions, isOpenSidebar} = this.props\n    if (isOpenSidebar) actions.set({isOpenSidebar: !isOpenSidebar})\n  }\n\n  render () {\n    const { isMobile, isOpenSidebar, className, items } = this.props\n    if (!items.length) return null\n    const links = isMobile ? items.slice(ROUTES.NAV_HEADER_MAX_LINKS - 1) : items\n    const showSidebar = !isMobile || isOpenSidebar\n    const containerClass = showSidebar\n      ? 'active' // do not add `fade-in` class because of Safari bug\n      : (isOpenSidebar === false ? 'fade-out' : 'hide')\n    const contentClass = showSidebar\n      ? 'slide-in-right'\n      : (isOpenSidebar === false ? 'slide-out-right' : 'hide')\n    return (\n      <Row className={cn('app__sidebar', containerClass, className)}>\n        {/* Empty overlay in Mobile view */}\n        {isMobile && <View className='fill no-outline' onClick={this.handleCloseSidebar} tabIndex={-2}/>}\n\n        {/* Nav items */}\n        <View className={cn('fill-height ', contentClass)}>\n          <View className='overflow-scroll no-scrollbar'>\n            <View className='app__sidebar__items min-height'>\n              <NavLinks\n                items={links}\n                onChangeRoute={this.handleCloseSidebar}\n                sound={showSidebar ? SOUND.SLIDE : undefined}\n              />\n            </View>\n          </View>\n\n          {/* Empty space between Nav items and the static links on the bottom */}\n          <View className='app__menu__item--empty fill no-outline' onClick={isMobile && this.handleCloseSidebar}\n                tabIndex={-2}/>\n        </View>\n      </Row>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { connect } from 'ui-modules-pack/redux'\nimport { Switch, withRouter } from 'ui-modules-pack/router/browser'\nimport { select, SETTING } from 'ui-modules-pack/settings'\nimport { DEFAULT } from 'ui-modules-pack/variables'\nimport Button from 'ui-react-pack/Button'\nimport Icon from 'ui-react-pack/Icon'\nimport Modal from 'ui-react-pack/Modal'\nimport Row from 'ui-react-pack/Row'\nimport { UIContext } from 'ui-react-pack/utils'\nimport View from 'ui-react-pack/View'\nimport { Active, debounceBy, get, log, TIME_DURATION_INSTANT } from 'ui-utils-pack'\nimport Sidebar, { Header } from './containers/Navigation'\n\nconst mapStateToProps = (state) => ({\n  lang: select.language(state),\n  currency: select.currency(state),\n  theme: select.theme(state)\n})\n\n@withRouter\n@connect(mapStateToProps)\nexport default class App extends Component {\n  state = {\n    isMobile: false,\n    screenRatio: 1,\n  }\n\n  constructor (props) {\n    super(props)\n    this.content = React.createRef()\n  }\n\n  renderModal = () => {\n    const {\n      onModalClose = get(this, 'props.history.goBack') || (() => log('modal close')),\n      canCloseModal = true,\n      classNameModal\n    } = get(this, 'props.location.state', {})\n    // Modal.setAppElement('#root')  // hide content behind modal from screen readers\n    return (\n      <Modal\n        isOpen\n        canClose={canCloseModal}\n        onClose={onModalClose}\n        className={classNameModal}\n      >{this.props.children}</Modal>\n    )\n  }\n\n  @debounceBy(TIME_DURATION_INSTANT)\n  resize () {\n    const isMobile = window.innerWidth < 768\n    const screenRatio = window.innerWidth / window.innerHeight\n    this.setState({isMobile, screenRatio})\n  }\n\n  scrollToTop = () => {\n    this.content.current.scrollIntoView({behavior: 'auto'})\n  }\n\n  UNSAFE_componentWillReceiveProps (nextProps) {\n    // Store Previous Location due react-router limitation\n    window.prevLocation = this.props.location\n    // Modal Logic\n    // Change Router when Modal Opens and Go Back one Route when Modal Closes\n    //\n    // @example:\n    //  @option 1:\n    //    import { Link } from 'react-router';\n    //    <Link to={{ pathname: '/login', state: { isModal: true, classNameModal: 'bg-transparent' } }}>\n    //\n    //  @option 2:\n    //    import history from './history';\n    //    history.push({ pathname: '/login', state: { isModal: true } })\n    //\n    //  @option 3 (inside Redux connected Container that uses 'react-router-redux'):\n    //    render (\n    //      const openLoginModal = this.props.router.push({ pathname: '/login', state: { isModal: true } })\n    //      // ...\n    //    )\n    this.isModal = (\n      nextProps.location.key !== this.props.location.key &&\n      nextProps.location.state && nextProps.location.state.isModal\n    )\n    // Save the old location to display under\n    if (this.isModal) this.previousLocation = this.props.location\n\n    /* On Location Change */\n    if (nextProps.location !== this.props.location) {\n      this.scrollToTop()\n    }\n  }\n\n  componentDidMount () {\n    window.addEventListener('resize', this.resize.bind(this))\n    this.resize()\n  }\n\n  renderClosePopup = ({closePopup}) => {\n    return Active.popupCLoseButton ||\n      <View className=\"position-top-right padding-right-small padding-top-small\" style={styleCloseButton}>\n        <Button className=\"primary circle small\" onClick={closePopup}><Icon name=\"close\"/></Button>\n      </View>\n  }\n\n  render () {\n    const {children, theme = DEFAULT.THEME, lang = DEFAULT.LANGUAGE, currency, ...props} = this.props\n    const {isMobile} = this.state\n    const inverted = theme === SETTING.THEME.DARK\n    return (\n      <UIContext.Provider value={this.state}>\n        <View className={`app fade-in lang--${lang} ${currency}` + (inverted ? ' inverted text-shadow' : '')}>\n          {/*<AcceptCookie/>*/}\n\n          {/* Header */}\n          <Header isMobile={isMobile} {...props} />\n\n          <Row fill reverse={isMobile} className='max-size'>\n            {/* Sidebar */}\n            <Sidebar isMobile={isMobile} {...props}/>\n\n            {/* Content */}\n            <View className='app__content'>\n              <div ref={this.content}/>\n              <Switch location={this.isModal ? this.previousLocation : this.props.location}>{children}</Switch>\n\n              {/* Modal */}\n              {this.isModal && this.renderModal()}\n            </View>\n\n          </Row>\n        </View>\n      </UIContext.Provider>\n    )\n  }\n}\n\nconst styleCloseButton = {zIndex: 9}\n","import hljs from 'highlight.js/lib/core'\nimport javascript from 'highlight.js/lib/languages/javascript'\nimport 'highlight.js/styles/github.css'\n\nhljs.registerLanguage('javascript', javascript)\n\nexport default hljs\n","const React = require('react')\nconst PropTypes = require('prop-types')\nimport hljs from './highlight'\n\nexport default class CodeBlock extends React.PureComponent {\n  constructor (props) {\n    super(props)\n    this.setRef = this.setRef.bind(this)\n  }\n\n  setRef (el) {\n    this.codeEl = el\n  }\n\n  componentDidMount () {\n    this.highlightCode()\n  }\n\n  componentDidUpdate () {\n    this.highlightCode()\n  }\n\n  highlightCode () {\n    hljs.highlightBlock(this.codeEl)\n  }\n\n  render () {\n    return (\n      <pre>\n        <code ref={this.setRef} className={`language-${this.props.language}`}>\n          {this.props.value}\n        </code>\n      </pre>\n    )\n  }\n}\n\nCodeBlock.defaultProps = {\n  language: ''\n}\n\nCodeBlock.propTypes = {\n  value: PropTypes.string.isRequired,\n  language: PropTypes.string\n}\n","import classNames from 'classnames'\nimport { connect } from 'ui-modules-pack/redux'\nimport React, { Component } from 'react'\nimport { languageDropdownOptions } from 'ui-react-pack'\nimport Dropdown from 'ui-react-pack/Dropdown'\nimport Row from 'ui-react-pack/Row'\nimport { CONFIG } from '../../variables'\nimport { setSettings } from '../actions'\nimport select from '../selectors'\n\n/**\n * MAP STATE & ACTIONS TO PROPS ------------------------------------------------\n * -----------------------------------------------------------------------------\n */\nconst mapStateToProps = (state) => ({\n  lang: select.language(state)\n})\n\n/**\n * VIEW TEMPLATE ---------------------------------------------------------------\n * -----------------------------------------------------------------------------\n */\n@connect(mapStateToProps)\nexport default class LanguageSelection extends Component {\n  static defaultProps = {\n    options: languageDropdownOptions(CONFIG.LANGUAGE_OPTIONS, {selection: true})\n  }\n\n  state = {\n    compact: true,\n  }\n\n  handleSetLang = (language) => {\n    setSettings({language})\n  }\n\n  handleClose = () => {\n    if (!this.state.compact) this.setState({compact: true})\n  }\n\n  handleOpen = () => {\n    if (this.state.compact) this.setState({compact: false})\n  }\n\n  render () {\n    const {lang, options, className, style, dispatch: _, ...props} = this.props\n    const {compact} = this.state\n    return <Row className={classNames('fill-width', className)} style={style}>\n      <Dropdown\n        compact={compact}\n        onOpen={this.handleOpen}\n        onClose={this.handleClose}\n        value={lang}\n        options={options.items}\n        onChange={this.handleSetLang}\n        {...props}\n      />\n    </Row>\n  }\n}\n","import { stateAction } from 'ui-modules-pack/redux/actions'\nimport { Active, SET } from 'ui-utils-pack'\nimport { NAME as SETTINGS } from './constants'\n\n/**\n * ACTION CREATORS =============================================================\n * =============================================================================\n */\n\nexport function setSettings (payload) {\n  return Active.store.dispatch(stateAction(SETTINGS, SET, payload))\n}\n","import axios from 'axios';\nvar axiosInstance = axios.create({\n  baseURL: process.env.REACT_APP_API_URL\n});\naxiosInstance.interceptors.response.use(function (response) {\n  var data = response.data;\n  return data;\n}, function (error) {\n  var errorMessage;\n  var _error$response = error.response;\n  _error$response = _error$response === void 0 ? {} : _error$response;\n  var _error$response$data = _error$response.data,\n      data = _error$response$data === void 0 ? '' : _error$response$data;\n  var axiosErrorMessage = error.message;\n\n  if (data && data.message) {\n    errorMessage = processErrorMessage(data.message);\n  } else {\n    errorMessage = axiosErrorMessage || error;\n  }\n\n  return Promise.reject(errorMessage);\n});\nexport default axiosInstance;\n\nvar processErrorMessage = function processErrorMessage(error) {\n  if (typeof error === 'string' && error.startsWith('Error')) {\n    return error.match(/message\\=(.*)errors/)[1] || error;\n  }\n\n  return error;\n};","import axiosInstance from '../services/axios';\nvar baseURL = process.env.REACT_APP_API_URL || '/';\nexport var updateExperienceData = function updateExperienceData(experienceData) {\n  return axiosInstance.post('gdn-rating-rs/UpdateExperienceData', experienceData);\n};\nexport var downloadHistoricalFileTemplate = function downloadHistoricalFileTemplate(fileName) {\n  return fetch(\"\".concat(baseURL, \"gdn-rating-rs/files/\").concat(fileName));\n};\nexport var uploadHistoricalFile = function uploadHistoricalFile(experienceData, file) {\n  return axiosInstance.post('gdn-rating-rs/experience-data/import', {\n    experienceData: experienceData,\n    file: file\n  }, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  });\n};","import { POPUP } from 'ui-modules-pack/popup/constants'\nimport { connect, stateAction } from 'ui-modules-pack/redux'\nimport settings from 'ui-modules-pack/settings'\nimport LanguageSelection from 'ui-modules-pack/settings/views/LanguageSelection'\nimport Upload from 'ui-modules-pack/upload/views/Upload'\nimport { FILE } from 'ui-modules-pack/variables'\nimport React, { Component } from 'react'\nimport JsonView from 'ui-react-pack/JsonView'\nimport Row from 'ui-react-pack/Row'\nimport ScrollView from 'ui-react-pack/ScrollView'\nimport Text from 'ui-react-pack/Text'\nimport View from 'ui-react-pack/View'\nimport { ALERT, GET, isEmpty, l, localiseTranslation, performStorage, SET } from 'ui-utils-pack'\nimport { _ } from 'ui-utils-pack/translations'\nimport UIRender from './rules'\nimport { downloadHistoricalFileTemplate, updateExperienceData, uploadHistoricalFile } from 'web/api/gdn-rating-alg'\nimport { Button } from 'ui-react-pack/Button'\n\nconst DEMO_JSON_STORAGE_KEY = 'DEMO_JSON'\n\n/**\n * MAP STATE & ACTIONS TO PROPS ------------------------------------------------\n * -----------------------------------------------------------------------------\n */\nconst mapStateToProps = (state) => ({\n  lang: settings.select.language(state), // to trigger re-render\n})\nconst mapDispatchToProps = (dispatch) => ({\n  actions: {\n    popup: ({content, title}) => dispatch(stateAction(POPUP, ALERT, {items: [{title, content}]})),\n  }\n})\n\n/**\n * VIEW TEMPLATE ---------------------------------------------------------------\n * -----------------------------------------------------------------------------\n */\n@connect(mapStateToProps, mapDispatchToProps)\nexport default class Demo extends Component {\n  // @Note: functions should have consistent pattern of receiving important arguments first,\n  // followed by optional arguments.\n  // Positional arguments was chosen instead of keyword arguments because\n  // it provides more flexibility and separation of concerns between different configs.\n  state = {\n    showMeta: true,\n    data: (performStorage(GET, DEMO_JSON_STORAGE_KEY) || {}).data || {\n      json: undefined,\n      name: undefined,\n    },\n    meta: {\n      json: undefined,\n      name: undefined,\n    },\n    active: {\n      // plan: 1,\n    },\n  }\n\n  onGetDataButtonClick = () => {\n    const data = this.getFormData();\n    console.info('Form data: ', data);\n  }\n\n  handleUpload = (kind, [file], name) => {\n    if (!file) return\n    const reader = new FileReader()\n    reader.onload = () => {\n      try {\n        let json = JSON.parse(reader.result)\n        this.setState({[kind]: {json, name: file.name}}, () => {\n          if (kind === 'data') performStorage(SET, DEMO_JSON_STORAGE_KEY, {[kind]: this.state.data})\n        })\n      } catch (error) {\n        this.props.actions.popup({\n          title: `${file.name} is invalid ${name} file`,\n          content: <View>\n            <Text className=\"h5\">{_.ERROR_MESSAGE}</Text>\n            <Text className=\"p\">{String(error)}</Text>\n          </View>\n        })\n      }\n    }\n    reader.readAsText(file)\n  }\n\n  render () {\n    const {data, meta, showMeta} = this.state\n    const hasData = data.json != null // data.json can be empty object\n    const hasMeta = !isEmpty(meta.json)\n    return (\n      <>\n        {showMeta &&\n        <ScrollView className=\"padding-smaller bg-neutral inverted\">\n          <Row className=\"wrap spread\">\n            <View className=\"margin-smaller\">\n              <Upload {...uploadProps} label=\"*_data.json\" onChange={this.handleUpload.bind(this, 'data')}\n                      className={'test-data radius-large' + (!hasData ? ' bg-primary-dark' : '')}\n              >\n                {data.name && <View><Text className=\"h4\">{_.UPLOADED}</Text><Text>{data.name}</Text></View>}\n              </Upload>\n            </View>\n            <View className=\"margin-smaller\">\n              <Upload {...uploadProps} label=\"*_meta.json\" onChange={this.handleUpload.bind(this, 'meta')}\n                      className={'test-meta radius-large' + (hasData && !hasMeta ? ' bg-primary-dark' : '')}\n                      disabled={!hasData}\n              >\n                {meta.name && <View><Text className=\"h4\">{_.UPLOADED}</Text><Text>{meta.name}</Text></View>}\n              </Upload>\n            </View>\n            <View className=\"margin-smaller min-width-290\">\n              <Row className=\"middle justify\">\n                {hasMeta && <Text className=\"h6 no-margin fade-in-up\">{_.CONFIG_USED}</Text>}\n                <LanguageSelection className=\"right margin-left-small\"/>\n              </Row>\n              {hasMeta && <View className=\"fade-in-down\"><JsonView data={meta.json} inverted/></View>}\n            </View>\n          </Row>\n        </ScrollView>\n        }\n        <UIRender\n          form\n          className=\"bg-info-light\"\n          initialValues={data.json}\n          data={data.json}\n          meta={meta.json}\n          translate={(v) => v}\n          onSubmit={console.warn}\n          getFormData={(f) => this.getFormData = f}\n          apiCalls={{\n            updateExperienceData,\n            downloadFile: downloadHistoricalFileTemplate,\n            uploadFile: uploadHistoricalFile\n          }}\n        />\n        {hasData && hasMeta &&\n          <View className=\"app__examples bg-white border\" style={{marginTop: 20}}>\n            <Button onClick={this.onGetDataButtonClick}>Output the current data state to the dev console</Button>\n          </View>\n        }\n      </>\n    )\n  }\n}\n\nconst uploadProps = {\n  hasHeader: false,\n  multiple: false,\n  fileType: FILE.TYPE.JSON,\n  get labelOnHover () {\n    return _.FORMAT\n  }\n}\n\nlocaliseTranslation({\n  CONFIG_USED: {\n    [l.ENGLISH]: 'Config Used',\n    [l.RUSSIAN]: 'Используемая Конфигурация',\n  },\n  FILE: {\n    [l.ENGLISH]: 'File',\n    // [l.RUSSIAN]: 'Файл',\n  },\n  FILES_ONLY: {\n    [l.ENGLISH]: 'files only',\n    // [l.RUSSIAN]: 'файлы только',\n  },\n  FILE_UPLOAD_FAILED: {\n    [l.ENGLISH]: 'File Upload Failed!',\n    // [l.RUSSIAN]: 'Ошибка Загрузки Файла!',\n  },\n  FORMAT: {\n    [l.ENGLISH]: 'Format',\n    // [l.RUSSIAN]: 'Формат',\n  },\n  MAXIMUM_FILE_SIZE_EXCEEDED: {\n    [l.ENGLISH]: 'Maximum File Size Exceeded!',\n    // [l.RUSSIAN]: 'Превышен Максимальный Размер Файла!',\n  },\n  MUST_BE_UNDER: {\n    [l.ENGLISH]: 'must be under',\n    // [l.RUSSIAN]: 'должен быть до',\n  },\n  SELECT_OR_DROP: {\n    [l.ENGLISH]: 'Select or Drop',\n    // [l.RUSSIAN]: 'Выберите или Перетащите',\n  },\n  UPDATING: {\n    [l.ENGLISH]: 'Updating',\n    // [l.RUSSIAN]: 'Обновление',\n  },\n  UPLOAD: {\n    // as verb\n    [l.ENGLISH]: 'Upload',\n    // [l.RUSSIAN]: 'Загрузите',\n  },\n  UPLOAD_file: {\n    // as verb\n    [l.ENGLISH]: 'Upload {file}',\n    // [l.RUSSIAN]: 'Загрузите {file}',\n  },\n  UPLOADED: {\n    // as verb\n    [l.ENGLISH]: 'Uploaded',\n    // [l.RUSSIAN]: 'Загружен',\n  },\n\n  // Popup Messages\n  // ---------------------------------------------------------------------------\n  ARE_YOU_SURE_YOU_WANT_TO_REMOVE_file: {\n    [l.ENGLISH]: 'Are you sure you want to remove {file}?',\n    // [l.RUSSIAN]: 'Вы уверены, что хотите удалить {file}?',\n  },\n  DIMENSION_OF_file_MUST_BE_ONE_OF_aspectRatios: {\n    [l.ENGLISH]: 'Dimension of {file} must be one of {aspectRatios}',\n    // [l.RUSSIAN]: 'Измерение {file} должно быть одним из {aspectRatios}',\n  },\n  INVALID_ASPECT_RATIO: {\n    [l.ENGLISH]: 'Invalid Aspect Ratio!',\n    // [l.RUSSIAN]: 'Неверное Соотношение Сторон!',\n  },\n})\n","import React from 'react'\nimport { type } from './types'\n\n/**\n * Link to external resources - Pure component\n *\n * @param {String} to - URL to link to (href)\n * @param {*} children - content\n * @param {*} [props] - other attributes to pass\n * @returns {Object} - React component\n */\nexport function LinkOut ({to, children, ...props}) {\n  return (\n    <a href={to} target='_blank' rel='noopener noreferrer' {...props}>{children}</a>\n  )\n}\n\nLinkOut.propTypes = {\n  to: type.UrlOrBase64OrPreview.isRequired,\n  children: type.Any.isRequired,\n}\n\nexport default React.memo(LinkOut)\n","import { __DEV__ } from 'ui-utils-pack'\n\nexport default {\n  view: 'Button',\n  items: [\n    {\n      view: 'Icon',\n      name: 'file-download',\n      styles: 'margin-right-smaller'\n    },\n    {\n      view: 'Text',\n      children: 'Download File Template'\n    },\n  ],\n  onClick: {\n    name: 'download',\n    args: [\n      // Using path relative to the URL the page is on\n      (__DEV__ ? '' : '/ui-render') + '/static/images/ui-architecture.png',\n      'optional-file-name-to-save-as.png'\n    ]\n  }\n}\n\n","import { cloneDeep } from 'ui-utils-pack'\nimport dropdownMeta from './dropdown_meta.json'\nimport exampleData from './example_data.json'\n\nconst dropdownPlan = {\n  view: 'Row',\n  styles: 'middle margin-v',\n  items: [\n    {...dropdownMeta, compact: true, style: {}},\n    {\n      view: 'Text',\n      styles: 'padding no-padding-right bold',\n      label: 'Plan:',\n    },\n    {\n      view: 'Text',\n      styles: 'padding',\n      label: {\n        name: 'coverages.{state.coverage,0}.coverageID'\n      }\n    },\n  ]\n}\nconst verify = {\n  dataKind: 'period',\n  validate: [\n    {\n      name: 'notWithinRange',\n      args: ['startDate', 'endDate'],\n    }\n  ],\n}\nconst inputStartDate = {\n  view: 'Input',\n  name: 'startDate',\n  type: 'date',\n  validate: 'required',\n  verify: cloneDeep(verify),\n  onChange: 'warn',\n}\nconst inputEndDate = {\n  view: 'Input',\n  name: 'endDate',\n  type: 'date',\n  validate: 'required',\n  verify: cloneDeep(verify),\n}\n\nconst inputs = [inputStartDate, inputEndDate]\nexport const meta = {\n  view: 'Col',\n  styles: 'padding left bg-info-light',\n  items: [\n    {\n      view: 'Table',\n      name: 'dataKind.period',\n      styles: 'outline margin-v',\n      // showIf: {},\n      extraHeaders: [\n        [\n          {\n            colSpan: 999,\n            label: 'Data Components',\n            classNameHeader: 'bg-success-light',\n            className: 'h5 align-center',\n          },\n        ]\n      ],\n      headers: [\n        {\n          id: 'startDate',\n          label: 'Start Date',\n          classNameHeader: 'padding-left-small border-right',\n        },\n        {\n          id: 'endDate',\n          label: 'End Date',\n          classNameHeader: 'padding-left-small border-right',\n        },\n        {\n          id: 'null',\n          label: 'Action',\n          className: 'align-center',\n        },\n      ],\n      renderItemCells: {\n        view: 'Data',\n        kind: 'period',\n        embedded: true,\n        meta: {\n          view: 'TableCells',\n          styles: 'border-right no-border-right-last-item',\n          style: {verticalAlign: 'top'},\n          items: [\n            {\n              ...cloneDeep(inputStartDate),\n              className: 'border-on-hover',\n            },\n            {\n              ...cloneDeep(inputEndDate),\n              className: 'border-on-hover',\n            },\n            {\n              view: 'Col',\n              items: [\n                {\n                  view: 'Button',\n                  styles: 'a transparent',\n                  children: 'Remove',\n                  onClick: 'removeData',\n                },\n              ]\n            },\n          ],\n        },\n      },\n      renderExtraItem: {\n        // This component must have undefined `name` so that it automatically grabs all data for given `kind`\n        view: 'Data',\n        kind: 'period',\n        initialValues: {},\n        embedded: true,\n        meta: {\n          view: 'TableCells',\n          // styles: 'border-top',\n          style: {verticalAlign: 'top'},\n          items: [\n            {\n              float: true,\n              label: 'Start Date',\n              ...cloneDeep(inputStartDate),\n            },\n            {\n              float: true,\n              label: 'End Date',\n              ...cloneDeep(inputEndDate),\n            },\n            {\n              view: 'Col',\n              items: [\n                {\n                  view: 'Button',\n                  styles: 'a transparent margin-v-small',\n                  children: 'Add',\n                  onClick: 'addData',\n                },\n              ]\n            },\n          ],\n        },\n      },\n    },\n    {\n      view: 'Button',\n      className: 'primary',\n      onClick: 'submit',\n      children: 'Submit (open Chrome Console to check changed values)'\n    },\n    // {\n    //   view: 'Data',\n    //   kind: 'period',\n    //   name: 'dataComponent',\n    //   styles: 'max-width-400',\n    //   meta: {\n    //     view: 'Col',\n    //     styles: 'app__form left padding margin bg-success-light',\n    //     items: [\n    //       {\n    //         view: 'Text',\n    //         styles: 'h3 padding-top',\n    //         label: 'Data Component (UI Render)',\n    //       },\n    //       {\n    //         view: 'Row',\n    //         items: [\n    //           {\n    //             label: 'Start Date',\n    //             ...cloneDeep(inputStartDate)\n    //           },\n    //           {\n    //             label: 'End Date',\n    //             ...cloneDeep(inputEndDate)\n    //           },\n    //         ],\n    //       },\n    //       {\n    //         view: 'Button',\n    //         styles: 'margin-v',\n    //         children: 'Add',\n    //         type: 'submit',\n    //         onClick: 'addData',\n    //       },\n    //       // cloneDeep(dropdownPlan),\n    //     ]\n    //   },\n    //   // rootData: true,\n    // },\n    // cloneDeep(dropdownPlan),\n  ]\n}\n\nexport const data = {\n  // dataComponent: {\n  //   startDate: Date.now(),\n  //   ...exampleData,\n  // },\n  ...exampleData,\n  dataKind: {\n    period: [\n      {startDate: '2022-01-01', endDate: '2022-03-31'},\n      {startDate: '2022-04-01', endDate: '2022-06-30'},\n    ]\n  }\n}\n","export default {\n  view: 'ExpandList',\n  name: 'coverages',\n  renderLabel: {\n    view: 'Text',\n    children: {\n      name: 'coverageID',\n      relativeData: true,\n    },\n  },\n  // Each Expand Item\n  renderItem: {\n    view: 'Col',\n    relativeData: true,\n    items: [\n      {\n        view: 'Col',\n        styles: 'margin-bottom-small radius',\n        items: [\n          {\n            view: 'Title',\n            label: 'Cost Summary',\n            styles: 'padding no-margin',\n          },\n          {\n            view: 'Input',\n            label: 'Input inside Relative Data',\n            name: 'memberAnnualPremium', // relative path\n            relativeData: true,\n            type: 'number',\n            styles: 'padding no-margin',\n            autoSubmit: true,\n          },\n          {\n            view: 'Col',\n            styles: 'border radius',\n            items: [\n              {\n                view: 'Row',\n                styles: 'justify padding',\n                items: [\n                  {view: 'Text', label: 'Annual Rate'},\n                  {view: 'Text', children: {name: 'rate', relativeData: true}, renderLabel: 'Percent'},\n                ]\n              }\n            ],\n          },\n        ]\n      }\n    ],\n  },\n}\n","import meta from './expand-list_meta'\n\nexport default {\n  // view: 'List', // defaults to Column layout\n  // row: true, // using Row layout\n  view: 'RowList', // alternative way of defining Row layout\n  name: 'coverages',\n  styles: 'justify wrap', // should have `wrap` class added to collapse in mobile view\n  renderItem: meta.renderItem,\n}\n","import { cloneDeep } from 'ui-utils-pack'\nimport meta from './expand-list_meta'\n\nconst nestedTable = cloneDeep(meta.renderItem)\n// Most nested inner Table\nnestedTable.items.push({\n  view: 'Table',\n  name: 'classes',\n  relativeData: true,\n  headers: [ // -> must be defined if data contains nested tables\n    {\n      id: 'classID',\n      label: {\n        name: 'classLabel',\n        relativeData: false,\n      },\n    },\n    {\n      id: 'numberOfLives',\n      label: 'Number of Participants',\n    },\n    {\n      id: 'totalVolume',\n      label: 'Total Volume',\n      renderCell: 'float',\n    },\n    {\n      id: 'annualPremium',\n      label: 'Annual Premium',\n    },\n  ],\n\n  // Nested Table (two levels deep)\n  renderItem: {\n    view: 'Table',\n    name: 'rateCards',\n    relativeData: true, // use attribute `name` above as key path relative to each Table item's data, not *_data.json\n    // headers: [] // -> optional when has no nested tables\n  }\n})\nexport default {\n  view: 'Table',\n  name: 'coverages',\n  headers: [  // -> must be defined if data contains nested tables, because rendering cells as objects will cause errors\n    {\n      id: 'coverageID',\n      label: 'Coverage Name',\n      // Custom render function for Table Cells (columns in default layout)\n      renderCell: {\n        view: 'Expand',\n        name: '{value}',\n        index: '{index}',\n        // toggle extra table item expansion (row in default layout)\n        onClick: 'handleItemExpand', // function is injected by TableView instance on render\n        // items: [{}], // can also make it expand any content inside clicked cell\n      },\n    },\n    {\n      id: 'fundingStructure.contributionType',\n      label: 'Contribution Type'\n    },\n    {\n      id: 'fundingStructure.requiredParticipationPrct',\n      label: 'Contribution',\n      renderCell: 'Percent',\n    },\n    {\n      id: 'rate',\n      label: 'Quote Rate',\n      renderCell: 'double5',\n    },\n    // {\n    //   id: 'rate', // declaring duplicate ID will work, but will give warning in debug console.\n    //   label: 'Manual Rate',\n    // },\n    {\n      id: 'annualPremium',\n      label: 'Annual Premium',\n      renderCell: 'Currency',\n    },\n    {\n      id: '#',\n      renderHeader: {\n        view: 'Checkbox',\n        label: 'Expand All',\n        onChange: 'handleToggleExpandAll', // function is injected by TableView instance on render\n      },\n    },\n  ],\n\n  // Nested Table (one level deep)\n  renderItem: nestedTable\n}\n\n","import { cloneDeep } from 'ui-utils-pack'\nimport content from './table-nested_meta'\n\nexport default {\n  view: 'Col',\n  styles: 'fill middle center padding',\n  items: [\n    {\n      view: 'Button',\n      children: 'Open Popup 1',\n      styles: 'margin',\n      onClick: {\n        name: 'popupOpen',\n        args: [\n          'popup1', // the first argument is Popup.id\n          // the second argument can be optional props object to pass to Popup component (not implemented yet)\n        ]\n      }\n    },\n    {\n      view: 'Popup',\n      id: 'popup1', // is used to open popup remotely\n      items: [\n        cloneDeep(content)\n      ]\n    },\n    cloneDeep(content), // for testing changes made inside Popup -> should sync\n  ]\n}\n","import meta from './expand-list_meta'\n\nexport default {\n  ...meta,\n  view: 'TabList',\n  styles: 'padding',\n}\n\n","export const data = {\n  reportName: 'Final Manual Rate (with UW Adj)',\n  groupLabel: 'Tier',\n  labelById: {\n    'employee': 'Employee/Spouse/Child',\n    'employer': 'Employer',\n  },\n  matrixTable: [\n    {tier: 'employee', ageBand: '0-19', undiffRate: 1.05, smokerRate: 1.09, nonSmokerRate: 1.04},\n    {tier: 'employer', ageBand: '0-19', undiffRate: 0.06, smokerRate: 0.03, nonSmokerRate: 0.07},\n    {tier: 'employee', ageBand: '19-29', undiffRate: 1.15, smokerRate: 1.19, nonSmokerRate: 1.14},\n    {tier: 'employer', ageBand: '19-29', undiffRate: 0.16, smokerRate: 0.13, nonSmokerRate: 0.17},\n  ],\n  // >>> matrixTable converts to this internally:\n  // _ui_converts_to_this_matrixTable: [\n  //   {\n  //     ageBand: '0-19',\n  //     undiffRate_employee: 1.05, smokerRate_employee: 1.09, nonSmokerRate_employee: 1.04,\n  //     undiffRate_employer: 0.06, smokerRate_employer: 0.03, nonSmokerRate_employer: 0.07\n  //   },\n  //   {\n  //     ageBand: '19-29',\n  //     undiffRate_employee: 1.15, smokerRate_employee: 1.19, nonSmokerRate_employee: 1.14,\n  //     undiffRate_employer: 0.16, smokerRate_employer: 0.13, nonSmokerRate_employer: 0.17\n  //   },\n  // ]\n}\n\nexport const meta = {\n  view: 'Table',\n  name: 'matrixTable',\n  styles: 'margin',\n  extraHeaders: [\n    [\n      {\n        label: '', // leave the first column empty for `Age`\n        classNameHeader: 'bg-white',\n      },\n      {\n        colSpan: 99999, // set this to extremely high number to span all columns\n        label: {\n          name: 'reportName',\n          relativeData: false,\n        },\n        className: 'center bg-white',\n      }\n    ]\n  ],\n  headers: [\n    {\n      id: 'undiffRate',\n      label: 'Undiff',\n      className: 'center border-left',\n      classNameCell: 'center border-left',\n    },\n    {\n      id: 'smokerRate',\n      label: 'Smoker',\n      className: 'center border-left',\n      classNameCell: 'center border-left',\n    },\n    {\n      id: 'nonSmokerRate',\n      label: 'Non',\n      className: 'center border-h',\n      classNameCell: 'center border-h',\n    },\n  ],\n  group: {\n    by: { // required\n      id: 'tier', // required\n      label: {\n        name: 'labelById',\n        relativeData: false,\n      },\n      className: 'center bg-success-light border-h',\n      // renderLabel: 'Currency',\n    },\n    header: { // required, common header to group items by\n      id: 'ageBand', // required\n      label: 'Age',\n      className: 'border-right', // to achieve thick border effect\n      classNameCell: 'bold border-right', // to achieve thick border effect\n    },\n    extraHeader: { // custom header above `Age`\n      label: {\n        name: 'groupLabel',\n        relativeData: false,\n      },\n      className: 'bg-success-light border-right',\n    }\n    // sort: '-year', // todo\n  },\n}\n\n// The minimum required config\nexport const metaRequired = {\n  view: 'Table',\n  name: 'matrixTable',\n  headers: [\n    {\n      id: 'undiffRate',\n    },\n    {\n      id: 'smokerRate',\n    },\n    {\n      id: 'nonSmokerRate',\n    },\n  ],\n  group: {\n    by: { // required\n      id: 'tier', // required\n    },\n    header: { // required, common header to group items by\n      id: 'ageBand', // required\n    },\n  },\n}\n","export const meta = {\n  view: 'Tabs',\n  styles: 'padding',\n  items: [\n    {\n      tab: {\n        name: 'coverages.0.coverageID',\n      },\n      content: {\n        view: 'Text',\n        label: {\n          name: 'coverages.0.fundingStructure.contributionType',\n        }\n      }\n    },\n    {\n      tab: {\n        name: 'coverages.1.coverageID',\n      },\n      content: {\n        view: 'Text',\n        label: {\n          name: 'coverages.1.fundingStructure.contributionType',\n        }\n      }\n    },\n  ],\n}\n\nexport const buttoned = {\n  ...meta,\n  buttoned: true\n}\n","import { SIZE_MB_16 } from 'ui-utils-pack'\n\nexport default {\n  view: 'Input',\n  name: 'path.to.file', // path in data.json\n  type: 'file', // use dropzone file input\n  title: 'Upload CSV File', // hint\n  classWrap: 'left', // move button to the left, instead of centered by default\n  styles: 'button margin-largest', // style dropzone as button\n  // label: 'Report', // only used in dropzone style when `showTypes = true`\n  formats: ['csv'], // required\n  maxSize: SIZE_MB_16, // maximum allowed file size in bytes\n  multiple: false, // only allow single file upload\n  showTypes: false, // disable on hover hint for dropzone\n  autoSubmit: true,\n  items: [\n    {\n      view: 'Icon',\n      name: 'file-upload',\n      styles: 'margin-right-smaller'\n    },\n    {\n      view: 'Text',\n      children: 'Upload File'\n    },\n  ]\n}\n","import React, { Component } from 'react'\nimport Button from 'ui-react-pack/Button'\nimport Expand from 'ui-react-pack/Expand'\nimport Icon from 'ui-react-pack/Icon'\nimport JsonView from 'ui-react-pack/JsonView'\nimport { LinkOut } from 'ui-react-pack/LinkOut'\nimport Row from 'ui-react-pack/Row'\nimport ScrollView from 'ui-react-pack/ScrollView'\nimport View from 'ui-react-pack/View'\nimport { toJSON } from 'ui-utils-pack'\nimport { goTo } from '../../common/variables'\nimport data from './examples/_data.json'\nimport meta from './examples/_meta'\nimport listData from './examples/array-nested_data.json'\nimport download_meta from './examples/button-download_meta'\nimport icon_meta from './examples/button-icon_meta'\nimport * as tableForm from './examples/data_component'\nimport decimalMeta from './examples/decimal_meta.json'\nimport dropdownMeta from './examples/dropdown_meta.json'\nimport exampleData from './examples/example_data.json'\nimport exampleMeta from './examples/example_meta.json'\nimport expandListMeta from './examples/expand-list_meta'\nimport experienceData from './examples/experience_data.json'\nimport experienceMeta from './examples/experience_meta.json'\nimport inputMeta from './examples/input_meta'\nimport inputToggle from './examples/input_toggle'\nimport invalidArrayData from './examples/invalid-array_data'\nimport invalidArrayMeta from './examples/invalid-array_meta'\nimport listMeta from './examples/list_meta'\nimport piechartMeta from './examples/piechart_meta'\nimport popupMeta from './examples/popup_meta'\nimport * as ratingDetails from './examples/rating_details'\nimport showIfCondition from './examples/showIf'\nimport * as summaryBox from './examples/summary-box'\nimport tabListMeta from './examples/tab-list_meta'\nimport tableExtraItemsMeta from './examples/table-extraItems_meta.json'\nimport tableNestedMeta from './examples/table-nested_meta'\nimport tableVerticalMeta from './examples/table-vertical_meta'\nimport * as tableMatrix from './examples/table_matrix'\nimport * as tabs from './examples/tabs_meta'\nimport uploadMeta from './examples/upload_meta'\nimport UIRender from './rules'\n\nimport {\n  updateExperienceData,\n  downloadHistoricalFileTemplate,\n  uploadHistoricalFile\n} from 'web/api/gdn-rating-alg'\n\nconst examples = [\n  {\n    title: 'Experience Ratings',\n    id: 'experienceRatings',\n    data: experienceData,\n    meta: experienceMeta,\n  },\n  {\n    title: 'Button with Icon',\n    id: 'buttonIcon',\n    data: {},\n    meta: icon_meta,\n  },\n  {\n    title: 'Button for Download File URL',\n    id: 'buttonDownload',\n    data: {},\n    meta: download_meta,\n  },\n  {\n    title: 'Decimal Points',\n    id: 'decimal',\n    data: exampleData,\n    meta: decimalMeta,\n  },\n  {\n    title: 'Dropdown',\n    id: 'dropdown',\n    data: exampleData,\n    meta: dropdownMeta,\n  },\n  {\n    title: 'Dynamic Layout',\n    id: 'layout',\n    data: exampleData,\n    meta: exampleMeta,\n  },\n  {\n    title: 'Dynamic List',\n    id: 'list',\n    data: listData,\n    meta: listMeta,\n  },\n  {\n    title: 'Expand List',\n    id: 'expandList',\n    data: listData,\n    meta: expandListMeta,\n  },\n  {\n    title: 'Tab List',\n    id: 'tabList',\n    data: listData,\n    meta: tabListMeta,\n  },\n  {\n    title: 'Tabs',\n    id: 'tabs',\n    data: listData,\n    meta: tabs.meta,\n  },\n  {\n    title: 'Tabs Buttoned',\n    id: 'tabsButtoned',\n    data: listData,\n    meta: tabs.buttoned,\n  },\n  {\n    title: 'Table Nested within Table',\n    id: 'tableNested',\n    data: listData,\n    meta: tableNestedMeta,\n  },\n  {\n    title: 'Table Rows as Columns (Vertical Layout)',\n    id: 'tableVertical',\n    data: listData,\n    meta: tableVerticalMeta,\n  },\n  {\n    title: 'Table with Custom Data',\n    id: 'tableExtraItems',\n    data: exampleData,\n    meta: tableExtraItemsMeta,\n  },\n  {\n    title: 'Table with Matrix Data',\n    id: 'tableMatrix',\n    data: tableMatrix.data,\n    meta: tableMatrix.meta,\n  },\n  {\n    title: 'Table with Matrix Data (minimum required config)',\n    id: 'tableMatrixRequired',\n    data: tableMatrix.data,\n    meta: tableMatrix.metaRequired,\n  },\n  {\n    title: 'Table with Form Inputs',\n    id: 'tableForm',\n    data: tableForm.data,\n    meta: tableForm.meta,\n  },\n  {\n    title: 'Pie Chart',\n    id: 'pieChart',\n    data,\n    meta: piechartMeta,\n  },\n  {\n    title: 'Popup Content',\n    id: 'popupContent',\n    data: listData,\n    meta: popupMeta,\n  },\n  {\n    title: 'Show If Condition',\n    id: 'showIf',\n    data: exampleData,\n    meta: showIfCondition,\n  },\n  {\n    title: 'Summary Box',\n    id: 'summaryBox',\n    data: summaryBox.data,\n    meta: summaryBox.meta,\n  },\n  {\n    title: 'Upload',\n    id: 'upload',\n    data: {},\n    meta: uploadMeta,\n  },\n  {\n    title: 'Input',\n    id: 'input',\n    data: exampleData,\n    meta: inputMeta,\n  },\n  {\n    title: 'Input Toggle Checkbox',\n    id: 'inputToggle',\n    data: exampleData,\n    meta: inputToggle,\n  },\n  {\n    title: 'Invalid Array Data',\n    id: 'invalidArray',\n    data: invalidArrayData,\n    meta: invalidArrayMeta,\n  },\n  {\n    title: 'Rating Details',\n    id: 'ratingDetails',\n    data: ratingDetails.data,\n    meta: ratingDetails.meta,\n  },\n  {\n    title: 'All Possible Configurations',\n    id: 'all',\n    data,\n    meta,\n  },\n]\n\n/**\n * VIEW TEMPLATE ---------------------------------------------------------------\n * List of UI Render Documentation Examples Accordion\n * -----------------------------------------------------------------------------\n */\nexport default class Examples extends Component {\n  state = {\n    activeIndex: null\n  }\n\n  toggleExpand = ({expanded, value, key: id}) => {\n    this.setState({activeIndex: expanded ? value : null})\n    if (expanded) goTo(`#${id}`)\n  }\n\n  onGetDataButtonClick = () => {\n    const data = this.getFormData();\n    console.info('Form data: ', data);\n  }\n\n  onSomeDataChanged = () => {\n    console.info('Form data has been changed')\n  }\n\n  showValidationErrors = (errors) => {\n    console.info('Validation errors', errors)\n  }\n\n  render () {\n    const {activeIndex} = this.state\n    const hash = (typeof window !== 'undefined') ? (window.location.hash || '').substr(1) : ''\n    return (\n      <View className=\"app__examples bg-white border\">\n        {examples.map(({data, meta, title, id}, i) => (\n          <Expand\n            id={id}\n            key={title}\n            index={i}\n            expanded={i === activeIndex || id === hash}\n            title={title}\n            onClick={this.toggleExpand}\n            classNameLabel=\"inverted bg-inverse\"\n            classNameItems=\"bg-inverse\"\n          >\n            {() => (\n              <>\n                { ['experienceRatings', 'tableForm', 'ratingDetails'].includes(id) ? (\n                  <>\n                    <UIRender\n                      data={data}\n                      meta={meta}\n                      initialValues={data}\n                      form={obj}\n                      getFormData={(f) => this.getFormData = f}\n                      onDataChanged={this.onSomeDataChanged}\n                      onSubmit={console.warn}\n                      getValidationErrors={this.showValidationErrors}\n                      translate={(v) => v}\n                      apiCalls={{\n                        updateExperienceData,\n                        downloadFile: downloadHistoricalFileTemplate,\n                        uploadFile: uploadHistoricalFile\n                      }}\n                    />\n                    <View className=\"app__examples bg-white border\">\n                      <Button onClick={this.onGetDataButtonClick}>Get Data (the ability to request data from outside)</Button>\n                    </View>\n                  </>\n                ) : (\n                  <UIRender\n                    data={data}\n                    meta={meta}\n                    initialValues={data}\n                    form={obj}\n                    onSubmit={console.warn}\n                  />\n                )}\n                <ScrollView className=\"padding-smaller bg-neutral inverted\">\n                  <Row className=\"wrap spread\">\n                    <View fill className=\"padding-smaller min-width-320\">\n                      <h3>\n                        <LinkOut\n                          to={`data:text/json;charset=utf-8,${encodeURIComponent(toJSON(meta, null, 2))}`}\n                          download={`${id}_meta.json`}\n                        >\n                          {'Meta.json'} <Icon name=\"file-download\" className=\"large\"/>\n                        </LinkOut>\n                      </h3>\n                      <JsonView data={meta} inverted/>\n                    </View>\n                    <View fill className=\"padding-smaller min-width-320\">\n                      <h3>\n                        <LinkOut\n                          to={`data:text/json;charset=utf-8,${encodeURIComponent(toJSON(data, null, 2))}`}\n                          download={`${id}_data.json`}\n                        >\n                          {'Data.json'} <Icon name=\"file-download\" className=\"large\"/>\n                        </LinkOut>\n                      </h3>\n                      <JsonView data={data} inverted/>\n                    </View>\n                  </Row>\n                </ScrollView>\n              </>\n            )}\n          </Expand>\n        ))}\n      </View>\n    )\n  }\n}\n\nconst obj = {id: 'example'} // can be boolean true\n","export default {\n  view: 'Button',\n  items: [\n    {\n      view: 'Icon',\n      name: 'trash'\n    },\n  ],\n  onClick: 'popup'\n}\n\n","export const meta = {\n  view: 'RowList',\n  name: 'coverages',\n  styles: 'wrap justify padding-v bg-grey-lightest',\n  renderItem: {\n    view: 'Col',\n    styles: 'padding-largest margin-v bg-white',\n    style: {minWidth: '48%'}, // If number of blocks is `n`, and space between blocks is `s` minWidth = (100% - s * (n - 1)) / n\n    items: [\n      {\n        view: 'Title',\n        label: {name: 'title'}\n      },\n      {\n        view: 'Row',\n        styles: 'wrap justify',\n        items: [\n          {\n            view: 'Col',\n            styles: {name: 'styles'},\n            style: {minWidth: '45%'},\n            items: [\n              {\n                view: 'Title',\n                label: {name: 'enrolled'}\n              },\n              {\n                view: 'Text',\n                label: 'Enrolled Lives'\n              }\n            ]\n          },\n          {\n            view: 'Col',\n            styles: {name: 'styles'},\n            style: {minWidth: '45%'},\n            items: [\n              {\n                view: 'Title',\n                label: {name: 'manualPremium'},\n                renderLabel: 'Currency',\n              },\n              {\n                view: 'Text',\n                label: 'Monthly Manual Premium'\n              }\n            ]\n          },\n        ]\n      },\n      {\n        view: 'Row',\n        styles: 'wrap spread padding margin-top bg-grey-lighter',\n        items: [\n          {\n            view: 'Col',\n            styles: 'margin-small',\n            items: [\n              {\n                view: 'Title',\n                label: {name: 'commissions'},\n                renderLabel: 'Currency',\n              },\n              {\n                view: 'Text',\n                label: 'Commissions',\n              }\n            ]\n          },\n          {\n            view: 'Col',\n            styles: 'margin-small',\n            items: [\n              {\n                view: 'Title',\n                label: {name: 'tax'},\n                renderLabel: 'Percent',\n              },\n              {\n                view: 'Text',\n                label: 'Tax',\n              }\n            ]\n          },\n          {\n            view: 'Col',\n            styles: 'margin-small',\n            items: [\n              {\n                view: 'Title',\n                label: {name: 'profit'},\n                renderLabel: 'Percent',\n              },\n              {\n                view: 'Text',\n                label: 'Profit',\n              }\n            ]\n          },\n          {\n            view: 'Col',\n            styles: 'margin-small',\n            items: [\n              {\n                view: 'Title',\n                label: {name: 'expenses'},\n                renderLabel: 'Percent',\n              },\n              {\n                view: 'Text',\n                label: 'Expenses',\n              }\n            ]\n          },\n        ],\n      }\n    ]\n  }\n}\n\nexport const data = {\n  coverages: [\n    {\n      title: 'Core Coverage',\n      enrolled: 55,\n      manualPremium: 48250.00,\n      commissions: 44.00,\n      tax: 0.02,\n      profit: 0.04,\n      expenses: 0.1,\n      styles: 'padding-largest margin-v align-center bg-info-light',\n    },\n    {\n      title: 'Buy-Up Coverage',\n      enrolled: 32,\n      manualPremium: 23950.00,\n      commissions: 24.00,\n      tax: 0.09,\n      profit: 0.11,\n      expenses: 0.96,\n      styles: 'padding-largest margin-v align-center bg-warning-light',\n    },\n  ]\n}\n","export default {\n  view: 'Row',\n  items: [\n    {\n      view: 'Input',\n      name: 'coverages.0.checkbox',\n      styles: 'margin',\n      label: 'Label (used if `labelTrue` or `labelFalse` undefined)',\n      labelTrue: 'True Label',\n      labelFalse: 'False Label',\n      type: 'toggle',\n      defaultValue: true\n    },\n    {\n      view: 'Row',\n      styles: 'middle',\n      items: [\n        {\n          view: 'Input',\n          name: 'ShowExperienceRating',\n          id: 'toggleShowExperienceRating',\n          styles: 'margin-right-smaller',\n          type: 'toggle',\n          label: ' ',\n        },\n        {\n          view: 'Label',\n          htmlFor: 'toggleShowExperienceRating',\n          styles: 'bold pointer',\n          children: 'Experience Rating'\n        }\n      ]\n    },\n  ]\n}\n","export const meta = {\n  view: 'Col',\n  _comment: 'Remove this wrapper component, it is for demo purpose only',\n  styles: 'padding-h-largest bg-info-light',\n  items: [\n    {\n      'view': 'VerticalLayout',\n      'styles': 'margin-v-largest',\n      'items': [\n        {\n          '@class': 'org.openl.generated.beans.Title',\n          'view': 'Title',\n          'label': 'Rating Details',\n          'styles': 'padding-largest no-padding-bottom no-margin bg-neutral radius-top'\n        },\n        {\n          '@class': 'org.openl.generated.beans.Tabs',\n          'view': 'Tabs',\n          childrenBeforeTabs: {\n            '@class': 'org.openl.generated.beans.Layout',\n            'view': 'HorizontalLayout',\n            'label': 'PlanList',\n            'styles': 'padding-right-largest middle bg-neutral',\n            'relativeData': false,\n            'items': [\n              {\n                '@class': 'org.openl.generated.beans.Text',\n                'view': 'Text',\n                'label': 'FILTER BY'\n              },\n              {\n                '@class': 'org.openl.generated.beans.Element',\n                'view': 'Space'\n              },\n              {\n                '@class': 'org.openl.generated.beans.Dropdown',\n                'view': 'Dropdown',\n                'name': 'plan',\n                'options': {\n                  'name': 'Plans'\n                },\n                'mapOptions': 'Plan',\n                'compact': true\n              }\n            ],\n            'version': 'PlanList'\n          },\n\n          // This applies styles to the tabs\n          classNameTabs: 'padding-largest bg-neutral radius-bottom',\n\n          // Required for Dropdown menu to show correctly inside Tabs, but will break Tabs layout in narrow screens!\n          styleTabs: {overflow: 'visible'},\n\n          // Style inner content here to have consistent layout throughout tabs\n          classNameContent: 'margin-v-small',\n          'buttoned': true,\n          'items': [\n            {\n              'view': 'Tab',\n              'tab': 'General Summary',\n              'content': {\n                'view': 'VerticalLayout',\n                'styles': '',\n                'items': [\n                  {\n                    '@class': 'org.openl.generated.beans.RowList',\n                    'view': 'RowList',\n                    'name': 'Plans[{state.plan,0}].Coverages',\n                    'styles': 'wrap justify margin-v',\n                    'relativeData': true,\n                    'renderItem': {\n                      '@class': 'org.openl.generated.beans.Layout',\n                      'view': 'VerticalLayout',\n                      'styles': 'padding-largest radius bg-neutral',\n                      'items': [\n                        {\n                          '@class': 'org.openl.generated.beans.Text',\n                          'view': 'Text',\n                          'children': {\n                            'name': 'CoverageType',\n                            'relativeData': null\n                          },\n                          'styles': 'h3'\n                        },\n                        {\n                          '@class': 'org.openl.generated.beans.Layout',\n                          'view': 'HorizontalLayout',\n                          'styles': 'wrap justify',\n                          'items': [\n                            {\n                              '@class': 'org.openl.generated.beans.Layout',\n                              'view': 'VerticalLayout',\n                              'styles': 'padding-largest margin-v align-center radius bg-info-light',\n                              'items': [\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'children': {\n                                    'name': 'NumberOfLives',\n                                    'relativeData': null\n                                  },\n                                  'styles': 'h3'\n                                },\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'label': 'Enrolled Lives'\n                                }\n                              ],\n                              'version': 'CoverageExpensesRow1Column1',\n                              'style': {\n                                'minWidth': '45%'\n                              }\n                            },\n                            {\n                              '@class': 'org.openl.generated.beans.Layout',\n                              'view': 'VerticalLayout',\n                              'styles': 'padding-largest margin-v align-center radius bg-info-light',\n                              'items': [\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'children': {\n                                    'name': 'MonthlyPremium',\n                                    'relativeData': null\n                                  },\n                                  'styles': 'h3'\n                                },\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'label': 'Monthly Manual Premium'\n                                }\n                              ],\n                              'version': 'CoverageExpensesRow1Column2',\n                              'style': {\n                                'minWidth': '45%'\n                              }\n                            }\n                          ],\n                          'version': 'CoverageExpensesRow1'\n                        },\n                        {\n                          '@class': 'org.openl.generated.beans.Layout',\n                          'view': 'HorizontalLayout',\n                          'styles': 'wrap spread padding margin-top radius bg-grey-lighter',\n                          'items': [\n                            {\n                              '@class': 'org.openl.generated.beans.Layout',\n                              'view': 'VerticalLayout',\n                              'styles': 'margin-small',\n                              'items': [\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Percent'\n                                  },\n                                  'children': {\n                                    'name': 'Tax',\n                                    'relativeData': null\n                                  },\n                                  'styles': 'h3'\n                                },\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'label': 'Tax'\n                                }\n                              ],\n                              'version': 'CoverageExpensesRow2Column2'\n                            },\n                            {\n                              '@class': 'org.openl.generated.beans.Layout',\n                              'view': 'VerticalLayout',\n                              'styles': 'margin-small',\n                              'items': [\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Percent'\n                                  },\n                                  'children': {\n                                    'name': 'Profit',\n                                    'relativeData': null\n                                  },\n                                  'styles': 'h3'\n                                },\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'label': 'Profit'\n                                }\n                              ],\n                              'version': 'CoverageExpensesRow2Column3'\n                            },\n                            {\n                              '@class': 'org.openl.generated.beans.Layout',\n                              'view': 'VerticalLayout',\n                              'styles': 'margin-small',\n                              'items': [\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Percent'\n                                  },\n                                  'children': {\n                                    'name': 'Expense',\n                                    'relativeData': null\n                                  },\n                                  'styles': 'h3'\n                                },\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'label': 'Expenses'\n                                }\n                              ],\n                              'version': 'CoverageExpensesRow2Column4'\n                            }\n                          ],\n                          'version': 'CoverageExpensesRow2'\n                        }\n                      ],\n                      'version': 'ExpenseColumn',\n                      'style': {\n                        'minWidth': '48%'\n                      }\n                    }\n                  },\n                  {\n                    view: 'Col',\n                    styles: 'padding-largest margin-top-largest radius bg-neutral',\n                    items: [\n                      {\n                        '@class': 'org.openl.generated.beans.Text',\n                        'view': 'Text',\n                        'label': 'Cost Summary',\n                        'styles': 'h4 margin-v-largest'\n                      },\n                      {\n                        '@class': 'org.openl.generated.beans.TableRows',\n                        'view': 'Table',\n                        'headers': [\n                          {\n                            'id': 'Description',\n                            'label': '\"\"',\n                            'styleHeader': {\n                              'width': '60%'\n                            }\n                          },\n                          {\n                            'id': 'Core',\n                            'label': 'Core',\n                            'styleHeader': {\n                              'width': '20%',\n                              'minWidth': 100\n                            }\n                          },\n                          {\n                            'id': 'BuyUp',\n                            'label': 'BuyUp',\n                            'styleHeader': {\n                              'width': '20%',\n                              'minWidth': 100\n                            }\n                          }\n                        ],\n                        'extraItems': [\n                          {\n                            '@class': 'org.openl.generated.beans.TableRowsItems',\n                            'Description': 'Eligible Lives',\n                            'Core': {\n                              'view': 'Text',\n                              'label': {\n                                'name': 'Plans[{state.plan,0}].Coverages[0].NumberOfLives',\n                                'relativeData': false\n                              },\n                              'renderLabel': {\n                                '@class': 'org.openl.generated.beans.RenderLabel',\n                                'name': 'Float'\n                              }\n                            },\n                            'BuyUp': {\n                              'view': 'Text',\n                              'label': {\n                                'name': 'Plans[{state.plan,0}].Coverages[1].NumberOfLives',\n                                'relativeData': false\n                              },\n                              'renderLabel': {\n                                '@class': 'org.openl.generated.beans.RenderLabel',\n                                'name': 'Float'\n                              }\n                            }\n                          },\n                          {\n                            '@class': 'org.openl.generated.beans.TableRowsItems',\n                            'Description': 'Monthly Pre-Expense Cost',\n                            'Core': {\n                              'view': 'Text',\n                              'label': {\n                                'name': 'Plans[{state.plan,0}].Coverages[0].TotalMonthlyPreExpenseCost',\n                                'relativeData': false\n                              },\n                              'renderLabel': {\n                                '@class': 'org.openl.generated.beans.RenderLabel',\n                                'name': 'Currency'\n                              }\n                            },\n                            'BuyUp': {\n                              'view': 'Text',\n                              'label': {\n                                'name': 'Plans[{state.plan,0}].Coverages[1].TotalMonthlyPreExpenseCost',\n                                'relativeData': false\n                              },\n                              'renderLabel': {\n                                '@class': 'org.openl.generated.beans.RenderLabel',\n                                'name': 'Currency'\n                              }\n                            }\n                          },\n                          {\n                            '@class': 'org.openl.generated.beans.TableRowsItems',\n                            'Description': 'Net ClaimCost',\n                            'Core': {\n                              'view': 'Text',\n                              'label': {\n                                'name': 'Plans[{state.plan,0}].Coverages[0].TotalNetClaimCost',\n                                'relativeData': false\n                              },\n                              'renderLabel': {\n                                '@class': 'org.openl.generated.beans.RenderLabel',\n                                'name': 'Currency'\n                              }\n                            },\n                            'BuyUp': {\n                              'view': 'Text',\n                              'label': {\n                                'name': 'Plans[{state.plan,0}].Coverages[1].TotalNetClaimCost',\n                                'relativeData': false\n                              },\n                              'renderLabel': {\n                                '@class': 'org.openl.generated.beans.RenderLabel',\n                                'name': 'Currency'\n                              }\n                            }\n                          },\n                          {\n                            '@class': 'org.openl.generated.beans.TableRowsItems',\n                            'Description': 'Total Weekly Benefit',\n                            'Core': {\n                              'view': 'Text',\n                              'label': {\n                                'name': 'Plans[{state.plan,0}].Coverages[0].TotalWeeklyBenefit',\n                                'relativeData': false\n                              },\n                              'renderLabel': {\n                                '@class': 'org.openl.generated.beans.RenderLabel',\n                                'name': 'Currency'\n                              }\n                            },\n                            'BuyUp': {\n                              'view': 'Text',\n                              'label': {\n                                'name': 'Plans[{state.plan,0}].Coverages[1].TotalWeeklyBenefit',\n                                'relativeData': false\n                              },\n                              'renderLabel': {\n                                '@class': 'org.openl.generated.beans.RenderLabel',\n                                'name': 'Currency'\n                              }\n                            }\n                          },\n                          {\n                            '@class': 'org.openl.generated.beans.TableRowsItems',\n                            'Description': 'Manual Rate',\n                            'Core': {\n                              'view': 'Text',\n                              'label': {\n                                'name': 'Plans[{state.plan,0}].Coverages[0].Rate',\n                                'relativeData': false\n                              },\n                              'renderLabel': {\n                                '@class': 'org.openl.generated.beans.RenderLabel',\n                                'name': 'Float'\n                              }\n                            },\n                            'BuyUp': {\n                              'view': 'Text',\n                              'label': {\n                                'name': 'Plans[{state.plan,0}].Coverages[1].Rate',\n                                'relativeData': false\n                              },\n                              'renderLabel': {\n                                '@class': 'org.openl.generated.beans.RenderLabel',\n                                'name': 'Float'\n                              }\n                            }\n                          }\n                        ]\n                      }\n                    ]\n                  },\n                ],\n                'version': 'CostSummaryTabBlock'\n              }\n            },\n            {\n              'view': 'Tab',\n              'tab': 'Demographic',\n              'content': {\n                'view': 'VerticalLayout',\n                'styles': '',\n                'items': [\n                  {\n                    '@class': 'org.openl.generated.beans.RowList',\n                    'view': 'RowList',\n                    'name': 'Plans[{state.plan,0}].Coverages',\n                    'styles': 'wrap justify margin-v',\n                    'relativeData': true,\n                    'renderItem': {\n                      '@class': 'org.openl.generated.beans.Layout',\n                      'view': 'VerticalLayout',\n                      'styles': 'padding-largest radius bg-neutral',\n                      style: {minWidth: '48%'},\n                      'relativeData': false,\n                      'showIf': {\n                        'relativeData': true,\n                        'name': 'DemographicByAgeBands'\n                      },\n                      'items': [\n                        {\n                          '@class': 'org.openl.generated.beans.Text',\n                          'view': 'Text',\n                          'children': {\n                            'name': 'CoverageType',\n                            'relativeData': true\n                          },\n                          'styles': 'h3'\n                        },\n                        {\n                          '@class': 'org.openl.generated.beans.PieChart',\n                          'view': 'PieChart',\n                          'name': 'DemographicByAgeBands',\n                          'relativeData': true,\n                          'mapItems': {\n                            'label': 'RateCard',\n                            'value': 'NumberOfLives'\n                          },\n                          'legends': {\n                            columns: 2\n                          }\n                        }\n                      ],\n                      'version': 'CoveragesDemographicPieChartColumn'\n                    }\n                  },\n                  {\n                    '@class': 'org.openl.generated.beans.Layout',\n                    'view': 'HorizontalLayout',\n                    'styles': 'wrap middle margin-top-largest',\n                    'showIf': {\n                      'relativeData': false,\n                      'name': 'CensusExists'\n                    },\n                    'items': [\n                      {\n                        '@class': 'org.openl.generated.beans.Layout',\n                        'view': 'VerticalLayout',\n                        'items': [\n                          {\n                            '@class': 'org.openl.generated.beans.Layout',\n                            'view': 'HorizontalLayout',\n                            'styles': 'justify middle padding',\n                            'items': [\n                              {\n                                '@class': 'org.openl.generated.beans.Text',\n                                'view': 'Text',\n                                'label': 'Weekly Salary Summary By Age',\n                                'styles': 'h4'\n                              }\n                            ],\n                            'version': 'DemographicGenderRow1'\n                          },\n                          {\n                            '@class': 'org.openl.generated.beans.Element',\n                            'view': 'Space'\n                          },\n                          {\n                            '@class': 'org.openl.generated.beans.Layout',\n                            'view': 'HorizontalLayout',\n                            'styles': 'justify middle',\n                            'items': [\n                              {\n                                '@class': 'org.openl.generated.beans.RowList',\n                                'view': 'RowList',\n                                'name': 'Plans[{state.plan,0}].Coverages',\n                                'styles': 'justify wrap',\n                                'relativeData': true,\n                                'renderItem': {\n                                  '@class': 'org.openl.generated.beans.Layout',\n                                  'view': 'HorizontalLayout',\n                                  'styles': 'justify middle padding-left',\n                                  'items': [\n                                    {\n                                      '@class': 'org.openl.generated.beans.Layout',\n                                      'view': 'VerticalLayout',\n                                      'items': [\n                                        {\n                                          '@class': 'org.openl.generated.beans.Text',\n                                          'view': 'Text',\n                                          'children': {\n                                            'name': 'CoverageType',\n                                            'relativeData': true\n                                          },\n                                          'styles': 'h6'\n                                        },\n                                        {\n                                          '@class': 'org.openl.generated.beans.Table',\n                                          'view': 'Table',\n                                          'name': 'WeeklySummaryByAgeBands',\n                                          'headers': [\n                                            {\n                                              '@class': 'org.openl.generated.beans.TableHeader',\n                                              'id': 'AgeBand',\n                                              'label': 'Age'\n                                            },\n                                            {\n                                              '@class': 'org.openl.generated.beans.TableHeader',\n                                              'id': 'WeeklySalaryFemale',\n                                              'label': 'Female',\n                                              'renderCell': {\n                                                '@class': 'org.openl.generated.beans.RenderCell',\n                                                'name': 'Currency'\n                                              }\n                                            },\n                                            {\n                                              '@class': 'org.openl.generated.beans.TableHeader',\n                                              'id': 'WeeklySalaryMale',\n                                              'label': 'Male',\n                                              'renderCell': {\n                                                '@class': 'org.openl.generated.beans.RenderCell',\n                                                'name': 'Currency'\n                                              }\n                                            },\n                                            {\n                                              '@class': 'org.openl.generated.beans.TableHeader',\n                                              'id': 'WeeklySalaryTotal',\n                                              'label': 'Total',\n                                              'renderCell': {\n                                                '@class': 'org.openl.generated.beans.RenderCell',\n                                                'name': 'Currency'\n                                              }\n                                            }\n                                          ],\n                                          'relativeData': true,\n                                          'showIf': {}\n                                        },\n                                        {\n                                          '@class': 'org.openl.generated.beans.Element',\n                                          'view': 'Space'\n                                        }\n                                      ],\n                                      'version': 'DemographicGenderColumn'\n                                    }\n                                  ],\n                                  'version': 'DemographicGenderRowBlock'\n                                }\n                              }\n                            ],\n                            'version': 'DemographicGenderRow2'\n                          }\n                        ],\n                        'version': 'DemographicGenderBlock'\n                      }\n                    ],\n                    'version': 'DemographicGenderBlockRow'\n                  },\n                  {\n                    '@class': 'org.openl.generated.beans.Layout',\n                    'view': 'HorizontalLayout',\n                    'styles': 'wrap middle margin-top-largest',\n                    'items': [\n                      {\n                        '@class': 'org.openl.generated.beans.Layout',\n                        'view': 'VerticalLayout',\n                        'styles': 'padding-largest radius bg-neutral',\n                        style: {minWidth: '48%'},\n                        'items': [\n                          {\n                            '@class': 'org.openl.generated.beans.Text',\n                            'view': 'Text',\n                            'label': 'Salary',\n                            'styles': 'h3'\n                          },\n                          {\n                            '@class': 'org.openl.generated.beans.Element',\n                            'view': 'Space'\n                          },\n                          {\n                            '@class': 'org.openl.generated.beans.TableRows',\n                            'view': 'Table',\n                            'headers': [\n                              {\n                                'id': 'Description',\n                                'label': '\"\"',\n                                'styleHeader': {\n                                  'width': '60%'\n                                }\n                              },\n                              {\n                                'id': 'Core',\n                                'label': 'Core',\n                                'styleHeader': {\n                                  'width': '20%',\n                                  'minWidth': 100\n                                }\n                              },\n                              {\n                                'id': 'BuyUp',\n                                'label': 'BuyUp',\n                                'styleHeader': {\n                                  'width': '20%',\n                                  'minWidth': 100\n                                }\n                              }\n                            ],\n                            'extraItems': [\n                              {\n                                '@class': 'org.openl.generated.beans.TableRowsItems',\n                                'Description': 'Top First Annual Salary',\n                                'Core': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[0].DemographicSummary.TopFirstAnnualSalary',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Currency'\n                                  }\n                                },\n                                'BuyUp': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[1].DemographicSummary.TopFirstAnnualSalary',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Currency'\n                                  }\n                                }\n                              },\n                              {\n                                '@class': 'org.openl.generated.beans.TableRowsItems',\n                                'Description': 'Top Second Annual Salary',\n                                'Core': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[0].DemographicSummary.TopSecondAnnualSalary',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Currency'\n                                  }\n                                },\n                                'BuyUp': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[1].DemographicSummary.TopSecondAnnualSalary',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Currency'\n                                  }\n                                }\n                              },\n                              {\n                                '@class': 'org.openl.generated.beans.TableRowsItems',\n                                'Description': 'Top Third Annual Salary',\n                                'Core': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[0].DemographicSummary.TopThirdAnnualSalary',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Currency'\n                                  }\n                                },\n                                'BuyUp': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[1].DemographicSummary.TopThirdAnnualSalary',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Currency'\n                                  }\n                                }\n                              },\n                              {\n                                '@class': 'org.openl.generated.beans.TableRowsItems',\n                                'Description': 'Average Annual Salary',\n                                'Core': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[0].DemographicSummary.AverageAnnualSalary',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Currency'\n                                  }\n                                },\n                                'BuyUp': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[1].DemographicSummary.AverageAnnualSalary',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Currency'\n                                  }\n                                }\n                              }\n                            ],\n                            'styles': 'margin-bottom'\n                          }\n                        ],\n                        'version': 'DemographicWeeklySalaryBlock'\n                      },\n                      {\n                        '@class': 'org.openl.generated.beans.Element',\n                        'view': 'Space'\n                      },\n                      {\n                        '@class': 'org.openl.generated.beans.Layout',\n                        'view': 'VerticalLayout',\n                        'styles': 'border radius',\n                        'showIf': {\n                          'relativeData': false,\n                          'name': 'CensusExists'\n                        },\n                        'items': [\n                          {\n                            '@class': 'org.openl.generated.beans.Text',\n                            'view': 'Text',\n                            'label': 'Total Weekly Benefit',\n                            'styles': 'h4'\n                          },\n                          {\n                            '@class': 'org.openl.generated.beans.Element',\n                            'view': 'Space'\n                          },\n                          {\n                            '@class': 'org.openl.generated.beans.TableRows',\n                            'view': 'Table',\n                            'headers': [\n                              {\n                                'id': 'Description',\n                                'label': '\"\"',\n                                'styleHeader': {\n                                  'width': '60%'\n                                }\n                              },\n                              {\n                                'id': 'Core',\n                                'label': 'Core',\n                                'styleHeader': {\n                                  'width': '20%',\n                                  'minWidth': 100\n                                }\n                              },\n                              {\n                                'id': 'BuyUp',\n                                'label': 'BuyUp',\n                                'styleHeader': {\n                                  'width': '20%',\n                                  'minWidth': 100\n                                }\n                              }\n                            ],\n                            'extraItems': [\n                              {\n                                '@class': 'org.openl.generated.beans.TableRowsItems',\n                                'Description': 'Percent TWB Female',\n                                'Core': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[0].DemographicSummary.FemalePercent',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Percent',\n                                    'decimals': 2\n                                  }\n                                },\n                                'BuyUp': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[1].DemographicSummary.FemalePercent',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Percent',\n                                    'decimals': 2\n                                  }\n                                }\n                              },\n                              {\n                                '@class': 'org.openl.generated.beans.TableRowsItems',\n                                'Description': 'Percent TWB Female Under 40',\n                                'Core': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[0].DemographicSummary.PercentFemaleUnder40',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Percent',\n                                    'decimals': 2\n                                  }\n                                },\n                                'BuyUp': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[1].DemographicSummary.PercentFemaleUnder40',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Percent',\n                                    'decimals': 2\n                                  }\n                                }\n                              },\n                              {\n                                '@class': 'org.openl.generated.beans.TableRowsItems',\n                                'Description': 'Percent TWB Female Under 45',\n                                'Core': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[0].DemographicSummary.PercentFemaleUnder45',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Percent',\n                                    'decimals': 2\n                                  }\n                                },\n                                'BuyUp': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[1].DemographicSummary.PercentFemaleUnder45',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Percent',\n                                    'decimals': 2\n                                  }\n                                }\n                              },\n                              {\n                                '@class': 'org.openl.generated.beans.TableRowsItems',\n                                'Description': 'Average Total Wekly Benefit',\n                                'Core': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[0].DemographicSummary.AverageTotalWeeklyBenefit',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Currency'\n                                  }\n                                },\n                                'BuyUp': {\n                                  'view': 'Text',\n                                  'label': {\n                                    'name': 'Plans[{state.plan,0}].Coverages[1].DemographicSummary.AverageTotalWeeklyBenefit',\n                                    'relativeData': false\n                                  },\n                                  'renderLabel': {\n                                    '@class': 'org.openl.generated.beans.RenderLabel',\n                                    'name': 'Currency'\n                                  }\n                                }\n                              }\n                            ],\n                            'styles': 'margin-bottom'\n                          }\n                        ],\n                        'version': 'DemographicPercentageSalaryBlock'\n                      }\n                    ],\n                    'version': 'DemographicSalaryBlock'\n                  }\n                ],\n                'version': 'DemographicTabBlock'\n              }\n            },\n            {\n              'view': 'Tab',\n              'tab': 'Factors',\n              'content': {\n                '@class': 'org.openl.generated.beans.Layout',\n                'view': 'VerticalLayout',\n                'styles': '',\n                'items': [\n                  {\n                    '@class': 'org.openl.generated.beans.Layout',\n                    'view': 'VerticalLayout',\n                    'styles': 'padding-largest margin-v radius bg-white',\n                    style: {maxWidth: '48%'},\n                    'items': [\n                      {\n                        '@class': 'org.openl.generated.beans.Text',\n                        'view': 'Text',\n                        'label': 'Policy Factors',\n                        'styles': 'h3'\n                      },\n                      {\n                        '@class': 'org.openl.generated.beans.Layout',\n                        'view': 'HorizontalLayout',\n                        'styles': 'wrap spread',\n                        'items': [\n                          {\n                            'view': 'Col',\n                            'items': [\n                              {\n                                '@class': 'org.openl.generated.beans.Layout',\n                                'view': 'VerticalLayout',\n                                'styles': 'padding-h-largest padding-v radius border margin-v align-center',\n                                'items': [\n                                  {\n                                    '@class': 'org.openl.generated.beans.Input',\n                                    'view': 'Input',\n                                    'name': 'PolicyFactors.IndustryFactor',\n                                    'label': 'Industry factor',\n                                    'type': 'number',\n                                    'format': 'double5',\n                                    'relativeData': false,\n                                    'autoSubmit': true,\n                                    'removable': true,\n                                    compact: true,\n                                    styles: 'bold reverse border-on-hover',\n                                    'min': 0\n                                  }\n                                ],\n                                'version': 'FactorPolicyRow1Col1',\n                                'style': {\n                                  'minWidth': '45%'\n                                }\n                              }\n                            ]\n                          },\n                          {\n                            'view': 'Col',\n                            'items': [\n                              {\n                                '@class': 'org.openl.generated.beans.Layout',\n                                'view': 'VerticalLayout',\n                                'styles': 'padding-h-largest padding-v margin-v border radius align-center',\n                                'items': [\n                                  {\n                                    '@class': 'org.openl.generated.beans.Input',\n                                    'view': 'Input',\n                                    'name': 'PolicyFactors.SizeFactor',\n                                    'label': 'Size factor',\n                                    'type': 'number',\n                                    'format': 'double5',\n                                    'relativeData': false,\n                                    'autoSubmit': true,\n                                    'removable': true,\n                                    styles: 'bold reverse border-on-hover',\n                                    compact: true,\n                                    'min': 0\n                                  }\n                                ],\n                                'version': 'FactorPolicyRow1Col2',\n                                'style': {\n                                  'minWidth': '45%'\n                                }\n                              }\n                            ]\n                          }\n                        ],\n                        'version': 'FactorIndustrySizeRow'\n                      },\n                      {\n                        '@class': 'org.openl.generated.beans.Layout',\n                        'view': 'HorizontalLayout',\n                        'styles': 'wrap spread',\n                        'items': [\n                          {\n                            '@class': 'org.openl.generated.beans.Layout',\n                            'view': 'VerticalLayout',\n                            'styles': 'padding-largest margin-v align-center',\n                            'items': [\n                              {\n                                '@class': 'org.openl.generated.beans.Text',\n                                'view': 'Text',\n                                'children': {\n                                  'name': 'PolicyFactors.GeographicFactor',\n                                  'relativeData': null\n                                },\n                                'styles': 'h4'\n                              },\n                              {\n                                '@class': 'org.openl.generated.beans.Text',\n                                'view': 'Text',\n                                'label': 'Geographic'\n                              }\n                            ],\n                            'version': 'FactorPolicyRow2Col1',\n                          },\n                          {\n                            '@class': 'org.openl.generated.beans.Layout',\n                            'view': 'VerticalLayout',\n                            'styles': 'padding-largest margin-v align-center',\n                            'items': [\n                              {\n                                '@class': 'org.openl.generated.beans.Text',\n                                'view': 'Text',\n                                'children': {\n                                  'name': 'PolicyFactors.RateGuaranteeFactor',\n                                  'relativeData': null\n                                },\n                                'styles': 'h4'\n                              },\n                              {\n                                '@class': 'org.openl.generated.beans.Text',\n                                'view': 'Text',\n                                'label': 'Rate Guarantee'\n                              }\n                            ],\n                            'version': 'FactorPolicyRow2Col2',\n                          },\n                          {\n                            '@class': 'org.openl.generated.beans.Layout',\n                            'view': 'VerticalLayout',\n                            'styles': 'padding-largest margin-v align-center',\n                            'items': [\n                              {\n                                '@class': 'org.openl.generated.beans.Text',\n                                'view': 'Text',\n                                'styles': 'h4',\n                                'children': {\n                                  'name': 'PolicyFactors.OtherProductsFactor',\n                                  'relativeData': null\n                                }\n                              },\n                              {\n                                '@class': 'org.openl.generated.beans.Text',\n                                'view': 'Text',\n                                'label': 'Multi-Product',\n                              },\n                            ],\n                            'version': 'FactorPolicyRow2Col3',\n                          }\n                        ],\n                        'version': 'FactorsPolicyRow'\n                      }\n                    ],\n                    'version': 'FactorPolicy'\n                  },\n                  {\n                    '@class': 'org.openl.generated.beans.RowList',\n                    'view': 'RowList',\n                    'name': 'Plans[{state.plan,0}].Coverages',\n                    'styles': 'wrap justify margin-top-largest',\n                    'relativeData': true,\n                    'renderItem': {\n                      '@class': 'org.openl.generated.beans.Layout',\n                      'view': 'VerticalLayout',\n                      'styles': 'padding-largest radius bg-white',\n                      // If number of blocks is `n`, and space between blocks is `s` minWidth = (100% - s * (n - 1)) / n\n                      'style': {minWidth: '48%'},\n                      'items': [\n                        {\n                          '@class': 'org.openl.generated.beans.Text',\n                          'view': 'Text',\n                          'children': {\n                            'name': 'CoverageType',\n                            'relativeData': true\n                          },\n                          'styles': 'h3'\n                        },\n                        {\n                          '@class': 'org.openl.generated.beans.Layout',\n                          'view': 'HorizontalLayout',\n                          'styles': 'wrap justify',\n                          'items': [\n                            {\n                              '@class': 'org.openl.generated.beans.Layout',\n                              'view': 'VerticalLayout',\n                              'styles': 'padding-largest margin-v align-center radius bg-info-light',\n                              'style': {width: '30%'},\n                              'items': [\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'children': {\n                                    'name': 'Factors.CoverageFactor',\n                                    'relativeData': null\n                                  },\n                                  'styles': 'h4'\n                                },\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'label': 'Coverage Factor'\n                                }\n                              ],\n                              'version': 'FactorCoverageRowBlockRow1Col1',\n                            },\n                            {\n                              '@class': 'org.openl.generated.beans.Layout',\n                              'view': 'VerticalLayout',\n                              'styles': 'padding-largest margin-v align-center radius bg-info-light',\n                              'style': {width: '30%'},\n                              'items': [\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'children': {\n                                    'name': 'Factors.DisabilityDefinitionFactor',\n                                    'relativeData': null\n                                  },\n                                  'styles': 'h4'\n                                },\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'label': 'Definition of Disability'\n                                }\n                              ],\n                              'version': 'FactorCoverageRowBlockRow1Col2',\n                            },\n                            {\n                              '@class': 'org.openl.generated.beans.Layout',\n                              'view': 'VerticalLayout',\n                              'styles': 'padding-largest margin-v align-center radius bg-info-light',\n                              'style': {width: '30%'},\n                              'items': [\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'children': {\n                                    'name': 'Factors.BenefitPercentFactor',\n                                    'relativeData': null\n                                  },\n                                  'styles': 'h4'\n                                },\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'label': 'Benefit Percent'\n                                }\n                              ],\n                              'version': 'FactorCoverageRowBlockRow1Col3',\n                            }\n                          ],\n                          'version': 'FactorCoverageRowBlockRow1'\n                        },\n                        {\n                          '@class': 'org.openl.generated.beans.Layout',\n                          'view': 'HorizontalLayout',\n                          'styles': 'wrap justify',\n                          'items': [\n                            {\n                              '@class': 'org.openl.generated.beans.Layout',\n                              'view': 'VerticalLayout',\n                              'styles': 'padding-largest margin-v align-center radius bg-warning-light',\n                              'style': {width: '30%'},\n                              'items': [\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'children': {\n                                    'name': 'Factors.ReturnToWorkFactor',\n                                    'relativeData': null\n                                  },\n                                  'styles': 'h4'\n                                },\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'label': 'Return to Work'\n                                }\n                              ],\n                              'version': 'FactorCoverageRowBlockRow2Col1',\n                            },\n                            {\n                              '@class': 'org.openl.generated.beans.Layout',\n                              'view': 'VerticalLayout',\n                              'styles': 'padding-largest margin-v align-center radius bg-warning-light',\n                              'style': {width: '30%'},\n                              'items': [\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'children': {\n                                    'name': 'Factors.PreExistingFactor',\n                                    'relativeData': null\n                                  },\n                                  'styles': 'h4'\n                                },\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'label': 'Pre-Existing condition'\n                                }\n                              ],\n                              'version': 'FactorCoverageRowBlockRow2Col2',\n                            },\n                            {\n                              '@class': 'org.openl.generated.beans.Layout',\n                              'view': 'VerticalLayout',\n                              'styles': 'padding-largest margin-v align-center radius bg-warning-light',\n                              'items': [\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'children': {\n                                    'name': 'Factors.HospitalConfinementWaiverRate',\n                                    'relativeData': null\n                                  },\n                                  'styles': 'h4'\n                                },\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'label': 'First Day Hospitalization'\n                                }\n                              ],\n                              'style': {width: '30%'},\n                              'version': 'FactorCoverageRowBlockRow2Col3',\n                            }\n                          ],\n                          'version': 'FactorCoverageRowBlockRow2'\n                        },\n                        {\n                          '@class': 'org.openl.generated.beans.Layout',\n                          'view': 'HorizontalLayout',\n                          'styles': 'wrap justify',\n                          'items': [\n                            {\n                              '@class': 'org.openl.generated.beans.Layout',\n                              'view': 'VerticalLayout',\n                              'styles': 'padding-largest margin-v align-center radius bg-success-light',\n                              'style': {width: '30%'},\n                              'items': [\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'children': {\n                                    'name': 'Factors.WorkIncentiveFactor',\n                                    'relativeData': null\n                                  },\n                                  'styles': 'h4'\n                                },\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'label': 'Work Incentive'\n                                }\n                              ],\n                              'version': 'FactorCoverageRowBlockRow3Col1',\n                            },\n                            {\n                              '@class': 'org.openl.generated.beans.Layout',\n                              'view': 'VerticalLayout',\n                              'styles': 'padding-largest margin-v align-center radius bg-success-light',\n                              'style': {width: '30%'},\n                              'items': [\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'children': {\n                                    'name': 'Factors.PortabilityFactor',\n                                    'relativeData': null\n                                  },\n                                  'styles': 'h4'\n                                },\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'label': 'Portability'\n                                }\n                              ],\n                              'version': 'FactorCoverageRowBlockRow3Col2',\n                            },\n                            {\n                              '@class': 'org.openl.generated.beans.Layout',\n                              'view': 'VerticalLayout',\n                              'styles': 'padding-largest margin-v align-center radius bg-success-light',\n                              'style': {width: '30%'},\n                              'items': [\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'children': {\n                                    'name': 'Factors.FICAMatchingFactor',\n                                    'relativeData': null\n                                  },\n                                  'styles': 'h4'\n                                },\n                                {\n                                  '@class': 'org.openl.generated.beans.Text',\n                                  'view': 'Text',\n                                  'label': 'FICA Match'\n                                }\n                              ],\n                              'version': 'FactorCoverageRowBlockRow3Col3',\n                            }\n                          ],\n                          'version': 'FactorCoverageRowBlockRow3'\n                        }\n                      ],\n                      'version': 'FactorCoverageRowBlock',\n                    }\n                  }\n                ],\n                'version': 'FactorsTabBlock'\n              }\n            }\n          ],\n        }\n      ],\n      'version': 'PlanBlock'\n    }\n  ]\n}\nexport const data = {\n  'PolicyFactors': {\n    'GeographicFactor': 0.713,\n    'OtherProductsFactor': 1,\n    'RateGuaranteeFactor': 1,\n    'IndustryFactor': 1.30522,\n    'SizeFactor': 0.89,\n    'PolicyFactor': 0.828\n  },\n  'Plans': [\n    {\n      'Plan': 'Gold',\n      'Coverages': [\n        {\n          'CoverageType': 'Core',\n          'NumberOfLives': 6,\n          'MonthlyPremium': 114.29,\n          'TotalMonthlyPreExpenseCost': 82.59,\n          'TotalNetClaimCost': 86.03,\n          'TotalWeeklyBenefit': 2484.5,\n          'Rate': 0.46,\n          'Factors': {\n            'HospitalConfinementWaiverRate': 1,\n            'PortabilityFactor': 1.06,\n            'DisabilityDefinitionFactor': 1,\n            'FICAMatchingFactor': 1,\n            'BenefitPercentFactor': 1.02,\n            'ReturnToWorkFactor': 1.08,\n            'CoverageFactor': 1,\n            'ProgressiveIllnessProtection': 1,\n            'PreExistingFactor': 1,\n            'WorkIncentiveFactor': 1,\n            'NetClaimCostAggregatedFactor': 1.17\n          },\n          'Tax': 0.02,\n          'Expense': 0.1875,\n          'Profit': 0.04,\n          'DemographicSummary': {\n            'AverageTotalWeeklyBenefit': 310.56,\n            'FemalePercent': 0.45,\n            'PercentFemaleUnder40': 0.45,\n            'PercentFemaleUnder45': 0.52,\n            'AverageAge': 49,\n            'AverageAnnualSalary': 231647,\n            'LowestAnnualSalary': 52000,\n            'TopFirstAnnualSalary': 546000,\n            'TopSecondAnnualSalary': 376480,\n            'TopThirdAnnualSalary': 368784,\n            'Top3WeeklySalaryAverage': 8277.33\n          },\n          'DemographicByAgeBands': [\n            {\n              'NumberOfLives': 0,\n              'RateCard': '<25'\n            },\n            {\n              'NumberOfLives': 0,\n              'RateCard': '25 - 29'\n            },\n            {\n              'NumberOfLives': 1,\n              'RateCard': '30 - 34'\n            },\n            {\n              'NumberOfLives': 1,\n              'RateCard': '35 - 39'\n            },\n            {\n              'NumberOfLives': 1,\n              'RateCard': '40 - 44'\n            },\n            {\n              'NumberOfLives': 0,\n              'RateCard': '45 - 49'\n            },\n            {\n              'NumberOfLives': 0,\n              'RateCard': '50 - 54'\n            },\n            {\n              'NumberOfLives': 1,\n              'RateCard': '55 - 59'\n            },\n            {\n              'NumberOfLives': 0,\n              'RateCard': '60 - 64'\n            },\n            {\n              'NumberOfLives': 1,\n              'RateCard': '65+'\n            }\n          ],\n          'WeeklySummaryByAgeBands': [\n            {\n              'AgeBand': '<25',\n              'WeeklySalaryFemale': 0,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 0\n            },\n            {\n              'AgeBand': '25 - 29',\n              'WeeklySalaryFemale': 0,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 0\n            },\n            {\n              'AgeBand': '30 - 34',\n              'WeeklySalaryFemale': 10240,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 10240\n            },\n            {\n              'AgeBand': '35 - 39',\n              'WeeklySalaryFemale': 7092,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 7092\n            },\n            {\n              'AgeBand': '40 - 44',\n              'WeeklySalaryFemale': 1000,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 1000\n            },\n            {\n              'AgeBand': '45 - 49',\n              'WeeklySalaryFemale': 0,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 0\n            },\n            {\n              'AgeBand': '50 - 54',\n              'WeeklySalaryFemale': 0,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 0\n            },\n            {\n              'AgeBand': '55 - 59',\n              'WeeklySalaryFemale': 1250,\n              'WeeklySalaryMale': 10500,\n              'WeeklySalaryTotal': 11750\n            },\n            {\n              'AgeBand': '60 - 64',\n              'WeeklySalaryFemale': 0,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 0\n            },\n            {\n              'AgeBand': '65+',\n              'WeeklySalaryFemale': 4056,\n              'WeeklySalaryMale': 1500,\n              'WeeklySalaryTotal': 5556\n            }\n          ]\n        },\n        {\n          'CoverageType': 'BuyUp',\n          'NumberOfLives': 6,\n          'MonthlyPremium': 65.81,\n          'TotalMonthlyPreExpenseCost': 47.81,\n          'TotalNetClaimCost': 49.8,\n          'TotalWeeklyBenefit': 2437.5,\n          'Rate': 0.27,\n          'Factors': {\n            'HospitalConfinementWaiverRate': 1,\n            'PortabilityFactor': 1.06,\n            'DisabilityDefinitionFactor': 1,\n            'FICAMatchingFactor': 1,\n            'BenefitPercentFactor': 1.06,\n            'ReturnToWorkFactor': 1.08,\n            'CoverageFactor': 1,\n            'ProgressiveIllnessProtection': 1,\n            'PreExistingFactor': 1,\n            'WorkIncentiveFactor': 1,\n            'NetClaimCostAggregatedFactor': 1.21\n          },\n          'Tax': 0.02,\n          'Expense': 0.1875,\n          'Profit': 0.04,\n          'DemographicSummary': {\n            'AverageTotalWeeklyBenefit': 348.21,\n            'FemalePercent': 0.46,\n            'PercentFemaleUnder40': 0.46,\n            'PercentFemaleUnder45': 0.56,\n            'AverageAge': 47,\n            'AverageAnnualSalary': 186739.43,\n            'LowestAnnualSalary': 52000,\n            'TopFirstAnnualSalary': 376480,\n            'TopSecondAnnualSalary': 368784,\n            'TopThirdAnnualSalary': 210912,\n            'Top3WeeklySalaryAverage': 6129.33\n          },\n          'DemographicByAgeBands': [\n            {\n              'NumberOfLives': 0,\n              'RateCard': '<25'\n            },\n            {\n              'NumberOfLives': 0,\n              'RateCard': '25 - 29'\n            },\n            {\n              'NumberOfLives': 1,\n              'RateCard': '30 - 34'\n            },\n            {\n              'NumberOfLives': 1,\n              'RateCard': '35 - 39'\n            },\n            {\n              'NumberOfLives': 1,\n              'RateCard': '40 - 44'\n            },\n            {\n              'NumberOfLives': 0,\n              'RateCard': '45 - 49'\n            },\n            {\n              'NumberOfLives': 0,\n              'RateCard': '50 - 54'\n            },\n            {\n              'NumberOfLives': 1,\n              'RateCard': '55 - 59'\n            },\n            {\n              'NumberOfLives': 0,\n              'RateCard': '60 - 64'\n            },\n            {\n              'NumberOfLives': 1,\n              'RateCard': '65+'\n            }\n          ],\n          'WeeklySummaryByAgeBands': [\n            {\n              'AgeBand': '<25',\n              'WeeklySalaryFemale': 0,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 0\n            },\n            {\n              'AgeBand': '25 - 29',\n              'WeeklySalaryFemale': 0,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 0\n            },\n            {\n              'AgeBand': '30 - 34',\n              'WeeklySalaryFemale': 10240,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 10240\n            },\n            {\n              'AgeBand': '35 - 39',\n              'WeeklySalaryFemale': 7092,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 7092\n            },\n            {\n              'AgeBand': '40 - 44',\n              'WeeklySalaryFemale': 1000,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 1000\n            },\n            {\n              'AgeBand': '45 - 49',\n              'WeeklySalaryFemale': 0,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 0\n            },\n            {\n              'AgeBand': '50 - 54',\n              'WeeklySalaryFemale': 0,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 0\n            },\n            {\n              'AgeBand': '55 - 59',\n              'WeeklySalaryFemale': 1250,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 1250\n            },\n            {\n              'AgeBand': '60 - 64',\n              'WeeklySalaryFemale': 0,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 0\n            },\n            {\n              'AgeBand': '65+',\n              'WeeklySalaryFemale': 4056,\n              'WeeklySalaryMale': 1500,\n              'WeeklySalaryTotal': 5556\n            }\n          ]\n        }\n      ]\n    },\n    {\n      'Plan': 'Silver',\n      'Coverages': [\n        {\n          'CoverageType': 'Core',\n          'NumberOfLives': 6,\n          'MonthlyPremium': 114.29,\n          'TotalMonthlyPreExpenseCost': 82.59,\n          'TotalNetClaimCost': 86.03,\n          'TotalWeeklyBenefit': 2484.5,\n          'Rate': 0.46,\n          'Factors': {\n            'HospitalConfinementWaiverRate': 1,\n            'PortabilityFactor': 1.06,\n            'DisabilityDefinitionFactor': 1,\n            'FICAMatchingFactor': 1,\n            'BenefitPercentFactor': 1.02,\n            'ReturnToWorkFactor': 1.08,\n            'CoverageFactor': 1,\n            'ProgressiveIllnessProtection': 1,\n            'PreExistingFactor': 1,\n            'WorkIncentiveFactor': 1,\n            'NetClaimCostAggregatedFactor': 1.17\n          },\n          'Tax': 0.02,\n          'Expense': 0.1875,\n          'Profit': 0.04,\n          'DemographicSummary': {\n            'AverageTotalWeeklyBenefit': 310.56,\n            'FemalePercent': 0.45,\n            'PercentFemaleUnder40': 0.45,\n            'PercentFemaleUnder45': 0.52,\n            'AverageAge': 49,\n            'AverageAnnualSalary': 231647,\n            'LowestAnnualSalary': 52000,\n            'TopFirstAnnualSalary': 546000,\n            'TopSecondAnnualSalary': 376480,\n            'TopThirdAnnualSalary': 368784,\n            'Top3WeeklySalaryAverage': 8277.33\n          },\n          'DemographicByAgeBands': [\n            {\n              'NumberOfLives': 0,\n              'RateCard': '<25'\n            },\n            {\n              'NumberOfLives': 0,\n              'RateCard': '25 - 29'\n            },\n            {\n              'NumberOfLives': 1,\n              'RateCard': '30 - 34'\n            },\n            {\n              'NumberOfLives': 1,\n              'RateCard': '35 - 39'\n            },\n            {\n              'NumberOfLives': 1,\n              'RateCard': '40 - 44'\n            },\n            {\n              'NumberOfLives': 0,\n              'RateCard': '45 - 49'\n            },\n            {\n              'NumberOfLives': 0,\n              'RateCard': '50 - 54'\n            },\n            {\n              'NumberOfLives': 1,\n              'RateCard': '55 - 59'\n            },\n            {\n              'NumberOfLives': 0,\n              'RateCard': '60 - 64'\n            },\n            {\n              'NumberOfLives': 1,\n              'RateCard': '65+'\n            }\n          ],\n          'WeeklySummaryByAgeBands': [\n            {\n              'AgeBand': '<25',\n              'WeeklySalaryFemale': 0,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 0\n            },\n            {\n              'AgeBand': '25 - 29',\n              'WeeklySalaryFemale': 0,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 0\n            },\n            {\n              'AgeBand': '30 - 34',\n              'WeeklySalaryFemale': 10240,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 10240\n            },\n            {\n              'AgeBand': '35 - 39',\n              'WeeklySalaryFemale': 7092,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 7092\n            },\n            {\n              'AgeBand': '40 - 44',\n              'WeeklySalaryFemale': 1000,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 1000\n            },\n            {\n              'AgeBand': '45 - 49',\n              'WeeklySalaryFemale': 0,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 0\n            },\n            {\n              'AgeBand': '50 - 54',\n              'WeeklySalaryFemale': 0,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 0\n            },\n            {\n              'AgeBand': '55 - 59',\n              'WeeklySalaryFemale': 1250,\n              'WeeklySalaryMale': 10500,\n              'WeeklySalaryTotal': 11750\n            },\n            {\n              'AgeBand': '60 - 64',\n              'WeeklySalaryFemale': 0,\n              'WeeklySalaryMale': 0,\n              'WeeklySalaryTotal': 0\n            },\n            {\n              'AgeBand': '65+',\n              'WeeklySalaryFemale': 4056,\n              'WeeklySalaryMale': 1500,\n              'WeeklySalaryTotal': 5556\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n","export default {\n  view: 'VerticalLayout',\n  styles: 'border-bottom',\n  items: [\n    {\n      view: 'Expand',\n      label: 'Admin Expenses',\n      classNameLabel: 'bg-white',\n      items: [\n        {\n          view: 'Col',\n          className: 'padding',\n          items: [\n            {\n              view: 'Row',\n              styles: 'middle',\n              items: [\n                {\n                  view: 'Title',\n                  label: 'Fully Insured',\n                  styles: 'margin-right-small'\n                },\n                {\n                  view: 'Text',\n                  label: {name: 'asoAdminCost.admExpencesAmt'},\n                  renderLabel: 'Currency',\n                },\n              ]\n            },\n            {\n              view: 'Input',\n              className: 'margin-bottom max-width-290',\n              label: 'Number of claims per employee',\n              name: 'adminExpenses.perEmployeeClaims',\n              type: 'number',\n              min: 1,\n              format: 'integer',\n              validate: 'required',\n              removable: true,\n              autoSubmit: true,\n            },\n            {\n              view: 'Table',\n              name: 'adminCosts',\n              sorts: [\n                {id: 'annualAmt', order: 0},\n                {id: 'premiumPct', order: 1, /*sortKey: 'amt.pct'*/},\n              ],\n              extraHeaders: [\n                [\n                  {\n                    label: 'Description',\n                    classNameHeader: 'uppercase bg-primary-light2 border-right no-border-bottom',\n                  },\n                  {\n                    colSpan: 2,\n                    label: 'Total',\n                    className: 'center border-right',\n                  },\n                  {\n                    colSpan: 2,\n                    label: 'Average',\n                    className: 'center',\n                  }\n                ]\n              ],\n              headers: [\n                {\n                  id: 'adminCategory',\n                  label: '',\n                  // - String renderCell -> maps to FIELD.RENDER function\n                  // - Object renderCell -> maps to FIELD.TYPE recursive Render by matching values\n                  //                     -> can optionally specify `default` FIELD.RENDER function\n                  renderCell: {\n                    values: {\n                      'Adjusted Fixed': {\n                        view: 'Row',\n                        items: [\n                          {\n                            view: 'Text',\n                            fill: true,\n                            label: 'Adjusted Fixed',\n                          },\n                          {\n                            view: 'Col',\n                            fill: true,\n                            className: 'bg-white padding',\n                            items: [\n                              {view: 'Input', name: 'required1', label: 'UW Exception Dollar Amount', type: 'number'},\n                            ]\n                          },\n                        ]\n                      },\n                      'Adjusted Variable': {\n                        view: 'Row',\n                        items: [\n                          {view: 'Text', fill: true, label: 'Adjusted Variable'},\n                          {\n                            view: 'Col',\n                            fill: true,\n                            className: 'bg-white padding',\n                            items: [\n                              {view: 'Input', name: 'required2', label: 'Risk Adjustment Percent', type: 'number'},\n                            ]\n                          },\n                        ]\n                      },\n                      'Administration Total': {\n                        view: 'Text',\n                        className: 'row p bg-success-light uppercase border-right',\n                        label: 'Administration Total',\n                      }\n                    },\n                    // default: 'Currency',\n                  },\n                  classNameHeader: 'bg-primary-light2 border-right',\n                  classNameCell: 'bg-info-light uppercase border-right',\n                },\n                {\n                  id: 'annualAmt',\n                  className: 'right',\n                  classNameCell: 'right',\n                  renderCell: 'Currency',\n                  label: 'Annual Amount'\n                },\n                {\n                  id: 'premiumPct',\n                  className: 'right border-right',\n                  classNameCell: 'right',\n                  classNameCellWrap: 'border-right',\n                  renderCell: 'Percent',\n                  label: '% of Premium'\n                },\n                {\n                  id: 'perClaimAmt',\n                  className: 'right',\n                  classNameCell: 'right',\n                  renderCell: 'Currency',\n                  label: 'Per Claim'\n                },\n                {\n                  id: 'perEmployeeAmt',\n                  className: 'right',\n                  classNameCell: 'right',\n                  renderCell: 'Currency',\n                  label: 'Per Employee'\n                },\n              ],\n              itemClassNames: [\n                {\n                  id: 'adminCategory',\n                  values: {\n                    'Administration Total': 'bg-success-light',\n                    'Grand Total': 'bg-success-light',\n                  }\n                },\n                {\n                  id: 'premiumPct',\n                  values: {\n                    '1': 'text bold',\n                  }\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      view: 'Expand',\n      classNameLabel: 'bg-white',\n      renderLabel: {\n        view: 'Row',\n        className: 'wrap middle fill-width',\n        items: [\n          {\n            view: 'Text', label: 'Rate Details', className: 'margin-right-small'\n          },\n          { // Shorthand definition version (must have `name` defined, but `onChange` undefined)\n            view: 'Dropdown',\n            name: 'active.plan', // -> must be unique key path identifier that does not exist in *_data.json\n            options: 'planCalculations', // -> key path pointing to array in *_data.json\n            mapOptions: 'planName', // -> key path pointing to human readable value within each option (used as label)\n            // value: {name: '{state.active.plan,0}'}, // -> automatically added by default due to OpenL rules\n            // onChange: 'setState,active.plan', // function defined as string, added by default due to OpenL rules\n            styles: 'margin-h-smaller',\n          },\n          { // Full definition version\n            view: 'Dropdown',\n            name: 'active.plan', // -> must be unique key path identifier that does not exist in *_data.json\n            value: {name: '{state.active.plan,0}'},\n            onChange: { // function defined as object\n              name: 'setState',\n              args: ['active.plan'],\n            },\n            options: {name: 'planCalculations'}, // `planCalculations` is key path pointing to array in *_data.json\n            mapOptions: {\n              text: 'planName', // `planName` is key path pointing to value for each item in `options` above\n              value: '{index}', // using index of item, instead of its value as ID\n            },\n            styles: 'margin-h-smaller',\n          },\n          {\n            view: 'Select',\n            name: 'url', // must be unique key path identifier that does not exist in *_data.json\n            placeholder: 'Select fetch API',\n            onChange: { // function defined as object with nested callback\n              name: 'fetch', //todo: rename to `call`?\n              onDone: {\n                name: 'fetch',\n                mapArgs: [ // function will first receive `mapArgs`, then followed by `args`, as arguments\n                  // variable `{0.payload.ip}` can be defined to get data from arguments, in addition to *_data.json\n                  'https://ipapi.co/{0.payload.ip}/json', // this is the first argument passed to the function\n                  // ...second (subsequent) argument/s can be defined as object/array/number/etc.\n                ],\n                onDone: {\n                  name: 'popup',\n                  args: ['Dropdown.onChange\\n -> fetch(IpAddress).onDone\\n -> fetch(GeoData).onDone\\n -> popup'],\n                }\n              },\n            },\n            options: [\n              {text: 'IP Address', value: 'https://api.ipify.org/?format=json'},\n              {text: 'Geolocation Data', value: 'http://ip-api.com/json'}\n            ],\n            styles: 'margin-h-smaller',\n          },\n        ]\n      },\n      classNameItems: 'padding-h',\n      expanded: true,\n      items: [\n        {\n          view: 'Row',\n          className: 'wrap middle padding-h',\n          items: [\n            {\n              view: 'Title', label: 'Policy ID',\n            },\n            {\n              view: 'Text', children: {name: 'policyID'}, styles: 'padding',\n            },\n          ],\n        },\n        {\n          view: 'ProgressSteps',\n          defaultIndex: 1,\n          className: 'bg-white padding margin-v border radius',\n          classNameSteps: 'padding-h-largest',\n          items: [\n            {\n              label: 'Information',\n              done: true,\n              content: {\n                view: 'Text',\n                label: 'Step 1 content completed'\n              }\n            },\n            {\n              label: 'Requirements'\n            },\n            {\n              label: 'Submission',\n              error: true,\n              content: {\n                view: 'Text',\n                label: 'Step 3 with missing content'\n              }\n            },\n            {\n              step: '?'\n            },\n          ]\n        },\n        {\n          view: 'Tabs',\n          // defaultIndex: 1,\n          items: [\n            {\n              tab: 'Demographic',\n              content: {\n                view: 'Col',\n                className: 'padding-v',\n                items: [\n                  {\n                    view: 'Title',\n                    children: 'Summary'\n                  },\n                  {\n                    view: 'Row',\n                    className: 'wrap',\n                    items: [\n                      {\n                        view: 'Row',\n                        className: 'fill bg-white border radius center',\n                        items: [\n                          {\n                            view: 'Label',\n                            className: 'position-top-left padding-large bold',\n                            children: 'By Age'\n                          },\n                          {\n                            view: 'PieChart',\n                            name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.ageBreakdown',\n                            legends: {\n                              columns: 2,\n                            },\n                            mapItems: {\n                              //         ╭ key path to value within items found for given `name` attribute above\n                              label: 'ageBand',\n                              value: 'numberOfLives',\n                              order: 'ageBand', // value to use for sorting, can be defined as any custom attribute\n                              // customOrder: 'ageBand.id', -> will also work with {sort: 'customOrder'}\n                            },\n                            // define which key within `mapItems` to use as sorting order (ex. 'label/value/order')\n                            sort: '-order', // prefix sort attribute with `-` for descending order\n                            items: [\n                              {\n                                view: 'Col',\n                                className: 'align-center',\n                                items: [\n                                  {\n                                    view: 'Title',\n                                    label: 'Label',\n                                  },\n                                  {\n                                    view: 'Text',\n                                    label: 'Anything',\n                                  }\n                                ]\n                              }\n                            ]\n                          }\n                        ]\n                      },\n                      {view: 'Space', styles: 'visible-from-tablet'},\n                      {\n                        view: 'Row',\n                        className: 'fill bg-white border radius center',\n                        items: [\n                          {\n                            view: 'Label',\n                            className: 'position-top-left padding-large bold',\n                            children: 'By Enrollment'\n                          },\n                          {\n                            view: 'PieChart',\n                            name: 'planCalculations.{state.active.plan,0}.subGroupEnrollmentBreakdown[0].enrollmentBreakdown',\n                            legends: true,\n                            mapItems: {\n                              label: 'tier',\n                              value: 'numberOfLives',\n                            }\n                          }\n                        ]\n                      },\n                    ],\n                  },\n                  {\n                    view: 'Title',\n                    label: 'Enrolled by State',\n                    className: 'margin-top-largest'\n                  },\n                  {\n                    view: 'Table',\n                    name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.enrollmentByState',\n                    relativeData: false,\n                    // Extra render function for Table Items (rows in default layout)\n                    renderItem: {\n                      view: 'Table',\n                      name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.enrollmentByMSA',\n                      relativeData: false,\n                      filterItems: [\n                        //  ╭ key path to value in this child-table's item to use for filtering\n                        {'state': 'state'},\n                        //           ╰ key path to value from parent-table's item to match against\n                      ],\n                    },\n                    itemsExpanded: true,\n                    headers: [\n                      {\n                        id: 'state',\n                        label: 'State',\n                        // Custom render function for Table Cells (columns in default layout)\n                        renderCell: {\n                          view: 'Expand',\n                          name: '{value}',\n                          index: '{index}',\n                          // toggle extra table item expansion (row in default layout)\n                          onClick: 'handleItemExpand', // function is injected by TableView instance on render\n                          // items: [{}], // can also make it expand any content inside clicked cell\n                        },\n                      },\n                      {\n                        id: 'numberOfLives',\n                        label: 'Number of Lives'\n                      },\n                      {\n                        id: 'enrolledPct',\n                        label: 'Enrolled Percent'\n                      },\n                      {\n                        id: '#',\n                        renderHeader: {\n                          view: 'Checkbox',\n                          label: 'Expand All',\n                          onChange: 'handleToggleExpandAll', // function is injected by TableView instance on render\n                          defaultValue: true,\n                        },\n                      },\n                    ]\n                  }\n                ]\n              }\n            },\n            {\n              tab: 'Factors',\n              content: {\n                view: 'Col',\n                className: 'padding-v',\n                items: [\n                  {view: 'Title', children: 'PPO'},\n                  {\n                    view: 'Row',\n                    items: [\n                      {\n                        view: 'Col',\n                        className: 'middle padding bg-gradient-violet-teal-light border radius',\n                        items: [\n                          {\n                            view: 'Col',\n                            className: 'center padding',\n                            items: [\n                              {\n                                view: 'Text',\n                                className: 'h3 warning margin-bottom-small',\n                                items: [\n                                  {\n                                    view: 'Counter',\n                                    end: {name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.networkDetails[0].ppoPenetration'},\n                                    render: 'Percent'\n                                  },\n                                ]\n                              },\n                              {\n                                view: 'Text',\n                                className: 'bold',\n                                label: 'PPO Penetration'\n                              }\n                            ]\n                          },\n                          {\n                            view: 'Col',\n                            className: 'center padding',\n                            items: [\n                              {\n                                view: 'Text',\n                                className: 'h3 info margin-bottom-small',\n                                items: [\n                                  {\n                                    view: 'Counter',\n                                    end: {name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.networkDetails[0].netUtilization'},\n                                    render: 'Percent'\n                                  },\n                                ]\n                              },\n                              {\n                                view: 'Text',\n                                className: 'bold',\n                                label: 'Net Utilization'\n                              }\n                            ]\n                          },\n                        ],\n                      },\n                      {\n                        view: 'Col',\n                        fill: true,\n                        className: 'bg-white margin-left-smaller',\n                        items: [\n                          {\n                            view: 'Row',\n                            className: 'app__form wrap padding no-padding-top border',\n                            items: [\n                              {\n                                view: 'Input',\n                                name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.networkDetails.0.area',\n                                label: 'Area (autoSubmit)',\n                                removable: true,\n                                required: true,\n                                autoSubmit: {\n                                  delay: 1000\n                                }\n                              },\n                              {view: 'Space'},\n                              {\n                                view: 'Input',\n                                name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.networkDetails.0.trend',\n                                label: 'trend',\n                                removable: true,\n                              },\n                              {view: 'Space'},\n                              {\n                                view: 'Input',\n                                name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.networkDetails.0.maximumEEandSP',\n                                label: 'maximum 10 (EE and SP)',\n                                type: 'number',\n                                max: 10,\n                              },\n                              {view: 'Space'},\n                              {\n                                view: 'Input',\n                                name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.networkDetails.0.maximumCH',\n                                label: 'minimum 1 (CH)',\n                                type: 'number',\n                                min: 1,\n                              },\n                            ],\n                          },\n                          {\n                            view: 'Col',\n                            className: 'padding no-padding-top border',\n                            items: [\n                              {view: 'Text', className: 'padding-top', label: 'COPAY'},\n                              {\n                                view: 'Row', className: 'wrap app__form',\n                                items: [\n                                  {\n                                    view: 'Input',\n                                    name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.networkDetails[0].rateCalcEmp',\n                                    label: 'Areas (format: double5)',\n                                    type: 'number',\n                                    format: 'double5',\n                                    removable: true,\n                                  },\n                                  {view: 'Space'},\n                                  {\n                                    view: 'Input',\n                                    name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.networkDetails[0].rateCalcWOEmp',\n                                    label: 'trends',\n                                  },\n                                ],\n                              },\n                            ],\n                          },\n                        ],\n                      },\n                    ]\n                  },\n                  {view: 'Title', children: 'Factors', className: 'margin-top-largest'},\n                  {\n                    view: 'Col',\n                    className: 'padding border radius no-padding-top bg-white',\n                    items: [\n                      {\n                        view: 'Row',\n                        className: 'wrap app__form',\n                        items: [\n                          {\n                            view: 'Input',\n                            name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.initialLoad',\n                            label: 'Initial Load',\n                          },\n                          {view: 'Space'},\n                          {\n                            view: 'Input',\n                            name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.occupationFactor',\n                            label: 'Occupation',\n                          },\n                          {view: 'Space'},\n                          {\n                            view: 'Input',\n                            name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.occupation',\n                            label: 'Occupation Code',\n                            readonly: true,\n                          },\n                          {view: 'Space'},\n                          {\n                            view: 'Input',\n                            name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.waitGroupSize',\n                            label: 'Wait Grp Size',\n                          },\n                          {view: 'Space'},\n                          {\n                            view: 'Input',\n                            name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.planUtilization',\n                            label: 'Plan Util',\n                          },\n                          {view: 'Space'},\n                          {\n                            view: 'Input',\n                            name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.groupSize',\n                            label: 'Group Size',\n                          },\n                          {view: 'Space'},\n                          {\n                            view: 'Input',\n                            name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.yearLoad',\n                            label: 'Cal Year Load',\n                          },\n                          {view: 'Space'},\n                          {\n                            view: 'Input',\n                            name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.voluntaryLoad',\n                            label: 'Vol Load',\n                          },\n                          {view: 'Space'},\n                          {\n                            view: 'Input',\n                            name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.waitingLoad',\n                            label: 'Wait Load',\n                          },\n                          {view: 'Space'},\n                          {\n                            view: 'Input',\n                            name: 'planCalculations.{state.active.plan,0}.manualClaimDetail.rolloverLoad',\n                            label: 'Rollover Load',\n                          },\n                        ],\n                      },\n                      {\n                        view: 'Row',\n                        className: 'margin-top',\n                        items: [\n                          {\n                            view: 'Button',\n                            className: 'a transparent',\n                            children: 'Apply',\n                            type: 'submit,',\n                            tooltip: 'Insert Changes',\n                          },\n                          {\n                            view: 'Tooltip',\n                            label: 'Remove Changes',\n                            children: {\n                              view: 'Button',\n                              className: 'a transparent',\n                              children: 'Reset',\n                              onClick: 'reset',\n                            }\n                          },\n                          {\n                            view: 'Button',\n                            className: 'a transparent',\n                            items: [\n                              {\n                                view: 'Icon',\n                                name: 'trash'\n                              },\n                            ],\n                            onClick: 'popup'\n                          }\n                        ]\n                      },\n                    ]\n                  },\n                ]\n              }\n            },\n            {\n              tab: 'Redistribution Calculator',\n              content: {\n                view: 'Col',\n                className: 'padding-v',\n                items: [\n                  {view: 'Title', children: 'Calculate Rate'},\n                  {\n                    view: 'Table',\n                    name: 'planCalculations.0.tierRates',\n                    headers: [\n                      {\n                        id: 'tier',\n                        label: 'Tier',\n                      },\n                      {\n                        id: 'adjManualRate',\n                        label: 'Adj. Manual Rate',\n                        renderCell: 'Currency',\n                      },\n                      {\n                        id: 'adjFormulaRate',\n                        label: 'Adj. Formula Rate',\n                        renderCell: 'Currency',\n                      },\n                      {\n                        id: 'manualRate',\n                        label: 'Manual Rate',\n                        renderCell: {\n                          view: 'Input',\n                          name: 'planCalculations.0.tierRates.{index}.manualRate',\n                          relativeData: false,\n                          type: 'number',\n                          icon: 'dollar',\n                          unit: '/ person',\n                          lefty: true,\n                        },\n                      },\n                      {\n                        id: 'formulaRate',\n                        label: 'Formula Rate',\n                        renderCell: 'Currency',\n                      },\n                      {\n                        id: 'proposedRate',\n                        label: 'Proposed Rate',\n                        renderCell: 'Currency',\n                      },\n                    ],\n                    extraItems: [\n                      {\n                        tier: 'Composite Rate',\n                        adjManualRate: {\n                          name: 'planCalculations.{state.active.plan,0}.adjManualCompositeRate',\n                          relativeData: false,\n                        }, // null\n                        adjFormulaRate: {\n                          name: 'planCalculations.{state.active.plan,0}.adjFormulaCompositeRate',\n                          relativeData: false,\n                        }, // undefined\n                        manualRate: {\n                          name: 'planCalculations.{state.active.plan,0}.manualCompositeRate',\n                          relativeData: false,\n                          render: 'Currency',\n                        },\n                        formulaRate: {\n                          view: 'Input',\n                          name: 'planCalculations.{state.active.plan,0}.formulaCompositeRate',\n                          relativeData: false,\n                          type: 'number',\n                          unit: 'USD',\n                          placeholder: 'placeholder'\n                        },\n                        proposedRate: {\n                          name: 'planCalculations.{state.active.plan,0}.proposedCompositeRate',\n                          relativeData: false,\n                        },\n                      }\n                    ],\n                  },\n                ]\n              }\n            }\n          ]\n        }\n      ]\n    },\n    // {\n    //   view: 'AutoSubmit',\n    //   onChange: { // required attribute\n    //     name: 'popupDelay',\n    //     args: [\n    //       'Popup Title',\n    //     ]\n    //   },\n    //   delay: 1000, // 1 second (i.e. 1000 milliseconds), default is 200\n    //   partial: true, // whether to submit only changed values\n    //   showLoader: true,\n    //   loadContent: 'Calculating...'\n    // }\n  ]\n}\n","import React, { Component } from 'react'\nimport { Helmet } from 'react-helmet'\nimport Markdown from 'react-markdown'\nimport ScrollView from 'ui-react-pack/ScrollView'\nimport toc from 'remark-toc'\nimport { __PROD__, get } from 'ui-utils-pack'\nimport { goTo, ROUTE } from '../../common/variables'\nimport changelog from './changelog.md'\nimport CodeBlock from './CodeBlock'\nimport Tabs from './components/Tabs'\nimport config from './config.md'\nimport Demo from './demo'\nimport docs from './docs.md'\nimport Examples from './Examples'\nimport faq from './faq.md'\nimport styles from './styles.md'\n\nconst mdProps = {\n  plugins: [toc],\n  renderers: {code: CodeBlock, heading: HeadingRenderer},\n}\n\n/**\n * EXAMPLE TEMPLATE ------------------------------------------------------------\n * -----------------------------------------------------------------------------\n */\nexport default class Docs extends Component {\n  state = {\n    docs: undefined,\n    config: undefined,\n    examples: undefined,\n    styles: undefined,\n    changelog: undefined,\n    faq: undefined,\n  }\n\n  tabs = [\n    {\n      id: '', tab: 'Summary',\n      content: () => <Markdown source={this.state.docs} {...mdProps}/>,\n    },\n    {\n      id: 'configuration', tab: 'Configuration',\n      content: () => <Markdown source={this.state.config} {...mdProps}/>,\n    },\n    {\n      id: 'demo', tab: 'Demo',\n      content: () => <Demo/>,\n    },\n    {\n      id: 'examples', tab: 'Examples',\n      content: () => <Examples/>,\n    },\n    {\n      id: 'styles', tab: 'Styles',\n      content: () => <Markdown source={this.state.styles} {...mdProps}/>,\n    },\n    {\n      id: 'changelog', tab: 'Change Log',\n      content: () => <Markdown source={this.state.changelog} {...mdProps}/>,\n    },\n    {\n      id: 'faq', tab: 'FAQ',\n      content: () => <Markdown source={this.state.faq} {...mdProps}/>,\n    },\n  ]\n\n  get id () {\n    return get(this.props, 'match.params.id') || ''\n  }\n\n  get tabIndex () {\n    return this.tabs.findIndex(v => v.id === this.id)\n  }\n\n  onClickTab = (index) => {\n    const id = this.tabs[index].id\n    goTo(`${ROUTE.DOCS}${__PROD__ ? '' : (id && '/')}${id}`)\n  }\n\n  componentDidMount () {\n    fetch(docs).then(r => r.text()).then(docs => this.setState({docs}))\n    fetch(config).then(r => r.text()).then(config => this.setState({config}))\n    fetch(styles).then(r => r.text()).then(styles => this.setState({styles}))\n    fetch(changelog).then(r => r.text()).then(changelog => this.setState({changelog}))\n    fetch(faq).then(r => r.text()).then(faq => this.setState({faq}))\n  }\n\n  render () {\n    return (\n      <ScrollView fill className={'app-docs padding-large no-padding-top'}>\n        <Helmet>\n          <title>{'UI Render'}</title>\n        </Helmet>\n        <Tabs\n          defaultIndex={this.tabIndex}\n          onChange={this.onClickTab}\n          items={[...this.tabs]}\n        />\n\n      </ScrollView>\n    )\n  }\n}\n\nfunction flatten (text, child) {\n  return typeof child === 'string'\n    ? text + child\n    : React.Children.toArray(child.props.children).reduce(flatten, text)\n}\n\nfunction HeadingRenderer (props) {\n  const children = React.Children.toArray(props.children)\n  const text = children.reduce(flatten, '')\n  const slug = text.trim().toLowerCase().replace(/ +/g, '-').replace(/[^a-zA-Z0-9_-]/g, '')\n  return React.createElement('h' + props.level, {id: slug}, props.children)\n}\n","import React, { PureComponent } from 'react'\nimport UIRender from './rules'\nimport data from './tester/test_data'\nimport meta from './tester/test_meta'\n\n/**\n * VIEW TEMPLATE ---------------------------------------------------------------\n */\nexport default class Tester extends PureComponent {\n  render () {\n    return (\n      <UIRender\n        className=\"bg-info-light\"\n        initialValues={data}\n        data={data}\n        meta={meta}\n      />\n    )\n  }\n}\n","import { ROUTE } from '../common/variables'\nimport Docs from './main/docs'\nimport Tester from './main/Tester'\n\nexport default {\n  [ROUTE.HOME]: Docs,\n  [ROUTE.DOCS]: Docs,\n  [ROUTE.TEST]: Tester\n}\n","/**\n * STATE DATA ==================================================================\n * Initial State or Test Data - used to launch the app initially\n * =============================================================================\n */\nconst initState = {\n  files: [],\n  fileType: undefined,\n  loading: false\n}\n\nexport default initState\n","import { handleActions, stateActionType, uiLoading } from 'ui-modules-pack/redux'\nimport { SET } from 'ui-utils-pack'\nimport { UPLOAD } from './constants'\nimport initState from './data'\n\n/**\n * ACTION HANDLERS =============================================================\n * Pure Functions Only - business logic to handle actions and update app state\n * =============================================================================\n */\n\nexport default handleActions({\n  [stateActionType(UPLOAD, SET)]: (state, {payload}) => ({...state, ...payload}),\n  ...uiLoading(UPLOAD)\n}, initState)\n","import { UPLOAD } from './constants'\nimport reducer from './reducers'\nimport select from './selectors'\n\n/**\n * EXPORTS =====================================================================\n * Modules' Exposing API - to enable consistent and maintainable app integration\n * =============================================================================\n */\n\nexport * from './constants'\nconst upload = {\n  NAME: UPLOAD,\n  reducer,\n  select,\n}\n\nexport default upload\n","import { Active, GET, performStorage } from 'ui-utils-pack'\nimport { USER } from './constants'\n\n/**\n * STATE DATA ==================================================================\n * Initial State or Test Data - used to launch the app initially\n * =============================================================================\n */\n\nconst initState = {\n  self: Active.user = {\n    // @Note: in backend, performStorage returns promise, and resolves to nothing,\n    // but it does not matter, since only frontend needs to retrieve from localStorage.\n    ...(typeof window === 'undefined') ? {} : performStorage(GET, USER),\n  },\n  loading: false\n}\n\nexport default initState\n","import { handleActions, stateActionType, uiLoading } from 'ui-modules-pack/redux'\nimport { Active, performStorage, RESET, SET } from 'ui-utils-pack'\nimport { SELF, USER } from './constants'\nimport initState from './data'\n\n/**\n * ACTION HANDLERS =============================================================\n * Pure Functions Only - business logic to handle actions and update app state\n * =============================================================================\n */\n\n/* Data Handler */\nexport default handleActions({\n  [stateActionType(USER, SET)]: (state, {payload}) => ({...state, ...payload}),\n  [stateActionType(SELF, SET)]: (state, {payload}) => {\n    const data = {\n      ...state,\n      self: Active.user = {...state.self, ...payload}\n    }\n    performStorage(SET, USER, data.self)\n    return data\n  },\n  [stateActionType(SELF, RESET)]: (state, {payload}) => {\n    const data = {\n      ...state, // always keep `lastLogin` for checking if user is new or returning visitor\n      self: Active.user = {lastLogin: state.self.lastLogin, ...payload},\n    }\n    performStorage(SET, USER, data.self)\n    return data\n  },\n  ...uiLoading(USER)\n}, initState)\n","import { USER } from './constants'\nimport reducer from './reducers'\nimport select from './selectors'\n\n/**\n * EXPORTS =====================================================================\n * Modules' Exposing API - to enable consistent and maintainable app integration\n * =============================================================================\n */\n\nexport * from './constants'\nexport * from './actions'\nexport * from './definitions'\nexport * from './logic'\nexport {\n  select,\n}\n\nconst user = {\n  NAME: USER,\n  reducer,\n  select,\n}\n\nexport default user\n","import api from 'ui-modules-pack/api'\nimport form from 'ui-modules-pack/form'\nimport popup from 'ui-modules-pack/popup'\nimport redux, { createStore } from 'ui-modules-pack/redux'\nimport router from 'ui-modules-pack/router/browser'\nimport saga from 'ui-modules-pack/saga'\nimport settings from 'ui-modules-pack/settings'\nimport upload from 'ui-modules-pack/upload'\nimport user from 'ui-modules-pack/user'\nimport { Active } from 'ui-utils-pack'\n\n/**\n * STORE CREATION ==============================================================\n * =============================================================================\n */\n\nconst modulesActivated = [\n  redux,\n  saga,\n  api,\n  router,\n  form,\n  popup,\n  settings,\n  upload,\n  user,\n]\nActive.store = createStore(modulesActivated)\nActive.createStore = () => createStore(modulesActivated)\nexport default Active.store\n","import App from 'core/src/App'\nimport pages from 'core/src/pages'\nimport Redux from 'ui-modules-pack/redux'\nimport router from 'ui-modules-pack/router/browser'\nimport { ROUTES } from 'ui-modules-pack/variables'\nimport React from 'react'\nimport { render } from 'react-dom'\nimport store from './store'\n\nconst {Router, history} = router\nrender(\n  <Redux.Provider store={store}>\n    <Router history={history}>\n      <App>\n        {router.defineRoutes(ROUTES.FOR_DEFINITION, pages)}\n      </App>\n    </Router>\n  </Redux.Provider>\n  , document.getElementById('ui-render')\n)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { PureComponent } from 'react'\nimport { FormSpy } from 'react-final-form'\nimport { PropTypes } from 'ui-react-pack'\nimport { Loading } from 'ui-react-pack/Loading'\nimport { debounce, l, localiseTranslation, objChanges, TIME_DURATION_INSTANT } from 'ui-utils-pack'\nimport { _ } from 'ui-utils-pack/translations'\n\nlocaliseTranslation({\n  SYNCING___: {\n    [l.ENGLISH]: 'Syncing...',\n  },\n})\n\n/**\n * Final Form Auto Save on Input Value Changes\n * @example:\n *   <AutoSave onChange={console.warn} partial showLoader />\n */\nexport default class AutoSave extends PureComponent {\n  static propTypes = {\n    // Async Function(values) to call on input changes\n    onChange: PropTypes.func.isRequired,\n    // Whether to save only changed values, default is all Form values\n    partial: PropTypes.bool,\n    // Whether to overlay parent container with Loading spinner component\n    showLoader: PropTypes.bool,\n    // FormSpy subscription\n    subscription: PropTypes.object,\n    // Milliseconds to delay form `onChange`\n    delay: PropTypes.number,\n    // Loading message\n    loadContent: PropTypes.any,\n  }\n\n  static defaultProps = {\n    delay: TIME_DURATION_INSTANT,\n    subscription: {values: true},\n  }\n\n  state = {\n    values: undefined,\n    submitting: false\n  }\n\n  UNSAFE_componentWillReceiveProps (next, _) {\n    if (next.delay !== this.props.delay) this.handleChange = debounce(this.onChange, next.delay)\n  }\n\n  onChange = async ({values}) => {\n    if (this.state.values == null) return this.setState({values})\n\n    if (this.promise) await this.promise\n    const {onChange, partial} = this.props\n\n    // This diff step is totally optional\n    const changes = objChanges(this.state.values, values)\n    if (changes) {\n      // values have changed\n      this.setState({submitting: true, values})\n      this.promise = onChange(partial ? changes : values)\n      await this.promise\n      delete this.promise\n      this.setState({submitting: false})\n    }\n  }\n\n  handleChange = debounce(this.onChange, this.props.delay)\n\n  renderLoading = () => {\n    const {showLoader, loadContent} = this.props\n    const {submitting} = this.state\n    if (!showLoader || !submitting) return null\n    return <Loading loading>{loadContent || _.SYNCING___}</Loading>\n  }\n\n  // Make a HOC\n  // This is not the only way to accomplish auto-save, but it does let us:\n  // - Use built-in React lifecycle methods to listen for changes\n  // - Maintain state of when we are submitting\n  // - Render a message when submitting\n  // - Pass in delay and save props nicely\n  // This component doesn't have to render anything, but it can render submitting state.\n  render () {\n    const {subscription} = this.props\n    return <>\n      {/* FormSpy onChange will be called once on component mount */}\n      <FormSpy subscription={subscription} onChange={this.handleChange}/>\n      {this.renderLoading()}\n    </>\n  }\n}\n","import moment from 'dayjs'\nimport humanizeDuration from 'humanize-duration'\nimport {\n  FIFTEEN_MINUTES,\n  FORMAT_DATE,\n  FORMAT_DD_MMM,\n  FORMAT_DD_MMM_YYYY,\n  FORMAT_MMM_YYYY,\n  FORMAT_TIME_FOR_HUMAN,\n  ONE_HOUR,\n  ONE_MINUTE,\n  THIRTY_MINUTES\n} from './constants.js'\nimport { isNumeric, startEndFromNumberRanges } from './number.js'\n\n/**\n * TIME FUNCTIONS ==============================================================\n * =============================================================================\n */\n\n/**\n * Convert Time Duration to User Friendly and Readable Format\n *\n * @param {Number} milliseconds - duration in milliseconds to convert\n * @param {Object} [options] - other humanize options, like `largest` to trim down units\n * @param {Boolean} [shorten] - whether to shorten words, like `seconds` to `s`\n * @returns {String} - formatted time\n */\nexport function formatDuration (milliseconds, { shorten = false, round = true, ...props } = {}) {\n  props.round = round\n  if (shorten) {\n    return formatDuration.shortEnglish(milliseconds, props)\n  }\n  return humanizeDuration(milliseconds, props)\n}\n\nformatDuration.shortEnglish = humanizeDuration.humanizer({\n  language: 'shortEn',\n  languages: {\n    shortEn: {\n      y: function () { return 'y' },\n      mo: function () { return 'mo' },\n      w: function () { return 'w' },\n      d: function () { return 'd' },\n      h: function () { return 'h' },\n      m: function () { return 'm' },\n      s: function () { return 's' },\n      ms: function () { return 'ms' }\n    }\n  },\n  decimal: '.'\n})\n\n/**\n * Convert time to human readable date and time\n *\n * @param {String|Number|Date} time - date string, Unix timestamp, Date object, etc.\n * @param {String} [format] - to render date time as\n * @returns {String} - date time in given format\n */\nexport function formatTime (time, format = FORMAT_TIME_FOR_HUMAN) {\n  return moment(time).format(format)\n}\n\n/**\n * Convert 24hr and minute format string (HH:mm) to Milliseconds\n *\n * @param {String} hourMinute - to convert\n * @returns {Number} milliseconds\n */\nexport function msFromHourMinute (hourMinute = '') {\n  const time = hourMinute.split(':')\n  if (!time[0] || !time[1]) return 0\n  return (+time[0] * ONE_HOUR) + (+time[1] * ONE_MINUTE)\n}\n\n/**\n * Convert Number to String with leading zero/s at specified character length\n * @param {Number|String} number - to format\n * @param {Number} [length] - total character length of output, default is 2\n * @returns {String} time - string with leading zero/s if needed\n */\nexport function toLeadingZero (number, length = 2) {\n  return ('0' + number).slice(-length)\n}\n\n/**\n * Convert time to full hour string\n *\n * @param {String|Number|Date} time - date string, Unix timestamp, Date object, etc.\n * @return {String} - hours and minutes\n */\nexport function toHours (time) {\n  return formatTime(time, 'h a')\n}\n\n/**\n * Convert time to hour and minute string\n *\n * @param {String|Number|Date} time - date string, Unix timestamp, Date object, etc.\n * @return {String} - hours and minutes\n */\nexport function toHourMinutes (time) {\n  return formatTime(time, 'h:mm A')\n}\n\n/**\n * Convert time to Day and Month string\n *\n * @param {String|Number|Date} time - date string, Unix timestamp, Date object, etc.\n * @return {String} - Day and Month\n */\nexport function toDate (time) {\n  return formatTime(time, FORMAT_DD_MMM)\n}\n\n/**\n * Convert time to Day, Month and Year string\n *\n * @param {String|Number|Date} time - date string, Unix timestamp, Date object, etc.\n * @return {String} - Day Month, Year\n */\nexport function toDateYear (time) {\n  return formatTime(time, FORMAT_DD_MMM_YYYY)\n}\n\n/**\n * Convert time toMonth and Year string\n *\n * @param {String|Number|Date} time - date string, Unix timestamp, Date object, etc.\n * @return {String} - Month and Year\n */\nexport function toMonthYear (time) {\n  return formatTime(time, FORMAT_MMM_YYYY)\n}\n\n/**\n * Convert Start and End timestamp range to Human-friendly string\n *\n * @param {Number} start - timestamp\n * @param {Number} end - timestamp\n * @returns {String} date range - ex. `21 Sep - 17 Oct, 2019` or `13 - 21 Sep, 2019` or `13 Sep, 2019``\n */\nexport function toDateRange (start, end) {\n  let from = formatTime(start, 'D MMM, YYYY')\n  const to = formatTime(end, 'D MMM, YYYY')\n  const fromDate = from.split(',')\n  const toDate = to.split(',')\n  if (from === to) {\n    from = '' // same start and end date\n  } else if (fromDate[1] === toDate[1]) {\n    if (fromDate[0].split(' ')[1] === toDate[0].split(' ')[1]) // same month and year\n      from = fromDate[0].split(' ')[0]\n    else\n      from = fromDate[0] // same year\n  }\n  return `${from ? from + ' - ' : ''}${to}`\n}\n\n/**\n * Convert Date String to Unix Timestamp\n * @param {String} dayMonthYear - DD.MM.YYYY\n * @returns {Number|Undefined} timestamp - if given date string is valid, else undefined\n */\nexport function timestampFromDate (dayMonthYear) {\n  const d = (dayMonthYear || '').split('.')\n  if (!d[0] || !d[1] || !d[2]) return\n  return toTimestamp(new Date(+d[2], +d[1] - 1, +d[0]))\n}\n\n/**\n * Convert List of Dates with Hours and Minutes to list of Unix Timestamp Ranges\n *\n * @param {Array<{date: 'dd.mm.yyyy', from: 'hh:mm', to: 'hh:mm'}>} dates - list of dates with hours and minutes\n * @returns {Array<{from: Number, to: Number}>} times - list of Unix timestamp ranges\n */\nexport function toTimeRanges (dates) {\n  return dates.map(toTimeRange)\n}\n\n/**\n * Convert Date with Hours and Minutes to Unix Timestamp Range\n *\n * @param {Object<{date: 'dd.mm.yyyy', from: 'hh:mm', to: 'hh:mm', ...}>} dateTime - strings\n * @returns {Object<{from: Number, to: Number, ...}>} time - Unix timestamp range\n */\nexport function toTimeRange ({date, from, to, ...result}) {\n  const timeOfTheDay = timestampFromDate(date)\n  if (!timeOfTheDay) return result\n  if ((from || '').length === 5) result.from = timeOfTheDay + msFromHourMinute(from)\n  if ((to || '').length === 5) result.to = timeOfTheDay + msFromHourMinute(to)\n  return result\n}\n\n/**\n * Convert List of Unix Timestamp Ranges to list of Dates with Hours and Minutes\n * @param {Array<{from: Number, to: Number}>} times - list of Unix timestamp ranges\n * @returns {Array<{date: 'dd.mm.yyyy', from: 'hh:mm', to: 'hh:mm'}>} dates - list of dates with hours and minutes\n */\nexport function fromTimeRanges (times) {\n  return times.map(({from, to}) => ({\n    date: (from || to) ? formatTime(from || to, FORMAT_DATE) : '',\n    from: from ? formatTime(from, 'HH:mm') : '',\n    to: to ? formatTime(to, 'HH:mm') : '',\n  }))\n}\n\n/**\n * Compute total milliseconds for given list of time ranges\n * @param {Array<{from: Number, to: Number}>} times - list of Unix timestamp ranges\n * @returns {Number} time - milliseconds\n */\nexport function totalFromTimeRanges (times) {\n  let total = 0\n  const {start, end} = startEndFromNumberRanges(times)\n  if (start == null || end == null) return total\n  total = end - start\n  let breaks = 0\n  let lastBreak = {}\n  times.forEach(({from, to}) => {\n    if (from < end && lastBreak.start != null) lastBreak.end = from\n    if (to > start && !lastBreak.start) lastBreak.start = to\n    if (lastBreak.start != null && lastBreak.end != null) {\n      breaks += lastBreak.end - lastBreak.start\n      lastBreak = {}\n    }\n  })\n  return total - breaks\n}\n\n/**\n * Convert time to Unix timestamp in milliseconds\n *\n * @param {String|Number|Date} time - date string, Unix timestamp, Date object, etc.\n * @param {Number} [fallback] - timestamp to use in case conversion fails\n * @returns {Number} - timestamp in milliseconds\n */\nexport function toTimestamp (time, fallback) {\n  // Timestamp number given as  string or number\n  if (isNumeric(time)) {\n    if (typeof time === 'string') time = Number(time)\n    return time\n  }\n\n  return time ? moment(time).valueOf() : fallback\n}\n\n/**\n * Get a short string indicating time for given date in human-friendly way\n * @example:\n *    @return: 'Yesterday', '1 day ago', '2 weeks ago',\n * @param timestamp\n */\nexport function timeSince (timestamp) {\n  return formatDuration(Date.now() - timestamp, { largest: 1 })\n}\n\n/* Time Utilities */\nexport class Time {\n  /**\n   * Get Milliseconds Until the Next Full Hour\n   */\n  static get tillNextHour () {\n    const d = new Date()\n    const minutes = d.getMinutes()\n    const seconds = d.getSeconds()\n    const milliseconds = d.getMilliseconds()\n    return ONE_HOUR - (minutes * 60 + seconds) * 1000 - milliseconds\n  }\n\n  /**\n   * Get Milliseconds Until the Next Full 30 Minutes\n   */\n  static get tillNext30Mins () {\n    return Time.tillNextHour % THIRTY_MINUTES\n  }\n\n  /**\n   * Get Milliseconds Until the Next Full 15 Minutes\n   */\n  static get tillNext15Mins () {\n    return Time.tillNextHour % FIFTEEN_MINUTES\n  }\n\n  /**\n   * Get Milliseconds Until the Next Full Duration Provided\n   * (duration given must be less than ONE_HOUR)\n   */\n  static tillNext (duration) {\n    return Time.tillNextHour % duration\n  }\n}\n","import chroma from 'chroma-js'\nimport React from 'react'\nimport { Area, Cell, LabelList } from 'recharts'\nimport { shortNumber, toAlphaNumId, } from 'ui-utils-pack'\nimport { colorScaleDistinct } from 'ui-utils-pack/color'\nimport { toHours } from 'ui-utils-pack/time'\nimport { STYLE } from '../styles'\n\n// =============================================================================\n// COMMON CHART OPTIONS AND HELPERS\n// =============================================================================\nexport const chartOffsetMargin = 20 // to the right of Y-axis\nconst PINK = 'rgb(235, 77, 164)'\nconst TEAL = 'rgb(0, 172, 188)'\nconst VIOLET = 'rgb(90, 55, 187)'\n\n/**\n * Generate User-friendly Evenly Distributed Colors with Distinct Adjacent Hues\n *\n * @param {Number} count - number of colors to generate\n * @param {Array} [colors] - list of rgb/a or hex colors to use\n * @param {Number} [hueCount] - number of distinct hues to use\n * @returns {Array} colors - list of colors\n */\nexport function gradientColors (count, colors = [PINK, TEAL, VIOLET], hueCount = colors.length) {\n  return colorScaleDistinct(chroma.scale(colors).colors(count), hueCount)\n}\n\n/* Area Chart Common Props */\nexport const chartArea = {\n  type: 'monotone',\n  animationEasing: 'ease-in-out',\n  animationDuration: STYLE.ANIMATION_DURATION,\n  fillOpacity: 1\n}\n\nexport const chartCartesianGrid = {\n  stroke: STYLE.BORDER,\n  strokeDasharray: '3 4'\n}\n\n/* Chart Container Common Props */\nexport const chartContainer = {\n  margin: { top: 20, right: chartOffsetMargin, left: 0, bottom: 5 }\n}\n\nexport const chartTooltip = {\n  animationEasing: 'ease-out',\n  animationDuration: STYLE.ANIMATION_DURATION,\n  wrapperStyle: {zIndex: 1}\n}\n\n/* XAxis Chart Common Props */\nexport const chartXaxis = {\n  dataKey: 'time',\n  domain: ['auto', 'auto'],\n  scale: 'linear',\n  type: 'number',\n  tickLine: false,\n  tickFormatter: toHours,\n  minTickGap: 12\n}\n\n/* YAxis Chart Common Props */\nexport const chartYaxis = {\n  tickLine: false,\n  tickFormatter: shortNumber,\n  minTickGap: 12\n}\n\n/**\n * Create Function to Render Chart Area\n *\n * @param {String} id - unique id prefix for the chart type\n * @returns {function({name: *, color: *}): *}\n */\nexport function renderAreas (id) {\n  return function ({name: n, color, gradient, ...props}) {\n    const name = toAlphaNumId(n)\n    const value = gradient ? `url(#${id}-${name})` : color\n    return (\n      <Area key={name} name={name} dataKey={`${name}.value`} fill={value} stroke={color} color={color} {...props} >\n        <LabelList dataKey={`${name}.label`} fill={color} position='top'/>\n      </Area>\n    )\n  }\n}\n\n/**\n * Create Function to Render Chart Cell (for Bars, Pies, etc.)\n *\n * @param {String} id - unique id prefix for the chart type\n * @returns {function({name: *, color: *, gradient: *}): *}\n */\nexport function renderCells (id) {\n  return function renderCell ({ name, color, gradient }) {\n    const value = gradient ? `url(#${id}-${toAlphaNumId(name)})` : color\n    return <Cell fill={value} stroke={value} color={color}/>\n  }\n}\n\n/**\n * Create Function to Render Gradient Color Definition\n *\n * @param {String} id - unique id prefix for the chart type\n * @param {Number} [startOpacity] - beginning opacity\n * @param {Number} [stopOpacity] - ending opacity\n * @param {String} [x1] - gradient start position\n * @param {String} [y1] - gradient start position\n * @param {String} [x2] - gradient end position\n * @param {String} [y2] - gradient end position\n * @returns {function({name: *, color: *}): *}\n */\nexport function renderGradients ({ id, startOpacity = 0.67, stopOpacity = 1, x1 = '0', y1 = '0', x2 = '1', y2 = '1' }) {\n  return function ({name: n, color}) {\n    const name = toAlphaNumId(n)\n    return (\n      <linearGradient key={name} id={`${id}-${name}`} x1={x1} y1={y1} x2={x2} y2={y2}>\n        <stop offset='5%' stopColor={color} stopOpacity={startOpacity}/>\n        <stop offset='95%' stopColor={color} stopOpacity={stopOpacity}/>\n      </linearGradient>\n    )\n  }\n}\n","import { hasListValue, isList } from './array.js'\nimport { round } from './number.js'\nimport { isString } from './string.js'\n\n/**\n * COLOR FUNCTIONS =============================================================\n * =============================================================================\n */\n\n/**\n * Turn Gradient Color Scale into Divided Groups of Gradients with more Distinct Hues Between Adjacent Colors\n * @example:\n *    colorScaleDistinct(chroma.scale([GOLD_INVERSE, TEAL_INVERSE, VIOLET_INVERSE]).colors(keys.length), 3)\n *\n * @param {Array} colors - list of gradient color values to make distinct\n * @param {Number} hues - count of distinct colors used in the given gradient\n * @return {Array} colors - grouped in distinct gradients\n */\nexport function colorScaleDistinct (colors, hues) {\n  // The number of color groups is also the distance between colors within new groups\n  let groupCount = colors.length / hues\n  if (groupCount < 2) return colors\n  groupCount = Math.ceil(groupCount)  // round up to include extra colors from whole groups\n\n  const result = []\n  let lastIndex = 0\n  let groupIndex = 0\n  for (let i = 0; i < colors.length; i++) {\n    if (groupIndex === hues) groupIndex = 0\n    // Each Color within new group jumps the distance of group count\n    if (groupIndex) {  // middle to end of the group\n      lastIndex = Math.min(lastIndex + groupCount, colors.length - 1)\n    } else {  // start of the group - use the first unused index from given colors\n      lastIndex = Math.floor(i / hues)\n    }\n    result[i] = colors[lastIndex]\n    groupIndex++\n  }\n\n  return result\n}\n\n/**\n * Convert given value to a standardized RGB(A) Color Array\n *\n * @param {Array|String} value - to check\n * @return {Array|Boolean} color - if it's a valid color value, else `false`\n */\nexport function toRgbaColor (value) {\n  const color = hasListValue(value) ? value : String(value).split(',').map(val => Number(val.trim()))\n  return isRgba(color) && color\n}\n\n/**\n * Check if given value is a valid Array of RGB(A) color numbers/strings\n *\n * @param {Array} color - to check\n * @returns {Boolean} true - if it's valid\n */\nexport function isRgba (color) {\n  if (!isList(color)) return false\n  if (color.length < 3 || color.length > 4) return false\n  if (!(color[0] >= 0 && color[0] <= 255)) return false\n  if (!(color[1] >= 0 && color[1] <= 255)) return false\n  if (!(color[2] >= 0 && color[2] <= 255)) return false\n  return !(color[3] && !(color[3] >= 0 && color[3] <= 1))\n}\n\n/**\n * Convert an RGB Color to Scaled Color3 Array\n * @note: in certain frameworks, like Babylon.js, Color3 is an array of RGB numbers ranging from 0 to 1.\n *\n * @param {Array<Number | String>} color - with RGB values ranging from 0 to 255\n * @param {Number} [precision] - decimal places to keep\n * @returns {Array<Number>} Color3 - with RGB values ranging from 0 to 1\n */\nexport function rgbToColor3 (color, precision = 6) {\n  return color.map(number => round(number / 255, precision))\n}\n\n/**\n * Convert a Scaled Color3 Array to an RGB Color\n * @note: in certain frameworks, like Babylon.js, Color3 is an array of RGB numbers ranging from 0 to 1.\n *\n * @param {Array<Number>} color3 - with RGB values ranging from 0 to 1\n * @returns {Array<Number | String>} color - with RGB values ranging from 0 to 255\n */\nexport function rgbFromColor3 (color3) {\n  return color3.map(number => Math.round(number * 255))\n}\n\n/**\n * Convert an RGB Color to Hex String\n * @param {Number} r\n * @param {Number} g\n * @param {Number} b\n * @return {String} hex color\n */\nexport function rgbToHex ([r, g, b]) {\n  if (isString(r)) throw new Error(`${rgbToHex.name}() requires an RGB color array of numbers`)\n  return '#' + colorToHex(r) + colorToHex(g) + colorToHex(b)\n}\n\n/**\n * Convert Color code to Hex String\n * @param {Number} c - from 0 to 255\n * @return {String} hex code\n */\nfunction colorToHex (c) {\n  const hex = c.toString(16)\n  return hex.length === 1 ? '0' + hex : hex\n}\n\n/**\n * Convert a Hex String to RGB Color if valid\n * @param {String} hex - string with or without `#` at the beginning\n * @return {Array<Number>|Null} RGB color array - if given valid hex string, else null\n */\nexport function rgbFromHex (hex) {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n  return result ? [parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)] : null\n}\n","import chroma from 'chroma-js'\nimport classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport React, { Fragment, PureComponent } from 'react'\nimport { Pie, PieChart as Piechart, ResponsiveContainer, Tooltip } from 'recharts'\nimport { by, pluralize, shortNumber, throttle, toList, toListValuesTotal, truncate } from 'ui-utils-pack'\nimport { renderFloat } from '../renders'\nimport Row from '../Row'\nimport { STYLE } from '../styles'\nimport Text from '../Text'\nimport View from '../View'\nimport { chartTooltip, gradientColors, renderCells, renderGradients } from './utils'\n\nconst RADIAN = Math.PI / 180\nconst fontSize = 14 // label size\nconst id = 'pc' // unique id prefix for this chart type\nconst renderCell = renderCells(id)\nconst renderGradient = renderGradients({id, startOpacity: 0.67, stopOpacity: 1})\nlet decimals, unit\n\n/**\n * Pie Chart Component\n */\nexport default class PieChart extends PureComponent {\n  static propTypes = {\n    items: PropTypes.arrayOf(\n      PropTypes.shape({\n        label: PropTypes.any.isRequired,\n        value: PropTypes.number.isRequired,\n      })\n    ).isRequired,\n    height: PropTypes.number, // the size fo the pie chart\n    unit: PropTypes.string, // text to render next to value\n    className: PropTypes.string,\n    classNameWrap: PropTypes.string,\n    colors: PropTypes.array,\n    children: PropTypes.any, // content to render inside the pie, will override default Label\n    gradient: PropTypes.bool, // default is true\n    legends: PropTypes.oneOfType([\n      PropTypes.bool, // whether to render Legends to the side of Pie Chart, default is false\n      PropTypes.shape({\n        background: PropTypes.bool, // whether to make legends have background, default is true\n        bottom: PropTypes.bool, // whether to keep legends on the bottom, under the Pie\n        columns: PropTypes.number, // the number of columns to break down long list of legends\n      })\n    ]),\n    pointers: PropTypes.bool, // whether to render reference pointers to each pie, default is true if `legends` is false\n    sort: PropTypes.oneOfType([ // items sorting order\n      PropTypes.string, // key path to value used for sorting item's order, prefix with `-` for descending order\n      PropTypes.arrayOf(PropTypes.string),\n    ]),\n  }\n\n  static defaultProps = {\n    height: 290,\n  }\n\n  renderTotal = () => {\n    return (\n      <>\n        <Text className='h2 no-margin padding-bottom-smaller'>{shortNumber(toListValuesTotal(this.props.items))}</Text>\n        <Text>Total</Text>\n      </>\n    )\n  }\n\n  renderReference = () => {\n    const {bottom, columns, background = true} = this.props.legends || {}\n    const classes = classNames('app__pie-chart__ref__items padding-small', {background, wrap: columns > 0})\n    const offsetTop = bottom ? {marginTop: this.props.height * -0.1} : undefined\n    let result\n    let itemsLength\n    if (columns > 0) {\n      itemsLength = Math.ceil(this.data.length / columns)\n      result =\n        <Row className='top' style={offsetTop}>\n          {Array(columns).fill(true).map((_, index) => {\n            const start = index * itemsLength\n            return <View key={index} className={classes}>\n              {this.data.slice(start, start + itemsLength).map(this.renderReferenceItem)}\n            </View>\n          })}\n        </Row>\n    } else {\n      result = <View className={classes} style={offsetTop}>{this.data.map(this.renderReferenceItem)}</View>\n    }\n    return result\n  }\n\n  renderReferenceItem = ({name, color, value}) => (\n    <Row key={name} className='app__pie-chart__ref__item justify'>\n      <Text className='truncate padding-right'>{name}</Text>\n      <Text style={{color}}>{value.toLocaleString()}</Text>\n    </Row>\n  )\n\n  render () {\n    const {\n      items: _items, height, unit: u, classNameWrap, className, children,\n      gradient = true, colors: colours, legends, pointers, sort,\n      ...props\n    } = this.props\n    unit = u\n    const sorts = toList(sort, 'clean')\n    const items = sort ? [..._items].sort(by(...sorts)) : _items\n    const Container = legends ? (legends.bottom ? View : Row) : Fragment\n    const colors = gradientColors(items.length, colours)\n    this.data = dataNormalized(items, colors, gradient, sorts)\n    return (\n      <Container {...legends && {className: classNames('app__pie-chart--ref middle center wrap', classNameWrap)}}>\n        <View className={classNames('app__pie-chart min-width-290 center', className, {gradient})} {...props}>\n          <ResponsiveContainer height={height}>\n            <Piechart>\n              {gradient && <defs>{this.data.map(renderGradient)}</defs>}\n              <Pie\n                data={this.data}\n                dataKey='value'\n                innerRadius='40%'\n                outerRadius='60%'\n                labelLine={false}\n                label={(pointers || (!legends && pointers !== false)) ? renderPercentPointer : renderPercent}\n                strokeWidth={0}\n                children={this.data.map(renderCell)}\n              />\n              <Tooltip {...chartTooltip} content={renderTooltip}/>\n            </Piechart>\n          </ResponsiveContainer>\n          <View className='position-center center fade-in-slow'>\n            {children != null\n              ? (typeof children === 'object' ? children : <Text className='center'>{children}</Text>)\n              : this.renderTotal()\n            }\n          </View>\n        </View>\n        {legends && this.renderReference()}\n      </Container>\n    )\n  }\n}\n\n/**\n * Converted given Data to normalized list for Chart Rendering\n */\nfunction dataNormalized (items, colors, gradient, sorts = ['-value', 'name']) {\n  const list = items.map(({id, label, value}) => ({name: id || label, gradient, value}))\n  return list.sort(by(...sorts)).map((item, i) => {\n    item.color = colors[i]\n    return item\n  })\n}\n\n/**\n * Get Coordinates of Center Point within each Pie in a Donut\n */\nfunction donutPieCenterCoords ({cx, cy, midAngle, innerRadius, outerRadius}) {\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5\n  const x = cx + radius * Math.cos(-midAngle * RADIAN)\n  const y = cy + radius * Math.sin(-midAngle * RADIAN)\n  return {x, y}\n}\n\nfunction renderPercent ({\n  cx,\n  cy,\n  midAngle,\n  innerRadius,\n  outerRadius,\n  startAngle,\n  endAngle,\n  name,\n  percent,\n  fill,\n  color\n}) {\n  percent = percent * 100\n  if (percent < 1) return null\n  const fontScale = Math.min(percent + 5, fontSize)  // make font size smaller if percent is low\n\n  /* Inner Label */\n  const percentColor = fill === 'none' ? color : STYLE.TEXT_LIGHT\n  const {x, y} = donutPieCenterCoords({cx, cy, midAngle, innerRadius, outerRadius})\n\n  return (\n    <g>\n      <text x={x} y={y} fill={percentColor} textAnchor='middle' dominantBaseline='central' fontSize={fontScale - 2}>\n        {Math.round(percent) + '%'}\n      </text>\n    </g>\n  )\n}\n\nfunction renderPercentPointer ({cx, cy, midAngle, innerRadius, outerRadius, name, percent, fill, color}) {\n  percent = percent * 100\n  name = truncate(name, 9, 2)\n  if (percent < 1) return null\n  const sin = Math.sin(-RADIAN * midAngle)\n  const cos = Math.cos(-RADIAN * midAngle)  // at start angle cos = -1, at end angle cos = 1\n  const angleEffect = Math.abs(cos)\n  const radiusEffect = outerRadius / 13\n  const fontScale = Math.min(percent + 5, fontSize)  // make font size smaller if percent is low\n\n  /* Inner Label */\n  const percentColor = fill === 'none' ? color : STYLE.TEXT_LIGHT\n  const {x, y} = donutPieCenterCoords({cx, cy, midAngle, innerRadius, outerRadius})\n\n  /* Out Label */\n  const labelColor = chroma(color).alpha(0.7).css()\n  const labelSize = Math.max(fontScale - Math.max(0, name.length - 5) * angleEffect, 6)  // scale to characters and angle\n  const lineScale = Math.min(percent + 2, radiusEffect)  // scale line length proportionally to percent and chart size\n  const lineSize = lineScale * (1 - angleEffect / 2)  // reduce to 50% size when approaching start or end angles\n  const sx = cx + (outerRadius) * cos  // label line start x coordinate\n  const sy = cy + (outerRadius) * sin  // label line start y coordinate\n  const mx = cx + (outerRadius + lineSize) * cos  // label line break angle x coordinate\n  const my = cy + (outerRadius + lineSize) * sin  // label line break angle y coordinate\n  const ex = mx + (cos >= 0 ? 1 : -1) * lineSize  // horizontal label line length\n  const ey = my\n  const textAnchor = cos >= 0 ? 'start' : 'end'\n  const xOuter = ex + (cos >= 0 ? 1 : -1) * lineScale / 2\n  return (\n    <g>\n      <text x={x} y={y} fill={percentColor} textAnchor='middle' dominantBaseline='central' fontSize={fontScale - 2}>\n        {Math.round(percent) + '%'}\n      </text>\n      <path d={`M${sx},${sy}L${mx},${my}L${ex},${ey}`} stroke={labelColor} fill=\"none\"/>\n      <circle cx={ex} cy={ey} r={Math.min(lineSize / 4, 2)} fill={labelColor} stroke=\"none\"/>\n      <text x={xOuter} y={ey} dy={labelSize / 3} textAnchor={textAnchor} fill={labelColor}\n            fontSize={labelSize}>{name}</text>\n    </g>\n  )\n}\n\nconst renderTooltip = throttle(({active, payload}) => {\n  if (!active) return null\n  const items = toList(payload, true)\n  const total = toListValuesTotal(items)\n  // Show up to 7 digits\n  decimals = Math.max(6 - (Math.round(total) || 0).toString().length, 0)\n  return (\n    <View className='app__chart__tooltip'>\n      {items.map(renderTooltipItem)}\n    </View>\n  )\n}, 50)\n\nfunction renderTooltipItem ({payload: {name, value, color} = {}}, i) {\n  return (\n    <View key={name || i} className='fill--width center'>\n      <Text className='truncate' style={{color}}>{name}</Text>\n      <Text className='row'>{renderFloat(Number(value).toFixed(decimals))} {unit ? pluralize(unit, value) : ''}</Text>\n    </View>\n  )\n}\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\n/**\n * Label - Pure Component.\n * Abstraction layer for React Web\n *\n * @param {*} children - optional, content to be wrapped inside `<label>{children}</label>`\n * @param {*} props - other attributes to pass to `<label></label>`\n * @returns {Object}\n */\nexport function Label ({\n  children,\n  translate,\n  ...props\n}) {\n  const child = (typeof children === 'string' && typeof translate === 'function') ? translate(children) : children\n  return <label {...props}>{child}</label>\n}\n\nLabel.propTypes = {\n  children: PropTypes.any\n}\n\nexport default React.memo(Label)\n","import classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport React, { Fragment } from 'react'\nimport Label from './Label'\nimport Row from './Row'\nimport View from './View'\n\n/**\n * Checkbox - Pure Component\n *\n * @Note: either `id` or `label` must be given\n *\n * @param {String} [label] - text to use for identification, uses `id` if not given\n * @param {String} [id] - will be derived from `label` if not given\n * @param {Function} onChange - callback on value change\n * @param {Boolean|*} value - checked or unchecked state\n * @param {String} [type] - one of ['toggle']\n * @param {String} [title] - tooltip\n * @param {Boolean} [defaultValue] - checked or unchecked state\n * @param {String|Object} [labelTrue] - text to show for checked state\n * @param {String|Object} [labelFalse] - text to show for unchecked state\n * @param {*} [valueTrue] - value to assign to true case\n * @param {*} [valueFalse] - value to assign to false case\n * @param {Boolean} [readonly] - input attribute\n * @param {Boolean} [danger] - if true, then unchecked will have red background\n * @param {String} [className] - css class to apply\n * @param {Object} [props] - other props to pass\n * @return {*}\n * @constructor\n */\nexport function Checkbox ({\n  value,\n  valueTrue = true,\n  valueFalse = false,\n  defaultValue,\n  onChange,\n  type = 'checkbox',\n  title,\n  label,\n  labelTrue,\n  labelFalse,\n  id,\n  readonly,\n  danger,\n  className,\n  translate = Active.translate,\n  float: _0, // not used\n  initialValues: _1, // not used\n  ...props\n}) {\n  if (readonly) props.readOnly = readonly // React wants `readonly` to be `readOnly`\n  labelTrue = labelTrue || label || 'ON'\n  labelFalse = labelFalse || label || 'OFF'\n  if (!id && label) id = 'checkbox-' + label.replace(/ +?/g, '-')\n  if (value === valueTrue) value = true\n  if (value === valueFalse) value = false\n  if (value == null) {\n    if (defaultValue != null) props.defaultChecked = defaultValue\n  } else {\n    props.checked = !!value\n  }\n  return (\n    <Row className={classNames('checkbox--wrapper', className)}>\n      <input\n        type={type === 'toggle' ? 'checkbox' : type}\n        className={classNames('checkbox', type)}\n        id={id}\n        onChange={readonly ? null : (event) => onChange(event.target.checked ? valueTrue : valueFalse, props.name, event)}\n        {...props}\n      />\n      <Label\n        htmlFor={id} title={translate(title)}\n        className={classNames('flex--row middle justify', {danger})}\n      >\n        {type === 'toggle'\n          ? <Fragment>\n            <View className=\"checkbox__true\">{translate(labelTrue)}</View>\n            <View className=\"checkbox__button\"/>\n            <View className=\"checkbox__false\">{translate(labelFalse)}</View>\n          </Fragment>\n          : (translate(label) || id)\n        }\n      </Label>\n    </Row>\n  )\n}\n\nCheckbox.propTypes = {\n  id: PropTypes.string,\n  label: PropTypes.string,\n  labelTrue: PropTypes.any,\n  labelFalse: PropTypes.any,\n  onChange: PropTypes.func,\n  value: PropTypes.any,\n  valueTrue: PropTypes.any,\n  valueFalse: PropTypes.any,\n  defaultValue: PropTypes.bool,\n  className: PropTypes.string,\n}\n\nexport default React.memo(Checkbox)\n","import PropTypes from 'prop-types'\nimport React, { PureComponent } from 'react'\nimport { ONE_SECOND, TIME_DURATION_INSTANT } from 'ui-utils-pack'\nimport { renderFloat } from './renders'\nimport { withTimer } from './utils'\n\n/**\n * Animated Number Counter using Localised Render Float function\n */\n@withTimer\nexport default class Counter extends PureComponent {\n  static propTypes = {\n    start: PropTypes.number, // default is 0\n    end: PropTypes.number.isRequired,\n    render: PropTypes.func, // number formatting function\n    decimals: PropTypes.number, // default is 0\n    delay: PropTypes.number, // animation delay, default is TIME_DURATION_INSTANT\n    duration: PropTypes.number, // animation duration\n    interval: PropTypes.number, // animation interval, default is 17 ms, which translates to ~60 frames per second\n    easingFn: PropTypes.func, // animation easing function, see https://gist.github.com/gre/1650294\n    className: PropTypes.string,\n    style: PropTypes.object,\n  }\n\n  static defaultProps = {\n    start: 0,\n    decimals: 0,\n    render: renderFloat,\n    easingFn: (t) => t * t * t,\n  }\n\n  state = {\n    value: this.props.start,\n    steps: 0, // steps left to animate\n  }\n\n  animate = () => {\n    const {value, steps} = this.state\n    const {end} = this.props\n    if (!steps) return\n    this.setState({\n      value: value + (end - value) / steps,\n      steps: steps - 1,\n    })\n  }\n\n  setup = (props = this.props) => {\n    const {\n      end, start, easingFn,\n      duration = ONE_SECOND,\n      delay = TIME_DURATION_INSTANT,\n      interval = 17\n    } = props\n    const steps = end === start ? 0 : Math.ceil(duration / interval)\n    if (steps) {\n      this.clearTimer()\n      this.setTimeout(() => {\n        for (let i = 0; i < steps; i++) {\n          this.setTimeout(this.animate, duration * easingFn((i + 1) / steps))\n        }\n      }, delay)\n    }\n    this.setState({steps, value: start})\n  }\n\n  componentDidMount () {\n    this.setup()\n  }\n\n  UNSAFE_componentWillReceiveProps (nextProps) {\n    if (nextProps.end !== this.props.end) this.setup(nextProps)\n  }\n\n  render () {\n    const {decimals, render} = this.props\n    const {value} = this.state\n    return render(value, decimals)\n  }\n}\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport Expand from './Expand'\n\n/**\n * Dynamic List of Expandable Rows - Pure Component.\n */\nexport function ExpandList ({renderLabel, renderItem, items, ...props}) {\n  return (\n    items.map((item, i) => (\n      <Expand key={item.id || i} {...props} title={renderLabel(item, i)}>{() => renderItem(item, i)}</Expand>\n    ))\n  )\n}\nExpandList.propTypes = {\n  items: PropTypes.array.isRequired,\n  renderLabel: PropTypes.func.isRequired,\n  renderItem: PropTypes.func.isRequired,\n}\nexport default React.memo(ExpandList)\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport Row from './Row'\nimport View from './View'\n\n/**\n * Dynamic List of Views/Rows - Pure Component.\n */\nexport function List ({renderItem, items, row, ...props}) {\n  const Container = row ? Row : View\n  return (\n    <Container {...props}>\n      {items.map((item, i) => renderItem(item, i))}\n    </Container>\n  )\n}\n\nList.propTypes = {\n  items: PropTypes.array.isRequired,\n  renderItem: PropTypes.func.isRequired,\n  row: PropTypes.bool,\n}\n\nexport default React.memo(List)\n","import classNames from 'classnames'\nimport React, { PureComponent } from 'react'\nimport { Active, TIME_DURATION_INSTANT } from 'ui-utils-pack'\nimport { SOUND } from './files'\nimport { STYLE } from './styles'\nimport Text from './Text'\nimport { type } from './types'\nimport { withTimer } from './utils'\nimport View from './View'\n\n/**\n * Progress Bar Component\n *\n * @param {Number|NaN|Undefined|Null} [value] - fraction from 0 to 1, renders placeholder tooltip by default\n * @param {String} [className] - optional css class names to add\n * @param {Boolean} [gradient] - whether to separate bar color into two gradients\n * @param {*} [children] - text or React component to render as progress indicator\n * @param {*} [props] - other attributes to pass to component\n * @returns {Object} - React Component\n */\n@withTimer\nexport default class ProgressBar extends PureComponent {\n  static propTypes = {\n    // fraction from 0 to 1\n    value: type.Fraction.isRequired,\n    // content to render inside the filled bar\n    label: type.Any,\n    // default is false\n    hasTooltip: type.Boolean,\n    className: type.String,\n    // CSS bar color\n    color: type.String,\n    children: type.Any,\n    // default is true\n    gradient: type.Boolean,\n    // style the percentage bar itself\n    styleBar: type.Object,\n  }\n\n  state = {\n    value: 0,\n  }\n\n  get progressBar () {\n    const {children, color, label, hasTooltip = false, styleBar} = this.props\n    const {value} = this.state\n    const percentage = Math.round(value * 100)\n    const width = percentage + '%'\n    const tooltip = this.props.value >= 0 ? (children || width) : 'No Data'\n    const style = {width, ...styleBar}\n    if (color) style.backgroundColor = color\n    return (\n      <View className='app__progress__bar' style={style}>\n        {label && <Text>{label}</Text>}\n        {hasTooltip &&\n        <View className='app__progress__bar__tooltip'>\n          <Text className='app__progress__bar__tooltip__inner'\n                style={{transform: `translateX(${(0.5 - value) * 50}%)`}}\n                children={tooltip}\n          />\n        </View>\n        }\n      </View>\n    )\n  }\n\n  componentDidMount () {\n    const {value} = this.props\n    if (value != null) this.setTimeout(() => {\n      this.setState({value})\n      if (Active.SETTINGS.HAS_SOUND) this.setTimeout(SOUND.PROGRESS.play, STYLE.ANIMATION_DURATION * 0.8)\n    }, TIME_DURATION_INSTANT)\n  }\n\n  UNSAFE_componentWillReceiveProps ({value}) {\n    if (value !== this.props.value) this.setState({value: value || 0})\n  }\n\n  render () {\n    const {className, gradient = true, children: _1, value: _2, styleBar: _3, ...props} = this.props\n    return (\n      <View className={classNames('app__progress--bar', className, {gradient})} {...props}>\n        <View className={'app__progress--bar__wrapper'}>\n          {this.progressBar}\n        </View>\n      </View>\n    )\n  }\n}\n","import classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport React, { Fragment, PureComponent } from 'react'\nimport { get, isFunction } from 'ui-utils-pack'\nimport Button from './Button'\nimport Icon from './Icon'\nimport ProgressBar from './ProgressBar'\nimport Row from './Row'\nimport ScrollView from './ScrollView'\nimport Text from './Text'\nimport { withTimer } from './utils'\nimport View from './View'\n\n/**\n * Progress Steps - Component\n */\n@withTimer\nexport default class ProgressSteps extends PureComponent {\n  static propTypes = {\n    items: PropTypes.arrayOf(\n      PropTypes.shape({\n        step: PropTypes.string, // step text to display, default is incremental step number\n        label: PropTypes.string, // text to display under step\n        done: PropTypes.bool, // whether the step is completed\n        error: PropTypes.bool, // whether the step has error\n        content: PropTypes.any, // content to render under the step\n      })\n    ).isRequired,\n    activeIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]), // index of active item (starts at 0)\n    defaultIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    onChange: PropTypes.func, // callback when step is clicked, receives clicked step index\n    hasConnector: PropTypes.bool, // whether to render the vertical line below each step\n    className: PropTypes.string, // css class names to add\n    style: PropTypes.object, // css styles to add\n    classNameSteps: PropTypes.string, // css class names to add\n    styleSteps: PropTypes.object, // css styles to add\n    classNameContent: PropTypes.string, // css class names to add\n    styleContent: PropTypes.object, // css styles to add\n  }\n\n  state = {\n    activeIndex: Math.max(+(this.props.activeIndex || this.props.defaultIndex) || 0, 0),\n    transition: false,\n  }\n\n  UNSAFE_componentWillReceiveProps (next) {\n    const {activeIndex, items} = next\n    if (activeIndex != null && +activeIndex !== this.state.activeIndex) this.handleClickTab(+activeIndex)\n\n    // Handle use case when parent changes layout and tab has less panels than previously set active index\n    if (this.state.activeIndex >= items.length) this.setState({activeIndex: 0})\n  }\n\n  handleClickStep = (index) => {\n    this.setState({transition: true})\n    this.setTimeout(() => {\n      this.setState({activeIndex: index, transition: false})\n      if (this.props.onChange) this.props.onChange(index)\n    }, 50) // 50 ms is needed to allow full rendering so css transition can take effect\n  }\n\n  render () {\n    const {items, hasConnector, className, style, classNameSteps, styleSteps, classNameContent, styleContent} = this.props\n    const {activeIndex, transition} = this.state\n    const content = get(items[activeIndex], 'content')\n    return (\n      <View\n        className={classNames('app__progress-steps max-size', className)}\n        style={style}\n      >\n        <Row className={classNames('app__progress--steps top justify', classNameSteps, {connector: hasConnector})}\n             style={styleSteps}>\n          {items.map(({label, step, done, error}, i) => {\n            const passed = i <= activeIndex\n            const active = i === activeIndex\n            return (\n              <Fragment key={step || i}>\n                {i > 0 && <ProgressBar value={passed ? 1 : 0}/>}\n                <View className={classNames('app__progress__step align-center', {\n                  passed, active, done, error, labeled: label != null\n                })}>\n                  <Button className='circle small margin-h-smallest' onClick={() => this.handleClickStep(i)}>\n                    {done\n                      ? <Icon className='small' name='checkmark'/>\n                      : (error ? <Icon className='small' name='close'/> : (step ? step : i + 1))}\n                  </Button>\n                  {label != null &&\n                  <Text className={classNames('position-bottom padding-top no-wrap', {bold: active})}>{label}</Text>\n                  }\n                </View>\n              </Fragment>\n            )\n          })}\n        </Row>\n        {content != null &&\n        <ScrollView fill className={classNames('tabs__content', {'fade-in': !transition}, classNameContent)}\n                    style={styleContent}>\n          {typeof content === 'object' ? content : (isFunction(content) ? content() : <Text>{content}</Text>)}\n        </ScrollView>\n        }\n      </View>\n    )\n  }\n}\n","import classNames from 'classnames'\nimport React from 'react'\nimport View from './View'\n\n/**\n * Space - Pure Component\n */\nexport function Space ({small, large, className, ...props}) {\n  return <View className={classNames('space' + (small ? '-small' : (large ? '-large' : '')), className)} {...props}/>\n}\n\nexport default React.memo(Space)\n","import classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport { interpolateString, isFunction, l, localiseTranslation } from 'ui-utils-pack'\nimport { _ } from 'ui-utils-pack/translations'\nimport Label from './Label'\n\n/**\n * Select - Pure Component.\n *\n * @param {*} value - selected option value\n * @param {Array} options - list of option values, e.g. ['value']\n * @param {Function} onChange - callback when user selects an option, receives value as argument\n * @param {String} [name] - input name identification for form submission\n * @param {String} [label] - select label\n * @param {String} [id] - to map label with Select for accessibility\n * @param {String} [placeholder] - text\n * @param {String} [defaultValue] - text\n * @param {String} [className] - css class name to apply\n * @param {Object} [style] - css to apply\n * @param {*} [props] - other attributes to pass to `<select>`\n * @returns {Object} - React select component\n */\nexport function Select ({\n  name,\n  label = name,\n  id = 'select-' + name,\n  value = '',\n  options,\n  onChange,\n  placeholder,\n  defaultValue = '',\n  className,\n  style,\n  ...props\n}) {\n  if (typeof options[0] === 'string') options = options.map(value => ({text: value, value}))\n  if (typeof options[0] === 'number') options = options.map(value => ({text: String(value), value}))\n  if (value && !onChange) throw new Error('Select.value is only used when `onChange` or `readOnly` provided')\n  if (label == null) label = ''\n  const selectLabel = interpolateString(_.SELECT_option, {option: label})\n  return (\n    <div className={classNames('select', className)} style={style}>\n      <Label htmlFor={id} className=\"sr-only\">{selectLabel}</Label>\n      <select\n        id={id}\n        name={name}\n        {...isFunction(onChange) ? {\n          value, onChange: (event) => onChange(event.target.value, name, event)\n        } : {defaultValue}}\n        {...props}\n      >\n        {(value == null || !!label) &&\n        <option value=\"\" disabled>{placeholder || selectLabel}</option>}\n        {options.map(({text, value, key}, index) => (\n          <option key={key || index} value={value != null ? value : text}>{text}</option>\n        ))}\n      </select>\n    </div>\n  )\n}\n\nSelect.propTypes = {\n  value: PropTypes.any,\n  options: PropTypes.arrayOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.shape({\n      text: PropTypes.any.isRequired,\n      value: PropTypes.any,\n      key: PropTypes.any,\n    })\n  ])).isRequired,\n  onChange: PropTypes.func,\n  placeholder: PropTypes.any\n}\n\nexport default React.memo(Select)\n\nlocaliseTranslation({\n  SELECT_option: {\n    [l.ENGLISH]: 'Select {option}',\n  },\n})\n","import PropTypes from 'prop-types'\nimport React, { PureComponent } from 'react'\nimport { noSpellCheck, resizeToContent, toTextHeight, toTextHeightFunc } from './renders'\nimport Select from './Select'\nimport { onPressHoc } from './utils'\n\n/**\n * Input - Pure Component.\n * Abstraction layer for React Web\n */\nexport default class InputNative extends PureComponent {\n  static propTypes = {\n    /* Controlled value */\n    value: PropTypes.any,\n    defaultValue: PropTypes.any,\n    /* Input type */\n    type: PropTypes.string,\n    /* Textarea rows */\n    rows: PropTypes.number,\n    /* Callback(value) when input value changes */\n    onChange: PropTypes.func,\n    /* Whether to resize input width to match content length */\n    compact: PropTypes.oneOfType([\n      PropTypes.bool,\n      // Width offset\n      PropTypes.number,\n    ]),\n    /* Whether to adjust input height to match typed in text */\n    resize: PropTypes.bool,\n    /* Whether to have no spell check or correction */\n    disabledSpellCheck: PropTypes.bool,\n    /* Audio sound file to play on touch */\n    sound: PropTypes.object,\n    /* Callback(element) on mount */\n    onMount: PropTypes.func,\n  }\n\n  UNSAFE_componentWillReceiveProps (next, nextContext) {\n    const {compact, value} = this.props\n    if (next.compact != null) {\n      let inputValue\n      if (next.value !== value) {\n        inputValue = next.value\n      } else if (next.compact !== compact) {\n        inputValue = this.element.value\n      }\n      if (inputValue) resizeToContent(inputValue, this.element.style, next.compact)\n    }\n  }\n\n  onChange = (event) => {\n    const {target: {value, style}} = event\n    const {onChange, compact, name} = this.props\n    if (compact != null) resizeToContent(value, style, compact)\n    onChange && onChange(value, name, event)\n  }\n\n  onChangeCheckbox = (event) => {\n    const {target: {checked}} = event\n    const {onChange, sound, name} = this.props\n    onChange && onPressHoc(onChange, sound)(checked, name, event)\n  }\n\n  // @see: https://stackoverflow.com/questions/11167281/webkit-css-to-control-the-box-around-the-color-in-an-inputtype-color\n  onChangeColor = (event) => {\n    const {target} = event\n    const {onChange, name} = this.props\n    target.style.backgroundColor = target.value\n    onChange && onChange(target.value, name, event)\n  }\n\n  onMountColor = (element) => {\n    if (!element) return\n    this.element = element\n    element.style.backgroundColor = element.value\n  }\n\n  onMountResize = (element) => {\n    if (!element) return\n    const {compact, onMount} = this.props\n    this.element = element\n    resizeToContent(element.value, element.style, compact)\n    onMount && onMount(element)\n  }\n\n  onKeyUp = (event) => {\n    const {onKeyUp} = this.props\n    const textHeightFunc = (event.key === 'Enter') ? toTextHeightFunc : toTextHeight // resize instantly for Enter\n    textHeightFunc(event)\n    onKeyUp && onKeyUp(event)\n  }\n\n  render () {\n    let {\n      disabledSpellCheck,\n      resize,\n      compact,\n      sound,\n      onMount,\n      initialValues,\n      ...props\n    } = this.props\n    if (disabledSpellCheck) props = {...noSpellCheck, ...props}\n    if (resize) {\n      // Must use onKeyUp because onKeyDown/onKeyPress does not register `Enter` or fire too many times\n      props.onKeyUp = this.onKeyUp\n      props.type = 'textarea' // only textarea can resize\n      if (!props.rows) props.rows = 1\n    }\n    if (compact != null) props.ref = this.onMountResize\n    switch (props.type) {\n      case 'select':\n        return <Select {...props} />\n      case 'checkbox':\n        props.onChange = this.onChangeCheckbox\n        if (props.checked == null && props.value != null) props.checked = props.value\n        return <input {...props} />\n      case 'color':\n        if (this.element && props.value !== this.element.value) {\n          this.element.style.backgroundColor = props.value // update color for controlled input\n        }\n        props.onChange = this.onChangeColor // update color for uncontrolled input\n        props.ref = this.onMountColor\n        return <input {...props} />\n      case 'textarea':\n        props.onChange = this.onChange\n        return <textarea {...props} />\n      default:\n        props.onChange = this.onChange\n        return <input {...props} />\n    }\n  }\n}\n","import classNames from 'classnames'\nimport React, { useState, useRef } from 'react'\nimport { capitalize, isString } from 'ui-utils-pack'\nimport Button from './Button'\nimport Icon from './Icon'\nimport InputNative from './InputNative'\nimport Label from './Label'\nimport Row from './Row'\nimport Text from './Text'\nimport View from './View'\nimport { Active } from 'ui-utils-pack'\n\n/**\n * Input Wrapper - Pure Component.\n * @Note: see `InputNative` component for more documentation\n *\n * @param {String} [name] - input name attribute\n * @param {String|Object|Boolean} [icon] - name or rendered component, rendered after input by default\n * @param {Boolean} [lefty] - whether to render icon on the left before input\n * @param {Function} [onClickIcon] - callback function when clicking on the icon if given\n * @param {Function} [onFocus] - callback when input gets focus\n * @param {Function} [onBlur] - callback when input loses focus\n * @param {Function} [onRemove] - callback(id || name) when input is deleted\n * @param {String} [unit] - text to display next to entered input value\n * @param {String} [label] - text to display next to input\n * @param {String} [id] - unique identifier for label\n * @param {Boolean} [float] - whether display as float-label input\n * @param {Boolean} [disabled] - whether input is disabled\n * @param {Boolean} [done] - whether input is completed\n * @param {Boolean} [stickyPlaceholder] - whether to persist placeholder as user types\n * @param {Boolean} [resize] - whether to adjust input height to match typed in text\n * @param {Boolean} [readonly] - whether to disable input and add `readonly` css class\n * @param {Boolean} [autofocus] - whether to make input focused on page load\n * @param {String|Object} [error] - message to display\n * @param {String|Object} [info] - explanation message to display under input\n * @param {String} [title] - tooltip\n * @param {String} [className] - css class to add\n * @param {String} [classNameIcon] - css class to add to Icon\n * @param {Object} [style] - css styles\n * @param {String|Object} [children] - React component\n * @param {*} props - attributes to pass to `<input />`\n * @returns {Object} - React Component\n */\nexport function Input ({\n  name,\n  id = name,\n  icon,\n  lefty,\n  onClickIcon,\n  unit,\n  label,\n  disabled,\n  done,\n  className,\n  classNameIcon,\n  children,\n  stickyPlaceholder, // only works with controlled component when `props.value` is provided\n  resize,\n  readonly,\n  autofocus,\n  float,\n  error,\n  info,\n  style,\n  onFocus,\n  onBlur,\n  onRemove,\n  title,\n  placeholder,\n  translate = Active.translate,\n  ...props\n}) {\n  const [active, setState] = useState(props.autoFocus)\n  const max = useRef(props.type === 'date' ? '9999-01-01' : null);\n  if (autofocus) props.autoFocus = autofocus // React fix\n  if (readonly) {\n    props.className = 'readonly'\n    props.readOnly = readonly\n  } // React fix\n  if (props.type === 'hidden') return <InputNative {...props} />\n  if (float) {\n    if (!label && name) label = capitalize(name)\n    if (!placeholder) placeholder = ' ' // required for Float label CSS to work\n  }\n  if (!id && label) id = 'input-' + label.replace(/ +?/g, '-')\n  if (!label && title) props.title = translate(title)\n  const idHelp = id + '-help'\n  const value = props.value != null ? props.value : props.defaultValue\n  const hasValue = value || value === 0\n  const isCheckbox = props.type === 'checkbox'\n  if (done == null) done = !error && hasValue\n  return (\n    <View\n      className={classNames('input--wrapper', className, {\n        float, done, resize, swatch: props.type === 'color', required: props.required\n      })}\n      style={style}\n    >\n      {!float &&\n      <Row className=\"middle\">\n        {!isCheckbox && label && <Label htmlFor={id} title={translate(title)}>{translate(label)}</Label>}\n        {onRemove && !readonly &&\n        <Button className=\"input__delete\" onClick={() => onRemove(name || id)}><Icon name=\"delete\"/></Button>}\n      </Row>\n      }\n      <Row className={classNames('input', {active, icon, lefty, error, info, unit})}>\n        {icon && lefty && (isString(icon)\n            ? <Icon name={icon} onClick={onClickIcon} className={classNameIcon}/>\n            : icon\n        )}\n        {unit && hasValue &&\n        <Text className='input__unit truncate'>\n          <Text className='invisible' aria-hidden='true'>{value}</Text> {unit}\n        </Text>\n        }\n        {stickyPlaceholder && placeholder && hasValue &&\n        <Text className='input__unit' aria-hidden='true'>\n          <Text className='invisible no-margin'>{props.value}</Text>{placeholder.substring(props.value.length)}\n        </Text>\n        }\n        <InputNative\n          name={name} id={id} disabled={disabled} resize={resize} aria-describedby={idHelp}\n          onFocus={(...args) => {\n            !active && setState(true)\n            onFocus && onFocus(...args)\n          }}\n          onBlur={(...args) => {\n            active && setState(false)\n            onBlur && onBlur(...args)\n          }}\n          max={max.current}\n          placeholder={translate(placeholder)}\n          {...props}\n        />\n        {icon && !lefty && (isString(icon)\n            ? <Icon name={icon} onClick={onClickIcon} className={classNameIcon}/>\n            : icon\n        )}\n        {(float || isCheckbox) && label && <Label htmlFor={id} title={translate(title)}>{translate(label)}</Label>}\n      </Row>\n      {(error || info) &&\n      <View id={idHelp} className='field-help'>\n        {error && <Text className='error'>{translate(error)}</Text>}\n        {info && <Text className='into'>{translate(info)}</Text>}\n      </View>\n      }\n      {/* Reserved for Tooltip or other things */}\n      {children}\n    </View>\n  )\n}\n\nexport default React.memo(Input)\n","import { asField } from 'ui-modules-pack/form'\nimport React from 'react'\nimport { Input } from 'ui-react-pack/Input'\n\n/**\n * Input Field connected with react-final-form or redux-form\n */\nexport default asField(Input)\n","import { asField } from 'ui-modules-pack/form'\nimport React from 'react'\nimport { Dropdown } from 'ui-react-pack/Dropdown'\n\n/**\n * Dropdown Field connected with react-final-form or redux-form\n */\nexport default asField(Dropdown, {\n  sanitize: (value, { multiple }) => {\n    return value === '' ? (multiple ? [] : '') : value\n  }})\n","import PropTypes from 'prop-types'\nimport React, { PureComponent } from 'react'\nimport { Field } from 'react-final-form'\nimport { Checkbox } from 'ui-react-pack/Checkbox'\nimport { isRequired } from 'ui-react-pack/inputs/validationRules'\nimport { Active, isFunction } from 'ui-utils-pack'\n\nif (!Active.Field) Active.Field = Field\n\n/**\n * Toggle Field connected with react-final-form or redux-form\n * @note: do not use `asField` because this component needs all props passed to Field for proper updates.\n * @example:\n *  [FIELD.ID.TOGGLE]: {\n *    name: 'tier',\n *    valueTrue: TIER.PUBLIC._, // optional, defaults to `true`\n *    valueFalse: TIER.PRIVATE._, // optional, defaults to `false`\n *    get labelTrue () {return TIER.PUBLIC.name},\n *    get labelFalse () {return TIER.PRIVATE.name},\n *    get readonly () {return !hasStaffOrHigherAuth(Active.user.role)},\n *    get tooltip () {return _.MESSAGE},\n *    view: FIELD.TYPE.TOGGLE,\n *  }\n */\nexport default class ToggleField extends PureComponent {\n  static propTypes = {\n    // @Note: this component should not have parse/format/normalize,\n    //        because you can map values explicitly with `valueTrue/False`\n    name: PropTypes.string.isRequired,\n    label: PropTypes.string,\n    labelTrue: PropTypes.string,\n    labelFalse: PropTypes.string,\n    value: PropTypes.bool,\n    valueTrue: PropTypes.any,\n    valueFalse: PropTypes.any,\n    onChange: PropTypes.func,\n    id: PropTypes.string,\n    danger: PropTypes.bool,\n    translate: PropTypes.func,\n    // @Note: see <Checkbox> component for docs\n  }\n  input = ({input}) => {\n    if (this.props.readonly && isRequired(input.value)) return null\n    const {onChange, label, name, instance, translate, ...props} = this.props\n    return (\n      <Checkbox\n        type='toggle'\n        label={translate(label) || name}\n        value={input.value}\n        onChange={value => {\n          input.onChange(value)\n          isFunction(onChange) && onChange(value, { name })\n        }}\n        translate={translate}\n        {...props} // allow forceful value override\n      />\n    )\n  }\n\n  // Rerender Field for all prop changes to update 'labelTrue/False'\n  render = () => {\n    // do not pass 'onChange' to Field because it fires event as argument\n    const {onChange: _, instance, ...props} = this.props\n    return <Active.Field {...props} component={this.input}/>\n  }\n}\n","import classNames from 'classnames'\nimport React, { useState, useEffect } from 'react'\nimport { capitalize, isString } from 'ui-utils-pack'\nimport Button from './Button'\nimport Icon from './Icon'\nimport Label from './Label'\nimport Row from './Row'\nimport Text from './Text'\nimport View from './View'\nimport { Active } from 'ui-utils-pack'\nimport RCInputNumber from 'rc-input-number'\n\nconst InputNumber = ({\n  name,\n  id = name,\n  icon,\n  lefty,\n  onClickIcon,\n  unit,\n  label,\n  disabled,\n  done,\n  className,\n  classNameIcon,\n  children,\n  stickyPlaceholder, // only works with controlled component when `props.value` is provided\n  resize,\n  readonly,\n  float,\n  error,\n  info,\n  style,\n  onFocus,\n  onBlur,\n  onRemove,\n  title,\n  defaultValue,\n  placeholder,\n  translate = Active.translate,\n  outputFormat = {\n    percentage: false,\n    separateThousands: false,\n  },\n  onChange,\n  value: valueFromParent,\n  type: _1,\n  ...props\n}) => {\n  const formatDecimals = (value) => {\n    if (value && outputFormat && outputFormat.decimals) {\n      const pattern = `^\\\\d*(\\\\.\\\\d{0,${outputFormat.decimals}})?$`\n      const re = new RegExp(pattern, 'g')\n      if (!(re.test(value.toString()))) {\n        return parseFloat(value).toFixed(outputFormat.decimals);\n      }\n    }\n    return value\n  }\n\n  const [active, setState] = useState(false)\n  const [value, setValue] = useState(formatDecimals(valueFromParent))\n  if (readonly) {\n    props.className = 'readonly'\n    props.readOnly = readonly\n  } // React fix\n  if (float) {\n    if (!label && name) label = capitalize(name)\n    if (!placeholder) placeholder = ' ' // required for Float label CSS to work\n  }\n  if (!id && label) id = 'input-' + label.replace(/ +?/g, '-')\n  if (!label && title) props.title = translate(title)\n  const idHelp = id + '-help'\n\n  const hasValue = typeof value === 'number' && !isNaN(value)\n  if (done == null) done = !error && hasValue\n\n  useEffect(() => {\n    if (valueFromParent !== value) {\n      setValue(formatDecimals(valueFromParent))\n    }\n  }, [valueFromParent])\n\n  const onChangeHandler = (value, name, event) => {\n    let nextValue = formatDecimals(value)\n    onChange(nextValue, name, event)\n    setValue(nextValue)\n  }\n\n  function commify(n) {\n    var parts = n.toString().split('.');\n    const numberPart = parts[0];\n    const decimalPart = parts[1];\n    const thousands = /\\B(?=(\\d{3})+(?!\\d))/g;\n    return numberPart.replace(thousands, ' ') + (decimalPart ? '.' + decimalPart : '');\n  }\n\n  const format = (value, {userTyping, input}) => {\n    if (outputFormat) {\n      if (outputFormat.percentage) {\n        return value + ' %'\n      }\n      if (outputFormat.separateThousands) {\n        return commify(value)\n      }\n    }\n\n    return value\n  }\n\n  const parser = (value) => {\n    if (outputFormat) {\n      if (outputFormat.percentage) {\n        return Number(value.replace(' %', ''))\n      }\n      if (outputFormat.separateThousands) {\n        return Number(value.toString().replace(/ /g, ''))\n      }\n    }\n    return value\n  }\n\n  return (\n    <View\n      className={classNames('input--wrapper', className, {\n        float, done, resize, required: props.required\n      })}\n      style={style}\n    >\n      {!float &&\n        <Row className=\"middle\">\n          {label && <Label htmlFor={id} title={translate(title)}>{translate(label)}</Label>}\n          {onRemove && !readonly &&\n            <Button className=\"input__delete\" onClick={() => onRemove(name || id)}><Icon name=\"delete\"/></Button>}\n        </Row>\n      }\n      <Row className={classNames('input', {active, icon, lefty, error, info, unit})}>\n        {icon && lefty && (isString(icon)\n            ? <Icon name={icon} onClick={onClickIcon} className={classNameIcon}/>\n            : icon\n        )}\n        {unit && hasValue &&\n          <Text className='input__unit truncate'>\n            <Text className='invisible' aria-hidden='true'>{value}</Text> {unit}\n          </Text>\n        }\n        {stickyPlaceholder && placeholder && hasValue &&\n          <Text className='input__unit' aria-hidden='true'>\n            <Text className='invisible no-margin'>{props.value}</Text>{placeholder.substring(props.value.length)}\n          </Text>\n        }\n        <RCInputNumber\n          name={name}\n          id={id}\n          disabled={disabled}\n          resize={resize}\n          aria-describedby={idHelp}\n          placeholder={translate(placeholder)}\n          onFocus={(...args) => {\n            !active && setState(true)\n            onFocus && onFocus(...args)\n          }}\n          onBlur={(...args) => {\n            active && setState(false)\n            onBlur && onBlur(...args)\n          }}\n          onChange={onChangeHandler}\n          {...props}\n          value={value}\n          parser={parser}\n          formatter={format}\n        />\n        {icon && !lefty && (isString(icon)\n            ? <Icon name={icon} onClick={onClickIcon} className={classNameIcon}/>\n            : icon\n        )}\n        {float && label && <Label htmlFor={id} title={translate(title)}>{translate(label)}</Label>}\n      </Row>\n      {(error || info) &&\n        <View id={idHelp} className='field-help'>\n          {error && <Text className='error'>{translate(error)}</Text>}\n          {info && <Text className='into'>{translate(info)}</Text>}\n        </View>\n      }\n      {children}\n    </View>\n  )\n}\n\nexport default InputNumber\n","import { asField } from 'ui-modules-pack/form'\nimport React from 'react'\nimport InputNumber from 'ui-react-pack/InputNumber'\n\nexport default asField(InputNumber)\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { l, localiseTranslation, toLowerCase } from 'ui-utils-pack'\nimport { _ } from 'ui-utils-pack/translations'\nimport Text from './Text'\nimport View from './View'\n\nlocaliseTranslation({\n  FIELD_DOES_NOT_EXIST_: {\n    [l.ENGLISH]: 'Field does not exist!',\n    // [l.RUSSIAN]: 'Поля не существует!',\n  }\n})\n\n/**\n * Placeholder Field - Pure Component.\n */\nexport function PlaceholderField ({name, ...props} = {}) {\n  if (props.children == null)\n    props.children = <Text className=\"p error padding border\">\n      <Text className=\"bold\">{name}</Text>{toLowerCase(_.FIELD_DOES_NOT_EXIST_)}\n    </Text>\n  return <View {...props}/>\n}\n\nPlaceholderField.propTypes = {\n  name: PropTypes.any\n}\n\nexport default React.memo(PlaceholderField)\n","import { asField } from 'ui-modules-pack/form'\nimport { DropdownField, InputField, ToggleField, InputNumberField } from 'ui-modules-pack/form/inputs'\nimport Upload from 'ui-modules-pack/upload/views/Upload'\nimport { FIELD } from 'ui-modules-pack/variables'\nimport React from 'react'\nimport { PlaceholderField } from 'ui-react-pack/PlaceholderField'\nimport { Active } from 'ui-utils-pack'\n\nconst UploadField = asField(Upload, {sanitize: (value) => value || undefined})\n\nexport function renderField (fieldDefinition, i) {\n  let Field\n  const {view, type, ...props} = fieldDefinition\n  switch (view) {\n    case FIELD.TYPE.INPUT:\n      Field = InputField\n      break\n    case FIELD.TYPE.SELECT:\n      Field = DropdownField\n      break\n    case FIELD.TYPE.TOGGLE:\n      Field = ToggleField\n      break\n    case FIELD.TYPE.UPLOAD:\n      Field = UploadField\n      break\n    default:\n      Field = PlaceholderField.bind(this, {name: view})\n  }\n\n  if (type === 'number') {\n    Field = InputNumberField\n  }\n\n  return <Field key={i} {...props} type={type} />\n}\n\nActive.renderField = renderField\n","import React from 'react'\nimport { round } from 'ui-utils-pack'\n\n/**\n * Emoji - Pure Component to center emoji\n * @see: https://stackoverflow.com/questions/44142464/how-do-i-horizontally-center-an-emoji\n */\nexport function Emoji ({small, large, ...props}) {\n  let size = 4\n  if (small) size *= 0.75\n  if (large) size *= 2\n  return (\n    <span role=\"img\" {...props} style={{\n      display: 'inline-block',\n      fontSize: `${size}em`,\n      transform: `scale(.25) translateY(${large ? 6.175 : 2.175}em)`,\n      transformOrigin: 'center',\n      margin: `-${round(size / 4, 3)}em -.333em`,\n    }}/>\n  )\n}\n\nexport default React.memo(Emoji)\n","import classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Emoji from './Emoji'\nimport Text from './Text'\nimport View from './View'\n\n/**\n * Placeholder - Pure Component.\n */\nexport function Placeholder ({className, ...props}) {\n  return <View\n    fill\n    className={classNames('bg-texture-faded full-screen middle center fade-in-up padding-largest', className)}\n    {...props}\n  />\n}\n\nPlaceholder.propTypes = {\n  children: PropTypes.any.isRequired\n}\n\nPlaceholder.Searching = function ({title, ...props}) {\n  return (\n    <Placeholder {...props}>\n      <Text className='h2 center'>{title}</Text>\n      <View className='signal-pulse large margin-v'>\n        <View className='position-center blink'><Emoji large>😎</Emoji></View>\n      </View>\n      <View className='margin-v'>\n        <Text className='center large margin-v-small'>{'Nothing found,'}</Text>\n        <Text className='center large margin-bottom'>{'check back in later...'}</Text>\n      </View>\n    </Placeholder>\n  )\n}\n\nPlaceholder.Searching.propTypes = {\n  title: PropTypes.any.isRequired\n}\n\nexport default React.memo(Placeholder)\n","import React from 'react'\n\nconst TableColGroup = ({ colGroup }) => {\n  return (\n    <colgroup>\n      {colGroup.map(column => {\n        return <col style={column.style}/>\n      })}\n    </colgroup>\n  )\n}\n\nexport default TableColGroup;","import PropTypes from 'prop-types'\nimport React, { Fragment, PureComponent } from 'react'\nimport { cn } from 'ui-react-pack'\nimport Placeholder from 'ui-react-pack/Placeholder'\nimport { renderSort } from 'ui-react-pack/renders'\nimport Row from 'ui-react-pack/Row'\nimport ScrollView from 'ui-react-pack/ScrollView'\nimport Table from 'ui-react-pack/Table'\nimport Text from 'ui-react-pack/Text'\nimport View from 'ui-react-pack/View'\nimport { by, get, hasListValue, isEqual, isEqualList, isFunction } from 'ui-utils-pack'\nimport { getDateStringFromDateObject } from '../utils'\nimport TableColGroup from './TableColGroup'\nimport { FieldArray } from 'react-final-form-arrays'\n\nconst sortObj = {\n  id: PropTypes.string.isRequired, // id of the header, used for grouping columns/rows\n  order: PropTypes.oneOf([-1, 0, 1, undefined]),\n  sortKey: PropTypes.string, // path to item's value used for sorting objects\n}\n\n/**\n * Table with Dynamic Headers - Component\n * @Note: check <Table> component for props documentation\n */\nexport default class TableView extends PureComponent {\n  static propTypes = {\n    items: PropTypes.arrayOf( // in default layout, items are rows\n      PropTypes.object.isRequired, // nested object by key matching `id` in `headers` prop\n    ).isRequired,\n    // Header will be derived from items, if not defined\n    headers: PropTypes.arrayOf( // in default layout, headers are columns\n      PropTypes.shape({\n        ...sortObj,\n        renderCell: PropTypes.func, // cell render function(value, index, props) for items under the header\n        label: PropTypes.string, // header title, falls back to `id` if not given, and `children` not defined\n        children: PropTypes.any, // custom header content to render, overrides `label`\n        className: PropTypes.string, // css class name\n        classNameCell: PropTypes.string, // css class name for items under the header\n        classNameCellWrap: PropTypes.string, // css class name for items <td> wrapper under the header\n        style: PropTypes.object, // css inline styles\n        styleCell: PropTypes.object, // css inline styles for items under the header\n      })\n    ),\n    extraHeaders: PropTypes.arrayOf( // additional header layers to be rendered above/before `headers`\n      PropTypes.arrayOf( // layers will be rendered in the order they are defined -> this is the first level header\n        PropTypes.shape({\n          colSpan: PropTypes.number, // count of `headers` columns to span, default is 1\n          label: PropTypes.string, // header title, falls back to `id` if not given, and `children` not defined\n          children: PropTypes.any, // custom header content to render, overrides `label`\n          className: PropTypes.string, // css class name\n          style: PropTypes.object, // css inline styles\n        })\n      )\n    ),\n    // When the cell is empty (i.e. falsey value), render it as given value\n    showEmptyAs: PropTypes.any,\n    sorts: PropTypes.arrayOf(PropTypes.shape({...sortObj})),\n    onSort: PropTypes.func, // receives clicked sort object {id, order, sortKey} as argument\n    renderItem: PropTypes.func, // callback to render extra table rows in default layout\n    renderItemCells: PropTypes.func, // callback to use custom renderer for each table rows in default layout\n    renderExtraItem: PropTypes.func, // callback to use custom renderer for extra row (default layout) at the end\n    itemsExpanded: PropTypes.bool,\n    itemClassNames: PropTypes.arrayOf( // conditional class names for table items (rows in default layout)\n      PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        values: PropTypes.object.isRequired,\n      })\n    ),\n    vertical: PropTypes.bool, // whether to render rows as columns (first column as Header)\n    // ...other Table props\n    translate: PropTypes.func,\n    colGroup: PropTypes.arrayOf(\n      PropTypes.shape({\n        styles: PropTypes.object\n      })\n    ),\n    additionalCellsStyles: PropTypes.array\n  }\n\n  state = {\n    items: {\n      expanded: this.props.itemsExpanded,\n      expandedByIndex: {},\n    },\n    sorts: this.props.sorts,\n  }\n\n  // LOGIC ---------------------------------------------------------------------\n\n  // Compute header based on items if not defined\n  get headers () {\n    if (this.props.headers) return this.props.headers\n    if (this._headers) return this._headers\n    const [item] = this.props.items\n    if (!item) return\n    return (this._headers = Object.keys(item).map(id => ({id})))\n  }\n\n  get itemsSorted () {\n    if (this._itemsSorted) return this._itemsSorted\n    const {items} = this.props\n    const {sorts} = this.state\n    this._itemsSorted = items\n\n    // Multiple Header Sorting according to the order they are given\n    if (hasListValue(sorts)) {\n      // Create new list to avoid mutating original data\n      this._itemsSorted = [...items]\n      const sortKeys = []\n      sorts.forEach(({id, order, sortKey}) => {\n        if (order) sortKeys.push((order < 0 ? '-' : '') + (sortKey ? `${id}.${sortKey}` : id))\n      })\n      this._itemsSorted.sort(by(...sortKeys))\n    }\n\n    return this._itemsSorted\n  }\n\n  expandedByRow = (index) => {\n    const {items: {expanded, expandedByIndex}} = this.state\n    return expandedByIndex[index] != null ? expandedByIndex[index] : expanded\n  }\n\n  UNSAFE_componentWillReceiveProps (next) {\n    const {items, sorts} = this.props\n\n    // Reset if items or sorting if items changed\n    if (!isEqualList(next.items, items)) this._itemsSorted = null\n    if (!isEqual(next.sorts, sorts)) {\n      this._itemsSorted = null\n      this.setState({sorts: next.sorts})\n    }\n\n    // Reset Header definitions if not defined and item structure changed\n    if (\n      !next.headers &&\n      next.items.length &&\n      !isEqual(Object.keys(next.items[0] || {}), Object.keys(items[0] || {}))\n    ) this._headers = null\n  }\n\n  // HANDLERS ------------------------------------------------------------------\n  handleToggleExpandAll = (expanded) => {\n    if (expanded == null) expanded = !this.state.items.expanded\n    const expandedByIndex = {}\n    for (const i in this.state.items.expandedByIndex) {\n      expandedByIndex[i] = expanded\n    }\n    this.setState({\n      items: {\n        ...this.state.items,\n        expandedByIndex,\n        expanded,\n      }\n    })\n  }\n\n  /**\n   * Toggle Table item expansion (row in default layout)\n   * @param {Number|String} [index] - index of item to expand\n   * @param {Number|String} [key] - id of item to expand\n   * @param {String|Number} [value] - of given id `key`, if given, to find item that needs expansion\n   * @param {Boolean} expanded - whether item should be expanded\n   */\n  handleItemExpand = ({key, value, index, expanded}) => {\n    const {items} = this.props\n    value = String(value).toLowerCase()\n    this.setState({\n      items: {\n        ...this.state.items,\n        expandedByIndex: {\n          ...this.state.items.expandedByIndex,\n          [index != null ? index : items.findIndex(i => String(i[key]).toLowerCase() === value)]: expanded\n        }\n      }\n    })\n  }\n\n  handleSort = (id) => {\n    const {onSort} = this.props\n    let sort\n    this._itemsSorted = null\n    this.setState({\n      sorts: this.state.sorts.map(s => {\n        if (s.id === id) {\n          sort = {...s, order: s.order ? (s.order < 0 ? 1 : 0) : -1}\n          return sort\n        }\n        return s\n      })\n    })\n    onSort && onSort(sort)\n  }\n\n  getStickyCellClassName = (styles, className, nextCellStyles) => {\n    if (styles.position === 'sticky') {\n      if (typeof className === 'string' && className.length && !className.includes('sticky')) {\n        className += ' sticky'\n      } else {\n        className = 'sticky'\n      }\n    }\n\n    if (!(nextCellStyles.position === 'sticky')) {\n      className += '-last'\n    }\n\n    return className;\n  }\n\n  // RENDERS -------------------------------------------------------------------\n  renderHeader = ({\n    id,\n    label,\n    children: cell,\n    data,\n    className,\n    style,\n    colSpan,\n    classNameHeader,\n    styleHeader,\n    renderHeader\n  }, i) => {\n    const { translate } = this.props\n    const { sorts } = this.state\n    const hasSort = sorts && !!sorts.find(s => s.id === id)\n    const render = isFunction(cell) ? cell : renderHeader\n    const value = data != null ? data : (cell || label)\n    return (\n      <Table.HeaderCell key={id || i} colSpan={colSpan} className={classNameHeader} style={styleHeader}>\n        <Row className={cn('middle', className, {sort: hasSort})} style={style}\n             onClick={hasSort && this.handleSort.bind(this, id)}>\n          {render\n            ? render(value, id, {className, style}, this)\n            : (typeof cell === 'object' ? cell : <Text className=\"p\">{cell || (label != null ? translate(label) : id)}</Text>)\n          }\n          {hasSort && renderSort(sorts.find(item => item.id === id) || {})}\n        </Row>\n      </Table.HeaderCell>\n    )\n  }\n\n  // Render Rows (in default layout)\n  renderItem = (item, index) => {\n    const {renderItem, renderItemCells, itemClassNames} = this.props\n    let className\n    if (itemClassNames) {\n      className = []\n      itemClassNames.forEach(({id, values}) => {\n        const value = get(item, id)\n        if (value == null) return\n        for (const match in values) {\n          if (match === String(value)) {\n            className.push(values[match])\n            break\n          }\n        }\n      })\n      className = className.length ? className.join(' ') : undefined\n    }\n\n    return (\n      <Fragment key={index}>\n        <Table.Row className={className}>\n          {renderItemCells ? renderItemCells(item, index) : this.headers.map(this.renderItemData.bind(this, item, index))}\n        </Table.Row>\n        {renderItem && this.expandedByRow(index) &&\n          <Table.Row>\n            <Table.Cell colSpan={this.headers.length}>\n              {renderItem(item, index)}\n            </Table.Cell>\n          </Table.Row>\n        }\n      </Fragment>\n    )\n  }\n\n  // Render Rows (in Vertical layout)\n  // @Note: in Vertical layout, the first column in each item is a header\n  renderItemsVertical = (header, index) => {\n    const { additionalCellsStyles } = this.props\n    const items = this.itemsSorted\n    header.styleHeader = additionalCellsStyles[0] || {}\n    header.classNameHeader = this.getStickyCellClassName(header.styleHeader, header.classNameHeader, additionalCellsStyles[1] || {})\n    return (\n      /* `itemClassNames` is not supported yet */\n      <Table.Row key={index}>\n        {this.renderHeader(header, index)}\n        {items.map((item, i) => this.renderItemData(item, i, header))}\n      </Table.Row>\n      /* Vertical layout has no expandable row */\n    )\n  }\n\n  // Render Row Cells (in default layout)\n  renderItemData = (item, index, {id, renderCell, classNameCellWrap = '', classNameCell: className, styleCell: style}) => {\n    // Conditional rendering logic based on given cell data\n    const { additionalCellsStyles } = this.props\n    const cell = get(item, id)\n    const {render: r, data} = cell || {}\n    const render = isFunction(cell) ? cell : (r || renderCell)\n    const value = data != null ? data : cell\n    let content = render ? render(value, index, {className, style, expanded: this.expandedByRow(index)}, this) : cell\n    if ((content == null || content === '') && this.props.showEmptyAs != null) content = this.props.showEmptyAs\n    if (content instanceof Date) {\n      content = getDateStringFromDateObject(content)\n    }\n    const cellStyle = additionalCellsStyles[index+1] || {}\n    const cellClassName = this.getStickyCellClassName(cellStyle, classNameCellWrap, additionalCellsStyles[index+2] || {})\n    return (\n      <Table.Cell key={this.props.vertical ? index : id} className={cellClassName} style={cellStyle}>\n        {typeof content === 'object'\n          ? content\n          : <View className={className} style={style}><Text className=\"p\">{content}</Text></View>\n        }\n      </Table.Cell>\n    )\n  }\n\n  render () {\n    const headers = this.headers\n    if (!headers) return <Placeholder>{'Table has no data!'}</Placeholder>\n    const {\n      fill, className, sorts, onSort, extraHeaders, renderExtraItem, showEmptyAs, vertical, colGroup,\n      items: _, headers: _2, renderItem: _3, renderItemCells: _4, itemClassNames: _5,\n      itemsExpanded: _6, translate: _7, sellStyles: _8, additionalCellsStyles: _9,\n      ...props\n    } = this.props\n    const items = this.itemsSorted\n\n    const tableBody = (\n      <>\n        {vertical ? headers.map(this.renderItemsVertical) : items.map(this.renderItem)}\n        {renderExtraItem && <Table.Row>{renderExtraItem(items)}</Table.Row>}\n      </>\n    )\n\n    return (\n      <ScrollView row classNameInner=\"fill-width\" fill={fill}>\n        <Table className={cn('full-width', className, {vertical})} {...props}>\n          {colGroup && <TableColGroup colGroup={colGroup} />}\n          <Table.Header className=\"font-normal\">\n            {extraHeaders && extraHeaders.map((row, i) => (\n              <Table.Row key={i}>{row.map(this.renderHeader)}</Table.Row>\n            ))}\n            {/* Vertical layout does not have horizontal headers */}\n            {!vertical && <Table.Row>{headers.map(this.renderHeader)}</Table.Row>}\n          </Table.Header>\n          <Table.Body>\n            {this.props.name ? (\n              <FieldArray name={this.props.name}>\n                {({ fields }) => tableBody}\n              </FieldArray>\n            ) : tableBody}\n          </Table.Body>\n        </Table>\n      </ScrollView>\n    )\n  }\n}\n","import React from 'react'\nimport { PropTypes } from 'ui-react-pack'\nimport Tabs from './Tabs'\n\n/**\n * Dynamic List of Tabs - Pure Component.\n */\nexport function TabList ({renderLabel, renderItem, items, ...props}) {\n  return <Tabs\n    {...props}\n    items={items.map((item, i) => ({tab: renderLabel(item, i), content: renderItem(item, i)}))}\n  />\n}\n\nTabList.propTypes = {\n  items: PropTypes.array.isRequired,\n  renderLabel: PropTypes.func.isRequired,\n  renderItem: PropTypes.func.isRequired,\n}\n\nexport default React.memo(TabList)\n","import React, { Component } from 'react'\nimport { type } from 'ui-react-pack'\nimport { Active } from 'ui-utils-pack'\nimport UIRenderWithUISetup from './rules'\n\n/**\n * Component to hold independent UI Render Instance Data\n *\n * @interface:\n *  a. The entire component is a separate instance of UI render\n *  b. Data component can be created via meta.json config, or by uploading a meta.json file.\n *    {\n *      view: 'Data',\n *      kind: 'Id',\n *      data: {\n *        // can be loaded from existing UI\n *        name: 'path.to.data.to.use.as.json'\n *      },\n *      meta: {\n *        view:\n *      }\n *    }\n *\n */\nexport default class Data extends Component {\n  static propTypes = {\n    // Identifier for this type of data.\n    // Data of the same `kind` are grouped into array as list, and used for complex validation (together as group).\n    kind: type.Id.isRequired,\n    // The UI Render Instance containing this Data component\n    instance: type.Object.isRequired,\n    // The Index of this Data component in the array of rendered data for removing itself\n    index: type.NumberOrString,\n    // Data.json to use\n    data: type.Any,\n    // Meta.json to use\n    meta: type.Object,\n    // Data.json to initialize with\n    initialValues: type.Any,\n    // Whether the `name` attribute should use data relative to root UI Render instance, defaults to this instance.\n    rootData: type.Boolean,\n\n    relativePath: type.String,\n    relativeIndex: type.Number,\n  }\n\n  static defaultProps = {\n    data: {},\n    meta: {},\n  }\n\n  render () {\n    const {kind, instance, index, data, meta, initialValues = data, className, style, embedded, useForm} = this.props\n    // Use Active.UIRender to avoid circular import\n    const UIRender = Active.UIRender\n\n    // For 'TableCells' add additional params to generate unique IDs\n    if (meta.view === 'TableCells' || meta.view === 'Data') {\n      meta.relativePath = this.props.relativePath;\n      meta.relativeIndex = this.props.relativeIndex;\n    }\n\n    if (useForm) {\n      return <UIRenderWithUISetup\n        data={data}\n        meta={meta}\n        initialValues={initialValues}\n        form={{kind}}\n        parent={instance}\n        // instance={instance}\n        index={index}\n        embedded={embedded}\n        {...{className, style}}\n      />\n    }\n\n    return <UIRender\n      data={data}\n      meta={meta}\n      initialValues={initialValues}\n      form={{kind}}\n      parent={instance}\n      // instance={instance}\n      index={index}\n      embedded={embedded}\n      {...{className, style}}\n    />\n  }\n}\n\n// =============================================================================\n// NOTES\n/**\n * @strategies:\n *  1. Render all Input as is, with button (configured) duplicating all inputs into new form instance\n *  2. Render Input inside configured Data component as independent UI Render instance\n *     + validation is isolated from the rest of UI\n *     + submission of the entire UI does not submit temporary instance\n *     + easy to understand for end users\n *     + allows uploading file with errors as config, without breaking the rest of UI.\n *  => Choose the 2nd option, because it's architecturally correct.\n */\n// =============================================================================\n","import AutoSave from 'ui-modules-pack/form/views/AutoSave'\nimport { POPUP, popupAlert } from 'ui-modules-pack/popup'\nimport { stateAction } from 'ui-modules-pack/redux'\nimport { FIELD } from 'ui-modules-pack/variables'\nimport React, { PureComponent } from 'react'\nimport { cn } from 'ui-react-pack'\nimport Button from 'ui-react-pack/Button'\nimport PieChart from 'ui-react-pack/charts/PieChart'\nimport { Checkbox } from 'ui-react-pack/Checkbox'\nimport Counter from 'ui-react-pack/Counter'\nimport Dropdown from 'ui-react-pack/Dropdown'\nimport Expand from 'ui-react-pack/Expand'\nimport ExpandList from 'ui-react-pack/ExpandList'\nimport Icon from 'ui-react-pack/Icon'\nimport Image from 'ui-react-pack/Image'\nimport { OK } from 'ui-react-pack/inputs/validationRules'\nimport Json from 'ui-react-pack/JsonView'\nimport Label from 'ui-react-pack/Label'\nimport List from 'ui-react-pack/List'\nimport ProgressSteps from 'ui-react-pack/ProgressSteps'\nimport { renderFloat } from 'ui-react-pack/renders'\nimport Row from 'ui-react-pack/Row'\nimport Space from 'ui-react-pack/Space'\nimport Table from 'ui-react-pack/Table'\nimport Text from 'ui-react-pack/Text'\nimport TooltipPop from 'ui-react-pack/TooltipPop'\nimport View from 'ui-react-pack/View'\nimport { Active, debounce, isList, isNumeric, isString, isTruthy, toFlatList, toJSON } from 'ui-utils-pack'\nimport { ALERT, TIME_DURATION_INSTANT } from 'ui-utils-pack/constants'\nimport { get, hasObjectValue, isEqual, isObject, } from 'ui-utils-pack/object'\nimport { _ } from 'ui-utils-pack/translations'\nimport Render, { mapProps } from '../../ui-render'\nimport { renderField } from './components/renders'\nimport TableView from './components/TableView'\nimport TabList from './components/TabList'\nimport Tabs from './components/Tabs'\nimport Data from './Data'\n\n/**\n * UI RENDERER COMPONENTS SETUP ================================================\n * Map Component props and Methods for recursive rendering\n * =============================================================================\n */\n\nRender.Tooltip = TooltipPop\n\n/**\n * Map UI Render props to final Rendering Component/s\n *\n * @param {String} view - component type (one of FIELD.TYPE values)\n * @param {Array} items - nested child component props\n * @param {Object|Array} data - global data object to be passed down to child components\n * @param {*} _data - local data object to be consumed by the component for rendering\n * @param {Boolean} debug - whether to use debug mode\n * @param {Class} instance - UI Render instance\n * @param {Boolean} relativeData - whether to retrieve values from local `_data`, defaults to global `data`\n * @param {Number|String} relativeIndex - used when component is rendered in array\n * @param {String} relativePath - path used to compute form input \"name\" attribute\n * @param {Object} form - react-final-form FormApi instance\n * @param {String|Object} [showIf] - whether to not render the component if it evaluates to truthy value\n * @param {Function} [Render] - the recursive renderer\n * @param {String} [version] - of the config\n * @param {*} [props] - other component props\n * @returns {JSX.Element|*} React component\n */\nconst RenderComponent = ({\n  view, items, data, _data, debug, form, instance,\n  showIf, relativeData, relativeIndex, relativePath, version,\n  ...props\n}) => {\n  const translate = Active.translate\n  /* General showIf logic */\n  if (showIf != null) {\n    // UI Render should not 'Value Transform' `showIf` attribute\n    if (isString(showIf)) {\n      const __data = get((relativeData !== false && _data) || data, showIf)\n      if (!isTruthy(__data)) return null\n    } else if (hasObjectValue(showIf)) {\n      const {name, relativeData, equal} = showIf\n      let __data;\n      // if (relativePath && typeof relativeIndex !== undefined && name) {\n      if (name) {\n        // Get from form instead of initial data\n        // It is important to get the value from form, because it might have been changed\n        const formData = instance.getAllFormsData();\n        if (relativePath && typeof relativeIndex !== undefined) {\n          __data = get(formData, `${relativePath}[${relativeIndex}].${name}`, undefined)\n        } else {\n          __data = get(formData, name, undefined)\n        }\n      } else {\n        // Get from initial data.\n        // TODO: review this logic. It might be better to get from form instead of initial data\n        __data = (relativeData !== false && !name && _data) || get((relativeData !== false && _data) || data, name)\n      }\n      if (equal !== undefined) {\n        if (!isEqual(__data, equal)) return null\n      } else {\n        if (!isTruthy(__data)) return null\n      }\n    } else if (isObject(showIf)) {\n      if (!isTruthy(_data)) return null\n    }\n  }\n\n  switch (view) {\n    case FIELD.TYPE.DATA:\n      return <Data\n        instance={instance}\n        data={_data || data}\n        {...props}\n        relativeIndex={relativeIndex}\n        relativePath={relativePath}\n      />\n\n    case FIELD.TYPE.COL:\n    case FIELD.TYPE.COL2:\n    case FIELD.TYPE.COL3: {\n      return <View {...props}>{items.map(Render)}</View>\n    }\n\n    case FIELD.TYPE.ROW:\n    case FIELD.TYPE.ROW2: {\n      return <Row {...props}>{items.map(Render)}</Row>\n    }\n\n    case FIELD.TYPE.LIST:\n    case FIELD.TYPE.COL_LIST:\n    case FIELD.TYPE.COL_LIST3: {\n      return <List items={_data} {...props}/>\n    }\n\n    case FIELD.TYPE.ROW_LIST:\n    case FIELD.TYPE.ROW_LIST2: {\n      return <List items={_data} {...props} row/>\n    }\n\n    case FIELD.TYPE.TABLE_CELLS: {\n      const { onDataChanged: _1, ...rest } = props\n      return <>{items.map((item, i) => <Table.Cell key={i} {...rest}>{Render(item, i)}</Table.Cell>)}</>\n    }\n\n    case FIELD.TYPE.AUTO_SUBMIT: {\n      return <AutoSave {...props}/>\n    }\n\n    case FIELD.TYPE.CHECKBOX: {\n      return <Checkbox {...props} translate={translate} />\n    }\n\n    case FIELD.TYPE.EXPAND: {\n      if (props.label != null && props.title == null) {\n        props.title = props.label\n        delete props.label\n      }\n      if (props.name != null && props.title == null) props.title = props.name\n      if (items.length) props.children = () => items.map(Render)\n      return <Expand {...props}/>\n    }\n\n    case FIELD.TYPE.EXPAND_LIST: {\n      return <ExpandList items={_data} {...props}/>\n    }\n\n    case FIELD.TYPE.BUTTON: {\n      if (items.length) props.children = items.map(Render)\n      if (props.label != null && props.children == null) {\n        props.children = props.label\n        delete props.label\n      }\n      return <Button {...props} translate={translate}/>\n    }\n\n    case FIELD.TYPE.COUNTER: {\n      return <Counter {...props}/>\n    }\n\n    case FIELD.TYPE.ICON: {\n      if (items.length) props.children = items.map(Render)\n      return <Icon {...props}/>\n    }\n\n    case FIELD.TYPE.IMAGE: {\n      if (items.length) props.children = items.map(Render)\n      return <Image {...props}/>\n    }\n\n    case FIELD.TYPE.LABEL: {\n      if (items.length) props.children = items.map(Render)\n      return <Label {...props} translate={translate}/>\n    }\n\n    case FIELD.TYPE.PIE_CHART: {\n      const {mapItems, ...prop} = props\n      if (mapItems) _data = mapProps(_data, mapItems, {debug})\n      if (items.length) prop.children = items.map(Render)\n      return <PieChart items={_data} {...prop}/>\n    }\n\n    case FIELD.TYPE.PROGRESS_STEPS: {\n      const steps = items.map(({step, label, content, data, _data, ...info}, i) => {\n        return {\n          ...info,\n          step: isObject(step) ? Render.call(this, {data, _data, debug, form, instance, ...step}, i) : step,\n          label: isObject(label) ? Render.call(this, {data, _data, debug, form, instance, ...label}, i) : label,\n          content: isObject(content) ? Render.bind(this, {data, _data, debug, form, instance, ...content}, i) : content\n        }\n      })\n      return <ProgressSteps items={steps} {...props}/>\n    }\n\n    case FIELD.TYPE.SPACE: {\n      return <Space {...props}/>\n    }\n\n    case FIELD.TYPE.TABLE: {\n      const {extraItems, filterItems, parentItem, group, ...table} = props\n      const additionalCellsStyles = []\n      if (!isList(_data)) _data = []\n\n      // Matrix table headers and data transform\n      if (group) {\n        // `header` must exist as a single object, otherwise there is no way to group tables\n        let {by: {id, label, renderLabel, ...groupByProps} = {}, header, extraHeader = {label: ''}} = group\n        const errorTitle = `Incorrect config for ${view} with {name: \"${props.name}\"}!`\n        if (id == null) popupAlert(errorTitle, `${view}.group.by must have 'id', got '${toJSON(group.by, null, 2)}'`)\n        if (!header || header.id == null) {\n          popupAlert(errorTitle, `${view}.group.header must have 'id', got '${toJSON(header, null, 2)}'`)\n          header = {} // prevent breaking code\n        }\n\n        // First, check data to determine headers\n        const groupsByValue = {}\n        const rowsByCommonValue = {}\n        for (const row of _data) {\n          const {[id]: groupId, [header.id]: commonValue} = row\n          if (groupId != null) groupsByValue[groupId] = groupId\n          if (commonValue != null) rowsByCommonValue[commonValue] = [...(rowsByCommonValue[commonValue] || []), row]\n        }\n        const groupIds = Object.values(groupsByValue)\n        if (groupIds.length) {\n\n          // Transform headers\n          const _headers = (props.headers || [])\n          const newHeaders = toFlatList(groupIds.map(_id => _headers.map(({id, ...h}) => ({id: `${id}_${_id}`, ...h}))))\n          table.headers = [header].concat(newHeaders)\n\n          // Label grouped tables\n          if (label != null && !hasObjectValue(label)) popupAlert(errorTitle,\n            `${view}.group.by.label must resolve to object of labels by ${id} 'value', got '${toJSON(label, null, 2)}'`)\n          const groupHeaders = groupIds.map(id => ({\n            colSpan: _headers.length,\n            label: label ? (renderLabel ? renderLabel(label[id]) : label[id]) : id,\n            ...groupByProps,\n          }))\n          const newExtraHeaders = [\n            [extraHeader].concat(groupHeaders)\n          ]\n          table.extraHeaders = (props.extraHeaders || []).concat(newExtraHeaders)\n\n          // Transform data by grouping them with `commonValue`\n          _data = Object.values(rowsByCommonValue).map(rows => {\n            const item = {}\n            rows.forEach(row => {\n              const {[id]: groupId, [header.id]: commonValue, ..._item} = row\n              item[header.id] = commonValue\n              for (const key in _item) {\n                item[`${key}_${groupId}`] = _item[key]\n              }\n            })\n            return item\n          })\n        }\n      }\n\n      // Mixed array nested table data filtering\n      if (filterItems && parentItem) {\n        _data = _data.filter(item => {\n          return !filterItems.find(filter => {\n            for (const key in filter) {\n              // If mismatch in value found, filter out given item\n              if (get(item, key) !== get(parentItem, filter[key])) return true\n            }\n            return false\n          })\n        })\n      }\n\n      // Table with custom rows\n      if (extraItems) _data = _data.concat(extraItems.map(item => {\n        for (const id in item) {\n          const definition = item[id]\n          if (isObject(definition)) {\n            if ((definition.name && Object.keys(definition).length === 1)) {\n              item[id] = get(data, definition.name)\n            } else if (definition.name && definition.render) {\n              item[id].data = get(data, definition.name)\n            } else if (definition.view) {\n              item[id] = (_, index, props) => Render({debug, ...props, ...definition})\n            }\n          }\n        }\n        return item\n      }))\n\n      if (table.colGroup) {\n        let accumulatedWidth = 0;\n        table.colGroup.forEach(col => {\n          if (col.isFixed && col.style) {\n            additionalCellsStyles.push({\n              left: `${accumulatedWidth}px`,\n              position: 'sticky',\n              zIndex: 1,\n            })\n            accumulatedWidth += parseInt(col.style.minWidth) || 0\n          }\n        })\n      }\n\n      return <TableView\n        items={_data}\n        additionalCellsStyles={additionalCellsStyles}\n        {...table}\n        translate={translate}\n      />\n    }\n\n    case FIELD.TYPE.TABS:\n    case FIELD.TYPE.TAB_LIST: {\n      const {childrenBeforeTabs, childrenAfterTabs} = props\n      if (hasObjectValue(childrenBeforeTabs))\n        props.childrenBeforeTabs = Render.bind(this, {data, _data, debug, form, instance, ...childrenBeforeTabs})\n      if (hasObjectValue(childrenAfterTabs))\n        props.childrenAfterTabs = Render.bind(this, {data, _data, debug, form, instance, ...childrenAfterTabs})\n\n      switch (view) {\n        case FIELD.TYPE.TAB_LIST:\n          return <TabList items={_data} {...props}/>\n\n        case FIELD.TYPE.TABS:\n        default:\n          return <Tabs items={items.map(({tab, content, _data, data}, i) => ({\n            tab: isObject(tab) ? Render.call(this, {data, _data, debug, form, instance, ...tab}, i) : tab,\n            content: isObject(content) ? Render.bind(this, {\n              data, _data, debug, form, instance, ...content\n            }, i) : content,\n          }))} {...props}/>\n      }\n    }\n\n    case FIELD.TYPE.TEXT:\n    case FIELD.TYPE.TITLE: {\n      if (props.label != null && props.children == null) {\n        props.children = props.label\n        delete props.label\n      }\n      if (items.length) {\n        props.children = items.map(Render)\n      } else if (props.renderLabel) {\n        props.children = props.renderLabel(props.children)\n        delete props.renderLabel\n      }\n      if (view === FIELD.TYPE.TITLE) props.className = cn('h3', props.className)\n      return <Text {...props} translate={translate}/>\n    }\n\n    case FIELD.TYPE.TOOLTIP: {\n      if (props.label != null && props.content == null) {\n        props.content = props.label\n        delete props.label\n      }\n      if (props.renderLabel) {\n        props.content = props.renderLabel(props.content)\n        delete props.renderLabel\n      }\n      if (items.length) {\n        props.children = items.map(Render)\n      } else if (isObject(props.children)) {\n        props.children = Render({debug, ...props.children})\n      }\n      return <TooltipPop inverted {...props}/>\n    }\n\n    case FIELD.TYPE.POPUP: {\n      if (!instance.popupById) instance.popupById = {}\n      const {id, ...popup} = props\n      /**\n       * Popup is a special case, it does not render content to the DOM immediately, only as VirtualDOM.\n       * When user clicks on a button that opens popup, the VirtualDOM is inserted to Popup component for rendering.\n       * @withForm needs to wrap the entire content to provide Form field instance using existing form.\n       */\n      class PopupContent extends PureComponent {\n        render () {\n          return items.map(Render)\n        }\n      }\n\n      instance.popupById[id] = {...popup, content: <PopupContent/>}\n      return null\n    }\n\n    default: {\n      if (items.length) props.children = items.map(Render)\n      const {mapOptions, removable, autoSubmit, expanded: _1, ...input} = props\n      const {readonly, disabled} = data || {}\n      if (mapOptions) input.options = mapProps(input.options || [], mapOptions, {debug})\n\n      // Resolve Input name dynamic path\n      if (relativeData !== false && relativePath != null && input.name) {\n        const uniqueIdentificator = `${relativePath}${relativeIndex != null ? `[${relativeIndex}]` : ''}.${input.name}`\n        input.id = uniqueIdentificator\n        input.name = uniqueIdentificator\n      }\n\n      // Render Dropdown separately, to avoid triggering form value changes\n      if (view === FIELD.TYPE.DROPDOWN) {\n        // proxy onChange to prevent event sent as second argument\n        const {onChange, ...dropdown} = input\n        return <Dropdown\n          lazyLoad={false}\n          onChange={onChange ? (value => onChange(value)) : undefined}\n          {...dropdown}\n          translate={translate}\n        />\n      }\n\n      // Form value changing fields should have 'Input' as view\n      if (view === FIELD.TYPE.INPUT) {\n        // eslint-disable-next-line default-case\n        switch (input.type) {\n          case 'select':\n            view = FIELD.TYPE.SELECT\n            break\n          case 'slider':\n            view = FIELD.TYPE.SLIDER\n            break\n          case 'toggle':\n            view = FIELD.TYPE.TOGGLE\n            break\n          case 'file':\n            view = FIELD.TYPE.UPLOAD\n            input.className = cn('input--wrapper', input.className)\n            break\n        }\n        if (input.icon && input.icon.view) input.icon = Render({debug, ...input.icon})\n      }\n\n      // Auto submit on changes\n      if (autoSubmit) {\n        const {onChange} = input\n        const submit = debounce(instance.submit, autoSubmit.delay >= 0 ? autoSubmit.delay : TIME_DURATION_INSTANT)\n        input.onChange = (value) => {\n          onChange && onChange(value)\n          submit()\n        }\n      }\n\n      // Input clearing\n      if (removable) {\n        const {onRemove, onClickIcon} = input\n        input.icon = 'delete'\n        input.classNameIcon = 'button circle small transparent appear-on-hover'\n        input.onClickIcon = (...args) => {\n          // todo: for some reason Dropdown/Select have `form` undefined\n          form.change(input.name, null)\n          onRemove && onRemove(input.name)\n          autoSubmit && input.onChange(null)\n          onClickIcon && onClickIcon(...args)\n        }\n      }\n\n      // Validate type=\"number\" with min/max\n      if (input.type === 'number') {\n        const {validate, min, max} = input\n        if (min != null || max != null) input.validate = (value) => {\n          if (min != null && value < min) return `Must be minimum ${min}`\n          if (max != null && value > max) return `Must be maximum ${max}`\n          return (validate && validate(value)) || OK\n        }\n      }\n\n      // Always format dates\n      // if (input.type === 'date' && input.format) {\n      //   input.formatOnBlur = false // this is true by default to prevent cursor jumping\n      // }\n\n      return renderField({view, ...input, ...readonly && {readonly}, ...disabled && {disabled}, translate})\n    }\n  }\n}\n\n/**\n * Render Value Function Getter\n *\n * @param {String} Name - one of FIELD.TYPE definitions\n * @returns {Function} renderer - that takes value as the first argument, and renders value in desired format\n */\nRender.Method = function RenderMethod (Name) {\n  switch (Name) {\n    case FIELD.RENDER.CURRENCY:\n      return (val, index, {id, decimals = 2, symbol = '$', className, style, ...props} = {}) => (isNumeric(val)\n          ? <Row className={className} style={style}>\n            <Text className=\"margin-right-smallest\">{symbol}</Text>\n            {renderFloat(val, decimals, props)}\n          </Row>\n          : null\n      )\n    case FIELD.RENDER.DOUBLE5:\n      return (val, index, {id, decimals, ...props} = {}) => isNumeric(val) ? renderFloat(val, 5, props) : null\n    case FIELD.RENDER.FLOAT:\n      return (val, index, {id, decimals, ...props} = {}) => isNumeric(val) ? renderFloat(val, decimals, props) : null\n    case FIELD.RENDER.PERCENT:\n      return (val, index, {id, decimals, className, style, ...props} = {}) => (isNumeric(val)\n          ? <Row className={className} style={style}>\n            {renderFloat(Number(val) * 100, decimals, props)}\n            <Text className=\"margin-left-smallest\">%</Text>\n          </Row>\n          : null\n      )\n    case FIELD.RENDER.TITLE_n_INPUT:\n      return (val, index, {id, ...props} = {}) => <Row {...props}><Text>{val}</Text></Row>\n    case FIELD.RENDER.STRING:\n      return (val) => {\n        return <Text>{val}</Text>\n      }\n    case FIELD.RENDER.DATE: {\n      return (val) => {\n        if (val) {\n          const date = (new Intl.DateTimeFormat()).format(new Date(val))\n          return <Text>{date}</Text>\n        }\n        return null\n      }\n    }\n    default:\n      return (val) => <Text>{val}</Text>\n  }\n}\n\n/**\n * Error handling when something breaks because of mis-configured meta.json\n */\nRender.onError = ({err, errInfo, props}) => Active.store.dispatch(stateAction(POPUP, ALERT, {\n  items: [\n    {\n      title: `${Render.name} Error!`,\n      content: <View>\n        <Text className=\"h5\">{_.ERROR_MESSAGE}</Text>\n        <Text className=\"p\">{String(err)}</Text>\n        <Text className=\"h5 padding-top\">{_.DATA_CAUSING_ERROR}</Text>\n        <View style={{textAlign: 'left'}}>\n          <Json data={props}/>\n        </View>\n        <Text className=\"h5 padding-top\">{_.ERROR_INFO}</Text>\n        <View style={{textAlign: 'left'}}>\n          <Json data={errInfo}/>\n        </View>\n      </View>\n    }\n  ]\n}))\n\nRender.Component = RenderComponent","import React, { useContext } from 'react'\nimport { Active } from 'ui-utils-pack'\nimport { SOUND } from '../files'\n\n/**\n * Add Accessibility Support to React Component\n *\n * @param {Object} props - React render props\n * @param {Object} [sound] - new Audio(URL) file\n * @returns {Object} props - mutated with necessary accessibility attributes\n */\nexport function accessibilitySupport (props, sound = Active.SETTINGS.HAS_SOUND && SOUND.TOUCH) {\n  /* Remove key press and click event if necessary */\n  if (props.tabIndex === -1) {\n    delete props.onKeyPress\n    delete props.onClick\n  } else {\n    const {onClick, onKeyPress, tabIndex} = props\n    if (sound && onKeyPress) props.onKeyPress = onPressHoc(onKeyPress, sound)\n    if (onClick) {\n      if (sound) props.onClick = onPressHoc(onClick, sound)\n      if (tabIndex == null) props.tabIndex = 0  // add keyboard accessibility for onClick\n      if (!onKeyPress) props.onKeyPress = (event) => (event.key === 'Enter' && props.onClick(event))\n    } else {\n      delete props.onClick\n    }\n  }\n  return props\n}\n\n/**\n * Higher Order Function Wrapper for onClick event to play sound\n * @example:\n *    <Button onClick={onPressHoc(onClick, sound)}/>\n *\n * @param {Function} onClick\n * @param {Object} [sound] - new Audio(URL) file object\n * @returns {Function} onPress - callback\n */\nexport function onPressHoc (onClick, sound) {\n  return function onPress () {\n    if (sound) sound.play()\n    onClick && onClick(...arguments)\n  }\n}\n\n/**\n * React Component Context Decorator\n */\nexport function withContext (Component) {\n  return function ContextWrapper (props) {\n    const context = useContext(UIContext)\n    return <Component {...context} {...props}/>\n  }\n}\n\n/**\n * React Component Timer Decorator to clearTimeout() and clearInterval() automatically on componentWillUnmount()\n * @example:\n *    @withTimer\n *    class Homepage extends Component {\n *      animate = () => {\n *        this.setTimeout(this.props.animate, 500)\n *        this.setInterval(this.props.refresh, 500)\n *      }\n *    }\n *\n * @param {Object} Class - to be decorated\n */\nexport function withTimer (Class) {\n  const componentWillUnmount = Class.prototype.componentWillUnmount\n\n  Class.prototype.setTimeout = function () {\n    if (!this.timers) this.timers = []\n    this.timers.push(setTimeout(...arguments))\n  }\n\n  Class.prototype.setInterval = function () {\n    if (!this.intervals) this.intervals = []\n    this.intervals.push(setInterval(...arguments))\n  }\n\n  Class.prototype.clearTimer = function () {\n    if (this.timers) this.timers.forEach(clearTimeout)\n    if (this.intervals) this.intervals.forEach(clearInterval)\n  }\n\n  Class.prototype.componentWillUnmount = function () {\n    this.clearTimer()\n    if (componentWillUnmount) componentWillUnmount.apply(this, arguments)\n  }\n\n  return Class\n}\n\nexport const UIContext = React.createContext({})\n","import { __DEV__, Active } from './_envs.js'\nimport { isList } from './array.js'\nimport { fromJSON, toJSON } from './codec.js'\nimport { ADD, DELETE, GET, SET } from './constants.js'\nimport { enumCheck } from './function.js'\nimport { log } from './log.js'\nimport { update } from './object.js'\n\n/**\n * STORAGE FUNCTIONS ===========================================================\n * =============================================================================\n */\n\nconst hasLocalStorage = typeof localStorage !== 'undefined'  // eslint-disable-line\n\n/**\n * Closure Function to Store Data in Memory (RAM)\n *\n * @param {Object|Array = Object} [initValue] - initialized value\n * @return {function(ACTION, key, value)} - to store or retrieve data in memory\n */\nexport function memoryCache (initValue = {}) {\n  return function memoryCache (ACTION, key, value) {\n    if (ACTION === GET) return initValue[key]  // eslint-disable-line\n    if (ACTION === SET) return initValue[key] = value  // eslint-disable-line\n    if (ACTION === DELETE) return delete initValue[key]  // eslint-disable-line\n  }\n}\n\n/**\n * Perform fastest possible cache in RAM\n *\n * @param {string} ACTION - one of GET, SET, or DELETE\n * @param {string} key - stored value's key identifier\n * @param {*} value - value to store\n */\nexport function performCache (ACTION, key, value) {\n  if (ACTION === GET) return performCache.cache[key]  // eslint-disable-line\n  if (ACTION === SET) return performCache.cache[key] = value  // eslint-disable-line\n  if (ACTION === DELETE) return delete performCache.cache[key]  // eslint-disable-line\n}\nperformCache.cache = {}\n\n/**\n * Perform localStorage (for the Web), node-persist (for Node.js) or AsyncStorage (for React Native)\n *\n * @setup (for backend):\n *   if (!Active.Storage) {\n *     Active.Storage = require('node-persist')\n *     performStorage.init() // initiate local storage as async method to avoid blocking concurrent processes\n *   }\n * @example:\n *    performStorage(SET, 'token', 'Wait_for_it___Legendary_Genius')\n *\n * @NOTE:\n *  AsyncStorage takes 5 milliseconds delay on average for each storage operation, and can add up.\n *  Store in state instead, for non-persistent data, because it is much faster and synchronous.\n *\n * @param {string} ACTION - one of GET, SET, DELETE or ADD\n * @param {string} storageKey - stored value's key identifier\n * @param {*} value - value to store\n * @param {Array|Object} initialValue - used for ADD ACTION when saving the first time\n * @return {*} - Synchronous/Asynchronous promise result of Local Storage (or stored value for GET action)\n */\nexport function performStorage (ACTION, storageKey, value = null, initialValue = []) {\n  /* ADD action abstraction */\n  if (ACTION === ADD) {\n    if (performStorage.isAsync) {\n      return performStorage(GET, storageKey)\n        .then(value => value || initialValue)\n        .then(oldData => performStorage(SET, storageKey, isList(oldData) ? oldData.concat(value) : update(oldData, value)))\n    }\n    const oldData = performStorage(GET, storageKey) || initialValue\n    return performStorage(SET, storageKey, isList(oldData) ? oldData.concat(value) : update(oldData, value))\n  }\n\n  /* SERVER (or missing localStorage) */\n  if (!hasLocalStorage) return Active.Storage[performStorage.toServer[ACTION]](storageKey, value)\n\n  /* CLIENT */\n  enumCheck([GET, SET, DELETE], ACTION, this)\n  const args = [storageKey]\n  if (value != null) args.push(toJSON(value))\n  let result = localStorage[performStorage.toClient[ACTION]](...args)\n\n  // Storage Retrieval\n  if (GET === ACTION && result) result = fromJSON(result)  // Deserialize data\n\n  if (!__DEV__) return result\n\n  // Development Logging\n  log(`STORAGE -> ${ACTION}: ${storageKey} as:`, `color: teal`, result || value)\n  return result\n}\n\nperformStorage.toClient = {\n  [GET]: 'getItem',\n  [SET]: 'setItem',\n  [DELETE]: 'removeItem'\n}\nperformStorage.toServer = {\n  [GET]: 'getItem',\n  [SET]: 'setItem',\n  [DELETE]: 'removeItem'\n}\nperformStorage.toServerSync = {\n  [GET]: 'getItemSync',\n  [SET]: 'setItemSync',\n  [DELETE]: 'removeItemSync'\n}\n// Setup Asynchronous Local Storage\nperformStorage.init = function (...args) {\n  performStorage.isAsync = true\n  return Active.Storage.init(...args)\n}\n// Setup Synchronous Local Storage (not recommended)\nperformStorage.initSync = function (...args) {\n  performStorage.toServer = performStorage.toServerSync\n  return Active.Storage.initSync(...args)\n}\n\n","import { stateAction } from 'ui-modules-pack/redux'\nimport { call, delay, put, race, select, take } from 'redux-saga/effects'\nimport { ERROR, hasListValue, hasObjectValue, isInCollection, SUCCESS, TIMEOUT, toUpperCase, VOID } from 'ui-utils-pack'\nimport { apiAction, apiActionResultsType, apiActionType, fetchToCrud } from '../actions'\nimport { CLEAR_ACTIONS_PENDING_NETWORK, HTTP_401_UNAUTHORIZED, NETWORK, REQUEST_TIMEOUT, } from '../constants'\nimport { actionsPendingNetwork } from '../selectors'\n\n/**\n * ASYNC TASK HELPERS ==========================================================\n * =============================================================================\n */\n\n/* Resume API Actions Pending Valid State */\nexport function * resumeActionsPending (type) {\n  /**\n   * @param {string} type - one of AUTH, LOCATION, or NETWORK;\n   */\n  let actionsSelector\n  let CLEAR_ACTION\n\n  switch (type) {\n    // case AUTH:\n    //   actionsSelector = actionsPendingAuth\n    //   CLEAR_ACTION = CLEAR_ACTIONS_PENDING_AUTH\n    //   break\n    //\n    // case LOCATION:\n    //   actionsSelector = actionsPendingLocation\n    //   CLEAR_ACTION = CLEAR_ACTIONS_PENDING_LOCATION\n    //   break\n\n    case NETWORK:\n      actionsSelector = actionsPendingNetwork\n      CLEAR_ACTION = CLEAR_ACTIONS_PENDING_NETWORK\n      break\n\n    default:\n      return\n  }\n\n  const actionsPending = yield select(actionsSelector)\n\n  if (hasListValue(actionsPending)) {\n    for (const action of actionsPending) {\n      // Dispatch each pending action\n      yield put(action)\n    }\n\n    // Clear all actions from state to prevent recursive loop (must be called last)\n    yield put(stateAction(CLEAR_ACTION))\n  }\n}\n\n/**\n * Subscribe to all API Request results\n * (optionally resubscribe once on HTTP 401 response)\n *\n * @example\n const {payload = {}, meta: {result} = {}} = yield call(subscribeToApiActionResults, URL, GET, meta)\n if (result === SUCCESS) return payload\n *\n * @return {Object} - action with payload and meta data (payload may not exist on TIMEOUT/VOID results)\n */\nexport function * subscribeToApiResults (URL, ACTION, meta = null, resubscribe = false) {\n  /* Match specific action with given meta data */\n  if (hasObjectValue(meta)) {\n    const listener = race({\n      success: take(action => isMatchingApiActionType(action, URL, ACTION, SUCCESS, meta)),\n      error: take(action => isMatchingApiActionType(action, URL, ACTION, ERROR, meta)),\n      timeout: take(action => isMatchingApiActionType(action, URL, ACTION, TIMEOUT, meta)),\n      void: delay(REQUEST_TIMEOUT + 100)  // in case API request was not called\n    })\n    let response = yield listener\n\n    // Ignore the first HTTP 401 Unauthorised Response to retry with Token Refresh flow\n    if (resubscribe && response.error) {\n      const {error: {payload: {status} = {}} = {}} = response\n      if (status === HTTP_401_UNAUTHORIZED) response = yield listener  // Re-subscribe\n    }\n\n    return response.success || response.error || response.timeout || {meta: {result: VOID}}  // Return action\n  }  // eslint-disable-line\n\n  /* Match generic action */\n  else {\n    const listener = race({\n      action: take(apiActionResultsType(URL, ACTION)),\n      void: delay(REQUEST_TIMEOUT + 100)  // in case API request was not called\n    })\n    let response = yield listener\n\n    // Ignore the first HTTP 401 Unauthorised Response to retry with Token Refresh flow\n    if (resubscribe && response.action) {\n      const {payload: {status} = {}, meta: {result} = {}} = response.action\n      if (result === ERROR && status === HTTP_401_UNAUTHORIZED) response = yield listener  // Re-subscribe\n    }\n\n    return response.action || {meta: {result: VOID}}  // Return action\n  }\n}\n\n/**\n * Async Fetch Request Task that always resolves with predictable result\n * @example:\n *    const {payload = {}, meta: {result} = {}} = await runTask(fetchFlow, {url, payload: {params: {q: 'query'}}})\n *\n * @returns {IterableIterator<*>} {payload = {}, meta: {result} = {}} - result can be one of API_RESULTS, or VOID\n */\nexport function * fetchFlow ({url, payload, method = 'GET', meta: {headers, ...meta}}) {\n  const ACTION = fetchToCrud[toUpperCase(method)]\n  // noinspection JSCheckFunctionSignatures\n  yield put(apiAction(url, ACTION, payload, {headers, ...meta}))\n  return yield call(subscribeToApiResults, url, ACTION, meta)\n}\n\n/**\n * Check if Action is of API Action Type with Matching Result\n *\n * @param {object} action - Flux Standard Action to check\n * @param {string} RESULT - API request response type\n * @return {bool} - true if it is an API Action\n */\nexport function isApiActionType (action, RESULT = SUCCESS) {\n  const {type, meta = {}} = action\n  return (meta.result === RESULT) && (/^http/i.test(type))\n}\n\nexport function isApiActionTypeSuccess (action) {\n  return isApiActionType(action, SUCCESS)\n}\n\nexport function isApiActionTypeTimeout (action) {\n  return isApiActionType(action, TIMEOUT)\n}\n\nexport function isApiActionTypeError (action) {\n  return isApiActionType(action, ERROR)\n}\n\n/**\n * Check if Action is a Matching API Action Type with given Result and Meta data\n * (for subscribing to the exact apiAction).\n *\n * @param {object} action - Flux Standard Action to check against\n * @param {string} URL - API request URL\n * @param {string} ACTION - API request method type\n * @param {string} RESULT - API request response type\n * @param {Object} meta - API meta data to match (with include comparison)\n * @return {bool} - true if it's a matching API Action\n */\nexport function isMatchingApiActionType (action, URL, ACTION, RESULT, meta) {\n  return action.type === apiActionType(URL, ACTION, RESULT) && isInCollection([action.meta], meta)\n}\n","import { stateActionType } from 'ui-modules-pack/redux/actions'\nimport {\n  __DEV__,\n  CREATE,\n  DELETE,\n  ERROR,\n  GET,\n  ID,\n  interpolateString,\n  isInList,\n  LIST,\n  performStorage,\n  REQUEST,\n  RESULT_SEPARATOR,\n  SEPARATOR,\n  SET,\n  swapKeyWithValue,\n  UPDATE,\n  warn\n} from 'ui-utils-pack'\nimport { API, API_ACTIONS, API_CALL, API_RESULTS, NETWORK, STORAGE_KEY_TOKEN } from './constants'\n\n/**\n * ACTION CREATORS =============================================================\n * =============================================================================\n */\n\n/**\n * API Fetch Action Creator.\n *\n * @param {string} URL - API url to request, can have `{id}` placeholder\n *  -> If `id` attribute provided in payload without placeholder, it is appended to endpoint with preceding slash.\n * @param {string} [ACTION = GET] - request action, one of the API_ACTIONS constants\n * @param {object} [payload] - optional, request options\n *  -> payload.params will be converted to query string parameters\n *  -> payload.body will be JSON stringified automatically if necessary\n *  -> Example: {id: 7, params: {limit: 3}} - id `7` will be added to request endpoint, and limit response to `3` results\n * @param {Object} [meta] - optional, request meta data\n *  -> meta.url object will be used for endpoint string interpolation with matching `{key}` placeholders\n *  -> Example: {url: {'{currency}': BTC} } - endpoint `api.com/exchange/{currency}` will turn to `api.com/exchange/BTC`\n *  -> Example: {authenticate: true, callError: false} - request with token, and do not dispatch Error action\n * @returns {Object} - with [API_CALL} key as Flux Standard Action (to be consumed by apiMiddleware).\n */\nexport function apiAction (URL, ACTION = GET, payload = {}, meta = {}) {\n  if (!URL) throw Error(`${this.name}() expects URL argument, got ${URL}`)\n\n  // Add ID to the url if ID is provided (.replace() will clone the string)\n  let url = URL\n  if (payload && payload.id) url = URL.includes(ID) ? URL.replace(ID, payload.id) : `${URL}/${payload.id}`\n\n  // Check and Interpolate url string if necessary\n  url = interpolateString(url, meta.url, {formatKey: '{key}', name: URL})\n\n  return {\n    [API_CALL]: {\n      type: apiActionType(URL, ACTION),  // -> if `type` is undefined, ensure apiMiddleware is registered in store\n      payload: {url, ...payload},\n      meta: {\n        method: crudToFetch[ACTION],  // -> will be overridden if `method` is provided explicitly\n        ...meta\n      }\n    }\n  }\n}\n\n/**\n * API Fetch Action Creator for Tests.\n * Wraps API_CALL action dispatch inside Promise to test in Jest.\n * (to be dispatched with store created using `redux-mock-store` library)\n *\n * @example\n * ```\n * return store.dispatch(apiActionTest(API_TEST_URL, GET, null, { authenticate: false }))\n *  .then(() => {\n *    const calledActions = store.getActions();\n *    expect(calledActions.length).toBe(2);\n *    expect(calledActions[0].type).toEqual(apiActionType(API_TEST_URL, GET, REQUEST));\n *    expect(calledActions[1].type).toEqual(apiActionType(API_TEST_URL, GET, SUCCESS));\n *  });\n * ```\n *\n * @params - same as apiAction() method\n * @returns {function(*)} - function that takes `dispatch` as argument and returns resolved Promise\n */\nexport function apiActionTest (URL, ACTION, payload = {}, meta = {}) {\n  return (dispatch) => {\n    dispatch(apiAction(URL, ACTION, payload, meta))\n\n    // Delay assertion to allow result action to be dispatched\n    return new Promise((resolve) => {\n      setTimeout(resolve, 1)  // 1 ms is enough\n    })\n  }\n}\n\n/**\n * API Fetch Action Type Creator.\n *\n * @param {string} URL - API url to request, can have `{id}` placeholder/s for string interpolation\n * @param {string} ACTION - request action, one of the API_ACTIONS constants\n * @param {string|null} RESULT - request result, one of the API_RESULTS constants\n * @returns {string} - API action type\n */\nexport function apiActionType (URL, ACTION = GET, RESULT = null) {\n  if (__DEV__) {\n    if (ACTION && !isInList(API_ACTIONS, ACTION)) {\n      warn(new TypeError(`${API} action must be one of ${API_ACTIONS}`))\n    }\n\n    if (RESULT && !isInList(API_RESULTS, RESULT)) {\n      warn(new TypeError(`${API} result must be one of ${API_RESULTS}`))\n    }\n  }\n\n  return URL + SEPARATOR + ACTION + (RESULT ? RESULT_SEPARATOR + RESULT : '')\n}\n\n/**\n * Multiple API request Action Types Creator.\n * (For Async Tasks - Sagas to Subscribe to)\n *\n * @NOTE:\n * See documentation for apiActionType() method\n *\n * @param {String} URL - API request URL to subscribe to\n * @param {Array} ACTIONS - list of request actions to subscribe to (i.e. [GET, CREATE, LIST, DELETE])\n * @param {String} [RESULT] - the same result for given actions (i.e. SUCCESS)\n * @returns {Array} - list of different API action types with the same result\n */\nexport function apiActionsType (URL, ACTIONS, RESULT = null) {\n  const typeList = []\n\n  ACTIONS.forEach(ACTION => {\n    typeList.push(apiActionType(URL, ACTION, RESULT))\n  })\n\n  return typeList\n}\n\n/**\n * Multiple API request Action Type Results Creator.\n * (For Async Tasks - Sagas to Subscribe to)\n *\n * @NOTE:\n * See documentation for apiActionType() method\n *\n * @param {string} URL - API request URL to subscribe to\n * @param {String} ACTION - request action to subscribe to (i.e. GET)\n * @param {Array} [RESULTS] - list of request results for given action (i.e. [SUCCESS, ERROR, TIMEOUT, CANCEL])\n * @returns {Array} - list of the same API action with different results\n */\nexport function apiActionResultsType (URL, ACTION, RESULTS = API_RESULTS) {\n  const resultList = [stateActionType(NETWORK, ERROR)]  // Catch NETWORK ERROR use case by default\n\n  RESULTS.forEach(RESULT => {\n    if (RESULT !== REQUEST) resultList.push(apiActionType(URL, ACTION, RESULT))\n  })\n\n  return resultList\n}\n\n/**\n * Multiple API URLs request Action Type Creator.\n * (For Async Tasks - Sagas to Subscribe to)\n *\n * @NOTE:\n *  - FASTER than having individual subscriptions\n *  - See documentation for apiActionType() method\n *\n * @example:\n takeEvery(apiActionTypeURLList([\n API_INFO,\n API_TICKERS,\n API_ORDERS,\n ], GET, SUCCESS), tradeUpdate)\n *\n * @param {Array} URLS - list of different API request URLs to subscribe to\n * @param {String} ACTION -  request action to subscribe to (i.e. GET)\n * @param {String} [RESULT] - request result for given action (i.e. SUCCESS)\n * @returns {Array} - list of different API action types with the same result\n */\nexport function apiActionURLsType (URLS, ACTION, RESULT = null) {\n  const typeList = []\n\n  URLS.forEach(URL => {\n    typeList.push(apiActionType(URL, ACTION, RESULT))\n  })\n\n  return typeList\n}\n\n/**\n * API Standard Flux Action Creator\n */\nexport function createAction ({type, payload, meta}, RESULT) {\n  return {\n    type: type + (RESULT ? RESULT_SEPARATOR + RESULT : ''),\n    payload,\n    meta: {\n      ...meta,\n      result: RESULT\n    }\n  }\n}\n\n/**\n * API Helper Class to Perform Token Storage\n */\nexport default class Api {\n  static storeToken (token) {\n    if (!token) throw new Error(`${API} expects token, got ${token}`)\n    return performStorage(SET, STORAGE_KEY_TOKEN, token)\n  }\n\n  static getToken () {\n    return performStorage(GET, STORAGE_KEY_TOKEN)\n  }\n\n  static clearToken () {\n    return performStorage(DELETE, STORAGE_KEY_TOKEN)\n  }\n}\n\n/**\n * Convert API CRUD ACTION to RESTFul Request Method.\n *\n * @Rationale:\n * encapsulate away the RESTFul implementation,\n * because the API can be GraphQL or something else.\n */\nexport const crudToFetch = {\n  [LIST]: 'GET',\n  [GET]: 'GET',\n  [CREATE]: 'POST',\n  [UPDATE]: 'PATCH',\n  [DELETE]: 'DELETE',\n}\nexport const fetchToCrud = swapKeyWithValue(crudToFetch)\n","export const nicinabox = {\n  scheme: 'nicinabox',\n  author: 'nicinabox (http://github.com/nicinabox)',\n  base00: 'rgba(0, 0, 0, 0)', // modified to match site's background\n  base01: '#3C444F',\n  base02: '#4F5A65',\n  base03: '#BEBEBE',\n  base04: '#b0b0b0', // based on ocean theme\n  base05: '#d0d0d0', // based on ocean theme\n  base06: '#FFFFFF',\n  base07: '#f5f5f5', // based on ocean theme\n  base08: '#fb9fb1', // based on ocean theme\n  base09: '#FC6D24',\n  base0A: '#ddb26f', // based on ocean theme\n  base0B: '#A1C659',\n  base0C: '#12cfc0', // based on ocean theme\n  base0D: '#6FB3D2',\n  base0E: '#D381C3',\n  base0F: '#deaf8f'  // based on ocean theme\n}\n\nexport default nicinabox\n","import classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport JsonTree from 'react-json-tree' // do not use react-json-view because it breaks with recursive JSON and in Node.js\nimport View from '../View'\nimport defaultTheme from './themes'\n\n/**\n * Json nested Object Renderer - Pure Component.\n *\n * @param {Object|Array} data - collection to render\n * @param {Boolean} [inverted] - whether to render inverse background color\n * @param {Boolean} [expanded] - whether to expand all nested nodes\n * @param {Object} [theme] - color definitions\n * @param {String} [className] - css class name\n * @param {Object} [style] - css styles\n * @param {Boolean} [fill] - css styles\n * @param {*} props - other attributes to pass to `<div></div>`\n * @returns {Object} - React Component\n */\nexport function JsonView ({\n  data = {},\n  inverted = false,\n  expanded = false,\n  theme = defaultTheme,\n  className,\n  style,\n  fill,\n  ...props\n}) {\n  if (expanded) props.shouldExpandNode = () => true\n  return (\n    <View className={classNames('json-tree', className, {fill})} style={style}>\n      <JsonTree hideRoot invertTheme={!inverted} theme={theme} data={data} {...props} />\n    </View>\n  )\n}\n\nJsonView.propTypes = {\n  data: PropTypes.any.isRequired, // JSON data to show\n}\n\nexport default React.memo(JsonView)\n","import selector from 'ui-utils-pack/selectors'\nimport { POPUP, POPUP_ALERT, POPUP_CONFIRM, POPUP_ERROR } from './constants'\n\n/**\n * STATE SELECTORS =============================================================\n * Memoized Functions - to retrieve specific branches of the app state\n * =============================================================================\n */\n\n@selector(POPUP)\nexport default class select {\n\n  static activePopups = () => [\n    state => state[POPUP].data.activePopups,\n    (val) => val\n  ]\n\n  static alert = () => [\n    state => state[POPUP].data[POPUP_ALERT],\n    (val) => val\n  ]\n\n  static confirm = () => [\n    state => state[POPUP].data[POPUP_CONFIRM],\n    (val) => val\n  ]\n\n  static error = () => [\n    state => state[POPUP].data[POPUP_ERROR],\n    (val) => val\n  ]\n\n  static ui = () => [\n    state => state[POPUP].ui,\n    val => val || {}\n  ]\n}\n\n","import PropTypes from 'prop-types'\n\n/**\n * PROPTYPES PROXY =============================================================\n * For clear semantic meaning without documentation\n * =============================================================================\n */\n\nexport const type = {}\n\n/* Common types */\ntype.Any = PropTypes.any\ntype.Boolean = PropTypes.bool\ntype.Degree = PropTypes.number\ntype.Decimal = PropTypes.number // precision decimal points count\ntype.Enum = PropTypes.oneOf\ntype.File = PropTypes.object // File object\ntype.Float = PropTypes.number\ntype.Fraction = PropTypes.number // between 0 - 1\ntype.GetterString = PropTypes.string // Javascript getter function\ntype.Id = PropTypes.string\ntype.Int = PropTypes.number\ntype.List = PropTypes.array\ntype.ListOf = PropTypes.arrayOf\ntype.Method = PropTypes.func\ntype.Milliseconds = PropTypes.number\ntype.Mm = PropTypes.number // millimeter\ntype.Node = PropTypes.object\ntype.Number = PropTypes.number\ntype.NumberOrString = PropTypes.oneOfType([PropTypes.string, PropTypes.number])\ntype.Object = PropTypes.object\ntype.ObjectOf = PropTypes.objectOf\ntype.Of = PropTypes.shape\ntype.OneOf = (...types) => PropTypes.oneOfType(types)\ntype.Promise = PropTypes.shape({\n  then: PropTypes.func.isRequired,\n  catch: PropTypes.func.isRequired\n})\ntype.Px = PropTypes.number // screen unit\ntype.PrimitiveOrObject = PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.object]) // tooltip prop\ntype.String = PropTypes.string\ntype.StringOrNumber = PropTypes.oneOfType([PropTypes.string, PropTypes.number])\ntype.Timestamp = PropTypes.number\ntype.Url = PropTypes.string\ntype.UrlOrBase64 = type.String\ntype.UrlOrBase64OrPreview = type.OneOf(type.String, type.Object) // `preview` is new String() object\ntype.UrlOrNode = type.OneOf(type.String, type.Object, type.Method)\ntype.UrlOrObject = type.OneOf(type.String, type.Object)\n\n/* Component Types */\n\n// localised definition (example: LANGUAGE.ENGLISH object)\ntype.Definition = type.Of({\n  _: type.Any.isRequired, // identifier code that is language agnostic\n  name: type.GetterString.isRequired, // definition's `name` string for currently active Language\n  en: type.String, // `name` string in English\n  // 'ru': other definition's `name` strings by their language code\n})\n\n// set of localised definitions (example: LANGUAGE object)\ntype.DefinitionSet = type.ObjectOf(type.Definition.isRequired)\n\ntype.FileInput = type.Of({\n  src: type.UrlOrBase64, // file source URL or base64 encoded string\n  kind: type.Any, // type of file (ex: public/private...)\n  i: type.Any, // identifier or index position of the file in the grid (ex. thumb/small/large...)\n  id: type.String, // optional ID\n  name: type.String, // file name with extension\n  file: type.File, // -> sent by onChange callbacks for upload to backend (example: Dropzone file object)\n  remove: type.Boolean, // -> sent by onChange callbacks for deletion to backend\n  sizes: type.ListOf(type.Of({ // for ImageInput\n    key: type.String, // resKey (ex. 'thumb', 'medium', '')\n    val: type.Number, // size in bytes\n  })),\n})\n\n// FIELD.FOR.TAG for example\ntype.FieldForList = type.ListOf(type.Of({\n  id: type.String.isRequired,\n}))\n// One of @withForm() value getters\ntype.FormValueType = type.Enum(['changedValues', 'registeredValues', 'formValues'])\n\n// Dropdown option\ntype.Option = type.OneOf(\n  type.String,\n  type.Number,\n  type.Of({\n    value: type.Any.isRequired,\n    text: type.String.isRequired,\n    content: type.Any,\n  }),\n)\ntype.Options = type.ListOf(type.Option.isRequired)\n","import { ENV, FIVE_MINUTES, LANGUAGE, THIRTY_SECONDS, THREE_SECONDS, TWO_SECONDS } from 'ui-utils-pack'\n\n/**\n * APP CONFIGURATIONS ==========================================================\n * =============================================================================\n */\n\n/* Network Configs */\nexport const API_REQUEST_TIMEOUT = Number(ENV.API_REQUEST_TIMEOUT || ENV.REACT_APP_API_REQUEST_TIMEOUT) || THIRTY_SECONDS\nexport const SOCKET_CONNECT_TIMEOUT = Number(ENV.SOCKET_CONNECT_TIMEOUT || ENV.REACT_APP_SOCKET_CONNECT_TIMEOUT) || THIRTY_SECONDS\nexport const STATE_ACTION_TIMEOUT = Number(ENV.STATE_ACTION_TIMEOUT || ENV.REACT_APP_STATE_ACTION_TIMEOUT) || THIRTY_SECONDS\nexport const REQUEST_TIMEOUT_BACKOFF_DURATION = Number(ENV.REQUEST_TIMEOUT_BACKOFF_DURATION || ENV.REACT_APP_REQUEST_TIMEOUT_BACKOFF_DURATION) || FIVE_MINUTES\n\n/* Client App */\nexport const APP_NAME = ENV.APP_NAME || ENV.REACT_APP_NAME || 'APP_NAME'\nexport const APP_RELEASE_VERSION = parseFloat(ENV.APP_RELEASE_VERSION || ENV.REACT_APP_RELEASE_VERSION || '1.0')\nexport const APP_SUPPORT_TEAM_NAME = ENV.APP_SUPPORT_TEAM_NAME || ENV.REACT_APP_SUPPORT_TEAM_NAME || 'Support'\nexport const ANALYTICS_TRACKING_ID = ENV.REACT_APP_ANALYTICS_TRACKING_ID\nexport const CONTACT_EMAIL = ENV.REACT_APP_CONTACT_HOST + '@' + ENV.REACT_APP_CONTACT_SERVER\n\n/* Configuration */\nexport const CONFIG = {\n  LANGUAGE_OPTIONS: [LANGUAGE.ENGLISH, LANGUAGE.FRENCH] // enabled languages\n}\n\n/* Client */\nexport const CLIENT = {\n  // add env variables for frontend\n}\n\n/* Server */\nexport const SERVER = {\n  QUERY_CACHE_TIME: Number(ENV.QUERY_CACHE_TIME) || TWO_SECONDS\n}\n\n/* UI */\nexport const UI = {\n  TYPING_DELAY: 300, // Milliseconds - 300 is ideal for debouncing input changes while typing\n  TOOLTIP_DELAY: 777, // Milliseconds\n  FORM_SYNC_THROTTLE: THREE_SECONDS, // Milliseconds - debounce input changes duration\n  ANIMATION_DURATION: 500, // Milliseconds - match with CSS @speed-base in /repos/web/style/_variables.less\n}\n\n/* Theme Options */\nexport const THEME = {\n  LIGHT: 'LIGHT',\n  DARK: 'DARK',\n}\n\n/**\n * FOR TESTS -------------------------------------------------------------------\n * -----------------------------------------------------------------------------\n */\n\nexport const TEST = {\n  COUNT: 1\n}\n\nexport const MOCK = {\n  DATA_SEED: 7,\n  UNIT_COUNT: 14,\n}\n","import classNames from 'classnames'\nimport React from 'react'\nimport { accessibilitySupport } from './utils'\nimport { Active } from 'ui-utils-pack'\n\n/**\n * Text View - Pure Component.\n * (to be used as replacement for `<span></span>` for cross platform integration)\n *\n * @param {string} [className] - optional css class name\n * @param {Function} [onClick] - callback to fire on click or Enter press (if `onKeyPress` not given)\n * @param {Boolean} [fill] - whether to make the view fill up available height and width\n * @param {Boolean} [reverse] - whether to reverse order of rendering\n * @param {Boolean} [rtl] - whether to use right to left direction\n * @param {Object} [sound] - new Audio(URL) sound file\n * @param {*} props - other attributes to pass to `<div></div>`\n * @returns {Object} - React Component\n */\nexport function Text ({\n  className,\n  fill,\n  reverse,\n  rtl,\n  sound,\n  expanded: _, // not used, remove to prevent warnings\n  children,\n  translate = Active.translate,\n  ...props\n}) {\n  props = accessibilitySupport(props, sound)\n  return (\n    <span className={classNames('text', {fill, reverse, rtl, pointer: props.onClick}, className)} {...props}>\n      {(typeof children === 'string') ? translate(children) : children}\n    </span>\n  )\n}\n\nexport default React.memo(Text)\n","import { __PROD__, Active, ONE_HOUR, ONE_MONTH, ONE_WEEK } from 'ui-utils-pack'\nimport { THEME } from './configs'\nimport { CURRENCY } from './definitions'\n\n/**\n * PROJECT DEFAULTS ============================================================\n * =============================================================================\n */\n\nexport const DEFAULT = {\n  LANGUAGE: Active.LANG._,\n  CURRENCY: CURRENCY.USD._,\n  LOGIN_DURATION: __PROD__ ? ONE_MONTH : ONE_WEEK, // match `TOKEN_LIFESPAN_JWT`\n  GRADIENT_HUE_COUNT: 3,\n  PAY_INTERVAL: ONE_HOUR,\n  QUERY_LIMIT: 1000, // generic limit\n  QUERY_ID_LIMIT: 10000, // about 2.9 KB for 100 ObjectIds, allowing 33k IDs per 1 MB\n  QUERY_TAG_LIMIT: 1000, // about 0.3 KB for each tag with 10 languages, allowing 3.3k Tags per 1 MB\n  QUERY_USER_LIMIT: 300, // each user response takes about ?, GraphQl default limit is 1 MB\n  THEME: THEME.LIGHT,\n}\n","import { call, delay, put, spawn, take } from 'redux-saga/effects'\nimport { __CLIENT__, ALERT, FINISH, LOAD, START, SYSTEM } from 'ui-utils-pack'\nimport { stateAction } from '../redux/actions'\nimport middleware from './middleware'\n\n/**\n * ASYNC TASK HELPERS ==========================================================\n * =============================================================================\n */\n\nexport {\n  all, call, delay, fork, put, race, select as selectState, spawn,\n  take, takeEvery, takeLatest, throttle,\n} from 'redux-saga/effects'\n\n/**\n * Subscribe to the First Action and ignore incoming actions until the Task is finished\n *\n * @param {string} actionType - action type to subscribe to\n * @param {function} callback - normal or generator function to fire when action dispatches\n * @param {Array} args - arguments to pass to the started task\n */\nexport function * takeFirst (actionType, callback, ...args) {\n  /* Take(), followed by async method call, equals takeFirst\n   * because rapid actions are only executed once\n   * since saga has to finish the last yield statement\n   * in order to take the next same action in while loop\n   */\n  while (true) {\n    const action = yield take(actionType)\n    yield call(callback, ...args.concat(action))\n  }\n}\n\n/**\n * Dispatches a loading START action\n *\n * @example\n *   takeEvery(stateActionType(SOMETHING, GET), loadingStart(SOMETHING))\n *\n * @param {string} type - The action type to dispatch a loading action for\n * @returns {Function} - A generator function that will dispatch the loading START action\n */\nexport function loadingStart (type) {\n  return function * ({payload, meta, meta: {loading = true} = {}} = {}) {  // eslint-disable-line\n    // Don't dispatch action if told not to\n    if (!loading) return\n\n    // Dispatch the load action\n    yield put(stateAction(type, LOAD, START, payload, meta))\n  }\n}\n\n/**\n * Dispatches a loading FINISH action\n *\n * @example\n *   takeEvery(stateActionType(SOMETHING, GET), loadingFinish(SOMETHING))\n *\n * @param {String} type - The action type to dispatch a loading action for\n * @param {Number} [wait] - milliseconds to wait before dispatching loading action\n * @returns {Function} - A generator function that will dispatch the loading FINISH action\n */\nexport function loadingFinish (type, wait) {\n  return function * ({payload, meta} = {}) { // eslint-disable-line\n    if (wait) yield delay(wait)\n    yield put(stateAction(type, LOAD, FINISH, payload, meta))\n  }\n}\n\n/**\n * Run Saga Middleware for given Generator Function\n *\n * @param {Function} func - generator function to run\n * @param {*} args - arguments to pass to generator function\n * @return {Object} Task - redux-saga task description, with .toPromise(), .cancel(), etc.\n */\nexport function runSaga (func, ...args) {\n  return middleware.run(func.bind(this, ...args))\n}\n\n/**\n * Execute a Saga Task and Return Its Promise\n * @See: runSaga() for docs\n * @example:\n *    const result = await runTask(sagaFlowGeneratorFunction, {payload: {...}})\n */\nexport function runTask (...args) {\n  return runSaga(...args).toPromise()\n}\n\n/* Dispatch Alert Message Action to be Handled by Appropriate Platform */\nexport function * systemAlert ({message, title = 'Alert'}) {\n  if (__CLIENT__) return yield put(stateAction(SYSTEM, ALERT, {items: [{title, content: message}]}))\n}\n\n/**\n * Schedule Action Dispatch\n *\n * @param {String} [id] - of action types used for rescheduling pending actions\n * @param {Array<time, type, payload, meta>} [actions] - to schedule, each with `time` timestamp of when to dispatch,\n *    if not given, will use previously given list of actions\n * @param {Number} timeOffset - milliseconds to add to each scheduled action time, default is 0,\n *    so we can playback past actions as if they are happening right now\n * @param {Number} timeModifier - playback speed multiplier, default is 1\n */\nexport function * scheduleActions ({payload: {id = '', actions = null, timeOffset = null, timeModifier = null}}) {\n  if (!actions) actions = (scheduleActions[id] || {}).actions\n  if (!timeOffset) timeOffset = (scheduleActions[id] || {}).timeOffset || 0\n  if (!timeModifier) timeModifier = (scheduleActions[id] || {}).timeModifier || 1\n  if (scheduleActions[id]) scheduleActions[id].task.cancel()\n  scheduleActions[id] = {actions, timeOffset, timeModifier, task: {cancel () {}}} // create/reset schedule\n\n  // All Actions completed/not needed anymore (allows resetting actions by passing empty array)\n  if (!scheduleActions[id].actions.length) return delete scheduleActions[id]\n\n  // Dispatch the First Action\n  const action = scheduleActions[id].actions[0]\n  const time = action.time + timeOffset\n  scheduleActions[id].task = yield spawn(scheduleActionTask, {id, action, time, timeModifier})\n}\n\nfunction * scheduleActionTask ({id, action, time, timeModifier}) {\n  const wait = (time - Date.now()) * timeModifier\n  if (wait > 0) yield delay(wait)\n\n  /* Dispatch Action */\n  action.meta.isScheduled = true\n  yield put(action)\n\n  // Only remove the action after execution to allow rescheduling with different playback speed\n  scheduleActions[id].actions.shift()\n\n  /* Recursively schedule the rest of actions */\n  yield spawn(scheduleActions, {payload: {id}}) // spawn to prevent recursive task.cancel() error\n}\n\n/* Check if Given Action is a Scheduled Action */\nexport function isScheduledActionType ({meta: {isScheduled} = {}}) {\n  return isScheduled\n}\n","import { round } from 'ui-utils-pack'\n\n/**\n * NORMALIZERS =================================================================\n * Common normalizers to be used with redux-form\n * =============================================================================\n */\n\nexport const integer = (value) => value && parseInt(value, 10)\nexport const double5 = (value) => value && round(value, 5)\nexport const emptyStringToNull = (value) => ((value === '') ? null : value)\nexport const uppercase = (value) => value.toUpperCase()\n\nexport function number ({min = -Infinity, max = Infinity, decimals}) {\n  return (value) => {\n    if (value > max) return max\n    if (Number(value) && value < min) return min\n    return (decimals != null && value) ? round(value, decimals) : value\n    // Disable pretty formatting because of cursor jump\n    // let number = value.replace(/[^0-9.]/g, '')  // sanitize\n    // if (!number) return ''\n    // const decimals = String(number).split('.')[1]\n    // return Math.floor(number).toLocaleString() + (decimals != null ? '.' + decimals : '')\n  }\n}\n\nexport function phone (value) {\n  if (!value) return value\n  return value.replace(/[^\\d\\s-+()]+/gi, '')\n    .replace(/^(.)?\\+([^\\d]+)?/g, '+')\n    .replace(/([^\\d\\s]+)?\\(([^\\d]+)?/g, '(')\n    .replace(/([^\\d]+)?\\)([^\\d\\s]+)?/g, ')')\n    .replace(/([^\\d]+)?-([^\\d]+)?/g, '-')\n    .replace(/\\s\\s+/g, ' ')\n}\n","import { OPTIONS, TYPE } from 'ui-modules-pack/variables/definitions'\nimport { FIELD } from 'ui-modules-pack/variables/fields'\nimport { double5, integer, phone, uppercase } from 'ui-react-pack/inputs/normalizers'\nimport { email, isRequired, maxLength, password, phoneNumber, url } from 'ui-react-pack/inputs/validationRules'\nimport { _ } from 'ui-utils-pack/translations'\n\n/**\n * CONSTANT VARIABLES ==========================================================\n * =============================================================================\n */\n\nexport const NAME = 'FORM'  // Namespace this module\nexport const FORM_ASYNC_VALIDATE = 'FORM_ASYNC_VALIDATE'\nexport const API_VALIDATE_FAIL_CODE = 422\n\n// Field Type Definitions\nFIELD.TYPE = {\n  DATE: 'Date',\n  DATES: 'Dates', // multiple date ranges with `from` and `to` times\n  GROUP: 'Group', // group of semantically related fields (i.e. pay rate and currency)\n  INPUT: 'Input', // generic input of different types (i.e. type='text', 'textarea', etc.)\n  SELECT: 'Select', // Semantic UI Dropdown\n  SLIDER: 'SliderLabel', // slider field with label\n  TOGGLE: 'Toggle', // checkbox rendered as toggle button\n  MULTIPLE: 'Fields', // multiple fields of the same type (i.e. mobile/work/home phone numbers)\n  MULTIPLE_LEVEL: 'FieldsWithLevel',  // multiple fields of the same type, each having a value in predefined scale\n  PLACE: 'Place',  // Google Places Autocomplete\n  UPLOAD: 'Upload',  // single file upload with drag & drop\n  UPLOAD_GRID: 'UploadGrid',  // multiple uploads in grid layout\n  UPLOAD_GRIDS: 'UploadGrids',  // multiple uploads in grid layout of different kinds as separate tabs\n}\n\n// Validation Definitions\nFIELD.NORMALIZE = {\n  DATE: 'date',\n  HOUR_MINUTE: 'hh:mm',\n  DOUBLE5: 'double5',\n  INTEGER: 'integer',\n  PHONE: 'phone',\n  UPPERCASE: 'uppercase',\n}\nFIELD.NORMALIZER = {\n  [FIELD.NORMALIZE.DOUBLE5]: double5,\n  [FIELD.NORMALIZE.INTEGER]: integer,\n  [FIELD.NORMALIZE.PHONE]: phone,\n  [FIELD.NORMALIZE.UPPERCASE]: uppercase,\n}\n\n// Validation Definitions\nFIELD.VALIDATE = {\n  EMAIL: 'email',\n  MAX_LENGTH: 'maxLength',\n  PASSWORD: 'password',\n  REQUIRED: 'required',\n  URL: 'url',\n}\nFIELD.VALIDATION = {\n  [FIELD.VALIDATE.EMAIL]: email,\n  [FIELD.VALIDATE.MAX_LENGTH]: maxLength,\n  [FIELD.VALIDATE.PASSWORD]: password,\n  [FIELD.VALIDATE.REQUIRED]: isRequired,\n  [FIELD.VALIDATE.URL]: url,\n}\n\n// Field Definitions\nFIELD.DEF = {\n  [FIELD.ID.EMAIL]: {\n    name: 'email',\n    get label () {return _.EMAIL},\n    get hint () {return _.MY_EMAIL_ADDRESS_IS},\n    get placeholder () {return _.EXAMPLE_GMAIL_COM},\n    type: 'email',\n    validate: email,\n    view: FIELD.TYPE.INPUT, // required definition\n  },\n  [FIELD.ID.PHONE]: {\n    name: 'phones',\n    get labelType () {return TYPE.PHONE.name},\n    get hint () {return _.MY_PHONE_NUMBER_IS},\n    get placeholder () {return _.plus_1_555_555_55_55},\n    options: OPTIONS.PHONE,\n    minFields: 1,\n    type: 'tel',\n    normalize: phone,\n    validate: [phoneNumber],\n    view: FIELD.TYPE.MULTIPLE,\n  },\n}\n\n// Field props\nexport const allowAdditions = true\nexport const stickyPlaceholder = true\nexport const lefty = true\nexport const disabled = true\nexport const readonly = true\nexport const multiple = true\nexport const required = true\nexport const search = true\nexport const upward = true\n\n/**\n * Populate List of Field Definition with Slider Field required props\n *\n * @param {Array<Object>} fields - list of fields to create, requires FIELD.ID, used for extending base definition\n * @param {Object} [options] - extra props to add (i.e. {namePrefix})\n * @returns {Array<Object>} list - of slider field definitions\n */\nexport function toSlider (fields, options) {\n  return fields.map(field => {\n    const [min, max] = FIELD.MIN_MAX[field.id]\n    return {...options, ...field, min, max, defaultValue: [min, max], view: FIELD.TYPE.SLIDER}\n  })\n}\n","import React, { PureComponent } from 'react'\nimport { cn, PropTypes } from 'ui-react-pack'\nimport Icon from 'ui-react-pack/Icon'\nimport ScrollView from 'ui-react-pack/ScrollView'\nimport Text from 'ui-react-pack/Text'\nimport { type } from 'ui-react-pack/types'\nimport { withTimer } from 'ui-react-pack/utils'\nimport View from 'ui-react-pack/View'\nimport { isEqual, isFunction } from 'ui-utils-pack'\n\ntype.Node = PropTypes.object\n\n/**\n * Tabs Component with overridable self-managed state and overflow scrollbars.\n */\n@withTimer\nexport default class Tabs extends PureComponent {\n  static propTypes = {\n    items: type.ListOf(type.Of({\n      // Tab Title - clickable buttons\n      tab: type.OneOf(\n        type.String,\n        type.Number,\n        type.Node, // JSX\n        type.Of({\n          text: PropTypes.string.isRequired,\n          icon: PropTypes.string,\n        })\n      ).isRequired,\n      // Tab Content\n      content: type.Any.isRequired,\n    })).isRequired,\n    // Opened tab index (controlled)\n    activeIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    // Opened tab index initially (uncontrolled)\n    defaultIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    // Callback when tab's activeIndex changes, receives new `activeIndex` as argument\n    onChange: PropTypes.func,\n    // Render tabs as vertical layout\n    vertical: PropTypes.bool,\n    // Align tabs to center\n    centerTabs: PropTypes.bool,\n    // Style tabs as buttons\n    buttoned: PropTypes.bool,\n    // Whether to enable transition during force update via props\n    transitionUpdate: PropTypes.bool,\n    // Extra content to render after Tabs content\n    children: PropTypes.any,\n    className: PropTypes.string,\n    classNameTabs: PropTypes.string,\n    classNameContent: PropTypes.string,\n    styleTabs: PropTypes.object,\n    styleContent: PropTypes.object,\n\n    // UI Render specific\n    // Extra content to render inside Tabs\n    childrenBeforeTabs: PropTypes.any,\n    childrenAfterTabs: PropTypes.any,\n  }\n\n  state = {\n    activeIndex: Math.max(+(this.props.activeIndex || this.props.defaultIndex) || 0, 0),\n    transition: false\n  }\n\n  get tabs () {\n    return this._tabs || (this._tabs = this.props.items.map(({tab}) => tab))\n  }\n\n  get contents () {\n    return this._contents || (this._contents = this.props.items.map(({content}) => content))\n  }\n\n  UNSAFE_componentWillReceiveProps (next) {\n    const {activeIndex, items} = next\n    if (!isEqual(items, this.props.items)) this._tabs = this._contents = null\n    if (activeIndex != null && +activeIndex !== this.state.activeIndex) this.setTab(+activeIndex, next.transitionUpdate)\n\n    // Handle use case when parent changes layout and tab has less panels than previously set active index\n    if (this.state.activeIndex >= items.length) this.setState({activeIndex: 0})\n  }\n\n  setTab = (activeIndex, transition = true) => {\n    const updateTab = () => {\n      this.setState({activeIndex, transition: false})\n      if (this.props.onChange) this.props.onChange(activeIndex)\n    }\n    if (transition) {\n      this.setState({transition: true})\n      this.setTimeout(updateTab, 50) // 50 ms is needed to allow full rendering so css transition can take effect\n    } else {\n      updateTab()\n    }\n  }\n\n  render () {\n    const {\n      vertical, buttoned, items, children, childrenBeforeTabs, childrenAfterTabs, centerTabs,\n      className, classNameTabs, classNameContent, styleTabs, styleContent,\n      activeIndex: _, defaultIndex: __, onChange: ___, transitionUpdate: ____,\n      ...props\n    } = this.props\n    const {activeIndex, transition} = this.state\n    const content = this.contents[activeIndex]\n    return (\n      // In Safari, the entire .tabs container scrolls, but in Chrome, only .tabs__content scrolls\n      // the solution is to enforce `min-height: initial` for this wrapper in `classNameInner`\n      <ScrollView // ScrollView is needed so inner content scroll does not overlap tabs, and has correct height\n        className={cn('tabs fade-in', className, {buttoned})}\n        classNameInner=\"max-height\" // fix to allow child ScrollViews to take 100% of available height\n        {...props}\n      >\n        <ScrollView row={!vertical} center={centerTabs}\n                    className={cn('tabs__items no-scrollbar', classNameTabs)} style={styleTabs}>\n          {isFunction(childrenBeforeTabs) ? childrenBeforeTabs(this) : childrenBeforeTabs}\n          {this.tabs.map((tab, i, tabs) => (\n            <View key={i} className={cn('tabs__item', {active: activeIndex === i && tabs.length > 1})}\n                  onClick={activeIndex !== i && (() => this.setTab(i))}>\n              {typeof tab === 'object'\n                ? (tab.icon ? <Text><Icon name={tab.icon}/>{tab.text}</Text> : tab)\n                : <Text>{tab}</Text>\n              }\n            </View>\n          ))}\n          {isFunction(childrenAfterTabs) ? childrenAfterTabs(this) : childrenAfterTabs}\n        </ScrollView>\n        <ScrollView fill className={cn('tabs__content', {'fade-in': !transition}, classNameContent)}\n                    style={styleContent}>\n          {typeof content === 'object' ? content : (isFunction(content) ? content(this) : <Text>{content}</Text>)}\n        </ScrollView>\n        {isFunction(children) ? children(this) : children}\n      </ScrollView>\n    )\n  }\n}\n","import classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { Dropdown as DropDown } from 'semantic-ui-react' // adds 27 KB to final js bundle\nimport {\n  hasListValue,\n  isEqual,\n  isObject,\n  isString,\n  l,\n  last,\n  localiseTranslation,\n  toLowerCase,\n  toLowerCaseAny,\n  toUniqueListCaseInsensitive,\n  trimSpaces\n} from 'ui-utils-pack'\nimport { _ } from 'ui-utils-pack/translations'\nimport Icon from './Icon'\nimport Text from './Text'\nimport View from './View'\nimport { Active } from 'ui-utils-pack'\n\nlocaliseTranslation({\n  ADD_: {\n    [l.ENGLISH]: 'Add ',\n    // [l.RUSSIAN]: 'Добавить ',\n  },\n  NOTHING_FOUND: {\n    [l.ENGLISH]: 'Nothing found',\n    // [l.RUSSIAN]: 'Ничего не найдено',\n  },\n  NO_OPTIONS_LEFT: {\n    [l.ENGLISH]: 'No options left',\n    // [l.RUSSIAN]: 'Больше нет выборов',\n  }\n})\n\n/**\n * Drop Down Select - Pure Component.\n *\n * @Note: for docs, check out https://react.semantic-ui.com/modules/dropdown/\n *\n * @example:\n *  <Dropdown\n *    label=\"Snap\"\n *    value={0.1}\n *    options={[0.1, 0.2, 0.3]}\n *    className=\"inline-block\"\n *  />\n *\n * @param {*} value - selected option value\n * @param {Array} options - list of option values, e.g. ['value']\n * @param {Function} [onChange] - callback when user changes input value, receives value as argument\n * @param {Function} [onSelect] - callback when user selects an option, receives value as argument\n * @param {Function} [onSearch] - callback when user types in the input, receives value as argument\n * @param {Function} [onAddItem] - callback when user adds new options, must enable `allowAdditions: true`\n * @param {String} [label] - text to display next to input\n * @param {String} [placeholder] - text\n * @param {Boolean} [done] - whether input is completed\n * @param {String|Object} [error] - message to display\n * @param {String|Object} [info] - explanation message to display under input\n * @param {Boolean} [float] - whether display as float-label input\n * @param {Boolean} [readonly] - whether to disable input and add `readonly` css class\n * @param {String} [className] - css class to add\n * @param {Object} [style] - css styles to add\n * @param {Boolean} [fill] - whether to fill available width\n * @param {Boolean} [lazyLoad] - whether to defer rendering options until opened, default is true\n * @param {*} [optionsLabel] - extra label for dropdown options on the bottom\n * @param {*} [props] - other attributes to pass to `<select>`\n * @returns {Object}\n */\nexport function Dropdown ({\n  options: opts,\n  onChange,\n  onSelect,\n  onSearch,\n  label,\n  placeholder = _.SELECT,\n  done,\n  error,\n  info,\n  float,\n  className,\n  classNameIcon,\n  style,\n  fill = true,\n  lazyLoad = true,\n  optionsLabel,\n  initialValues, // not used, removing from DOM\n  readonly,\n  autofocus,\n  onAddItem,\n  onClickIcon,\n  translate = Active.translate,\n  value: valueFromParent,\n  ...props\n}) {\n  // Store options as state to allow additions\n  let [options, setOptions] = useState(opts)\n  const defaultValue = useRef(typeof valueFromParent !== 'undefined'\n    ? valueFromParent\n    : ((Array.isArray(opts) && opts[0] && opts[0].value) || undefined)\n  )\n  const [value, setValue] = useState(defaultValue.current)\n  let tempValue\n\n  useEffect(() => {\n    !isEqual(options, opts) && setOptions(opts)\n  }, [opts])\n\n  useEffect(() => {\n    setValue(valueFromParent || null)\n  }, [valueFromParent])\n\n  useEffect(() => {\n    setValue(defaultValue.current)\n  }, [])\n\n  if (autofocus) props.searchInput = {autoFocus: true} // better to disable autofocus for usability - why?\n  if (readonly) props.disabled = true // Semantic Dropdown does not accept `readOnly` prop\n  if (props.selection == null) props.selection = true\n  if (props.search && props.deburr == null) props.deburr = true // Case and diacritics insensitive search\n\n  // Sanitize\n  switch (typeof options[0]) {\n    case 'string':\n      options = options.map(value => ({text: translate(value), value}))\n      break\n    case 'number':\n      options = options.map(value => ({text: String(value), value}))\n      break\n    case 'object':\n      if (typeof options[0].value === 'object') { // value is an array (ex. Color)\n        options = options.map(({ value, text, ...option }) => ({ value: String(value), text: translate(text), ...option }))\n      } else if (typeof options[0].value === 'string') {\n        options = options.map(({ value, text, ...option }) => ({ value: value, text: translate(text), ...option }))\n      }\n      break\n  }\n  if (optionsLabel) options = [...options, {key: '', text: '', content: optionsLabel, disabled: true}]\n\n  // Convert Icon to Node because Semantic has no `onClickIcon` callback\n  if (onClickIcon) props.icon = <Icon name={props.icon || 'dropdown'} onClick={onClickIcon} className={classNameIcon}/>\n\n  // On Change gets called before `onAddItem`\n  if (onChange || onSelect) {\n    props.onChange = (event, {value}) => {\n      // Since there is no option to disable addition when search matches existing options (case-insensitive),\n      // => sanitize onChange to have value from existing options.\n      // @note: it's possible to temporarily disable addition, but that logic is more complex,\n      //    and shows 'No options left' message, instead of 'Add value',\n      //    which may be more intuitive, because it simply moves the selected value to the end.\n      let val = props.multiple ? last(value) : value\n      if (val && isString(val)) {\n        val = trimSpaces(val).toLowerCase()\n        const duplicate = options.find(({text}) => typeof text === 'string' && toLowerCase(text) === val)\n        if (duplicate && toLowerCaseAny(duplicate.value) !== val) {\n          if (props.multiple) {\n            value[value.length - 1] = duplicate.value\n          } else {\n            value = duplicate.value\n          }\n        }\n      }\n\n      // Remove duplicates for non-matching cases, or value converted to Id from the operation above.\n      // Keep the last entered value for new additions.\n      // @Note: the list of values can be a mix of primitive Number and String\n      // Store value temporarily for onSelect event.\n      tempValue = (props.multiple && !isObject(last(value))) ? toUniqueListCaseInsensitive(value.reverse()).reverse() : value\n      setValue(value)\n      onChange && onChange(tempValue, props.name, event)\n    }\n  }\n\n  if (onSelect) props.onClose = (event) => onSelect(tempValue, props.name, event)\n  if (onSearch) props.onSearchChange = (event, data) => onSearch(data.searchQuery, props.name, event)\n\n  // Sanitize options from duplicates on addition\n  if (props.allowAdditions) {\n    if (props.additionLabel == null) props.additionLabel = _.ADD_\n    if (!props.upward && props.additionPosition == null) props.additionPosition = 'bottom'\n\n    // This may add duplicate item for non-matching cases\n    props.onAddItem = (event, {value}) => {\n      value = trimSpaces(value)\n      const val = toLowerCase(value)\n      // The duplicate can be exiting options, or a newly added option\n      const duplicate = options.find(({text}) => toLowerCase(text) === val)\n      const newOption = {text: value, value} // `options` is always a list of objects because of sanitization below\n      if (duplicate) {\n        // Override only newly added duplicate option to match the last case entered\n        if (toLowerCaseAny(duplicate.value) === val) Object.assign(duplicate, newOption)\n      } else {\n        setOptions([newOption, ...options])\n        onAddItem && onAddItem(value, props.name, event)\n      }\n    }\n  }\n\n  // Sanitize Value (for Colors)\n  if (props.value && props.value.constructor === Array && props.value.length) {\n    if (!props.multiple) props.value = props.value.join(',')\n    if (props.multiple && props.value[0].constructor === Array) props.value = props.value.map(v => v.join(','))\n  }\n\n  /// Error handling\n  // @Note: below logic only works as DropdownField with controlled value\n  if (done == null) done = !error && (props.multiple ? hasListValue(props.value) : (!!props.value || props.value === 0))\n\n  return (\n    <View className={classNames('input--wrapper', {\n      float, done, labeled: label, 'fill-width': !props.compact && fill, required: props.required,\n    }, className)} style={style}>\n      {label && !float && <Text className=\"input__label\">{translate(label)}</Text>}\n      <DropDown\n        className={classNames({info, readonly})}\n        options={options}\n        placeholder={translate(placeholder)}\n        error={!!error}\n        lazyLoad={lazyLoad}\n        noResultsMessage={(hasListValue(props.value) && props.value.length === options.length) ? _.NO_OPTIONS_LEFT : _.NOTHING_FOUND}\n        value={value}\n        {...props}\n      />\n      {label && float && <Text className=\"input__label\">{translate(label)}</Text>}\n      {(error || info) &&\n      <View id={props.id} className=\"field-help\">\n        {error && <Text className=\"error\">{translate(error)}</Text>}\n        {info && <Text className=\"into\">{translate(info)}</Text>}\n      </View>\n      }\n    </View>\n  )\n}\n\nDropdown.displayName = 'Dropdown'\n\nDropdown.propTypes = {\n  value: PropTypes.any,\n  options: PropTypes.arrayOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.shape({\n      text: PropTypes.any.isRequired,\n      value: PropTypes.any,\n      key: PropTypes.any\n    })\n  ])).isRequired,\n  onChange: PropTypes.func,\n  onSelect: PropTypes.func,\n  onSearch: PropTypes.func,\n  onAddItem: PropTypes.func,\n  placeholder: PropTypes.any\n}\n\nexport default React.memo(Dropdown)\n","import classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport View from './View'\n\n/**\n * Spinner - Pure Component\n *\n * @param {string} size - spinner size\n * @param {string} color - spinner color\n * @param {string} className - optional, will be prepended with spinner classes\n * @param {*} props - other attributes to pass to spinner\n * @returns {object} - React Component\n */\nexport function Spinner ({\n  size = 'base',  // Enum\n  color = 'primary',  // Enum\n  className,\n  ...props\n}) {\n  return <View className={classNames('app__spinner', size, color, className)} {...props} />\n}\n\nSpinner.propTypes = {\n  size: PropTypes.oneOf(['largest', 'larger', 'large', 'base', 'small', 'smaller', 'smallest']),\n  color: PropTypes.oneOf(['primary', 'secondary', 'text', 'inverse', 'white', 'black']),\n  className: PropTypes.string\n}\n\nexport default React.memo(Spinner)\n","import classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Spinner from './Spinner'\nimport Text from './Text'\nimport View from './View'\n\n/**\n * Loading Overlay - Pure Component\n *\n * @param {Boolean} [loading] - whether to show this Component or not\n * @param {String} [size] - spinner size\n * @param {String} [className] - css class to add\n * @param {String} [iconClassName] - css class to add to spinner icon\n * @param {Boolean} [transparent] - whether to add 'transparent' css class\n * @param {*} [children] - optional content to render\n * @param {*} props - other attributes to pass to spinner\n * @returns {object} - React Component\n */\nexport function Loading ({\n  loading = true,\n  size = 'larger',  // Enum\n  className,\n  iconClassName,\n  transparent = false,\n  children,\n  ...props\n}) {\n  return (loading &&\n    <View className={classNames('app__loading', className, {transparent})}>\n      <Spinner className={iconClassName} size={size} {...props} />\n      {children && <Text className='h4 blink'>{children}</Text>}\n    </View>\n  )\n}\n\nLoading.propTypes = {\n  loading: PropTypes.bool,\n  size: PropTypes.any,\n  className: PropTypes.string,\n  iconClassName: PropTypes.string\n}\n\nexport default React.memo(Loading)\n","import classNames from 'classnames'\nimport React from 'react'\nimport ReactAnimateHeight from 'react-animate-height'\nimport { STYLE } from './styles'\n\n/**\n * Wrapper component that animates height changes\n *\n * @uses react-animate-height\n * @see {@link https://github.com/Stanko/react-animate-height} for further information\n * @example:\n *  <AnimateHeight expanded={this.state.isOpen[item.id]}>\n *    <Item {...item} />\n *  </AnimateHeight>\n *\n * @param {boolean} expanded - used to change height for animation\n * @param {number} [duration] - The duration of the animation\n * @param {String} [className] - css class names to add\n * @param {*} [props] - Other attributes to pass to the container\n * @returns {Object} - React element\n */\nexport function AnimateHeight ({\n  expanded,\n  duration = STYLE.ANIMATION_DURATION,\n  className,\n  ...props\n}) {\n  return <ReactAnimateHeight\n    className={classNames('position-relative', className)}\n    duration={duration} height={expanded ? 'auto' : 0}\n    {...props}\n  />\n}\n\nexport default React.memo(AnimateHeight)\n","import classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport React, { PureComponent } from 'react'\nimport { isFunction } from 'ui-utils-pack'\nimport AnimateHeight from './AnimateHeight'\nimport Icon from './Icon'\nimport { STYLE } from './styles'\nimport Text from './Text'\nimport { withTimer } from './utils'\nimport View from './View'\n\n/**\n * Expandable Row - Pure Component.\n */\n@withTimer\nexport default class Expand extends PureComponent {\n  static propTypes = {\n    title: PropTypes.any, // string or component to always show\n    children: PropTypes.oneOfType([\n      PropTypes.func,  // function to render content when expanded, receives `id` if given\n      PropTypes.any,  // pre-rendered content (not recommended for performance reasons)\n    ]),\n    renderLabel: PropTypes.func, // function to render title\n    expanded: PropTypes.bool, // whether should render as expanded\n    active: PropTypes.bool, // whether to add `active` css class\n    justify: PropTypes.bool, // whether should render expand icon spread out from `title`\n    iconOpened: PropTypes.string, // name of icon for expanded state\n    iconClosed: PropTypes.string, // name of icon for collapsed state\n    onClick: PropTypes.func, // callback({expanded, key, value}) on click or Enter press (if `onKeyPress` not given)\n    id: PropTypes.oneOfType([  // argument to pass to 'onClick' callback as `key`\n      PropTypes.string,\n      PropTypes.number,\n    ]),\n    index: PropTypes.oneOfType([ // argument to pass to 'onClick' callback as `index`\n      PropTypes.string,\n      PropTypes.number,\n    ]),\n    duration: PropTypes.number, // milliseconds for the animation\n    className: PropTypes.string,\n    classNameLabel: PropTypes.string,\n    classNameItems: PropTypes.string,\n  }\n\n  static defaultProps = {\n    duration: STYLE.ANIMATION_DURATION,\n    iconOpened: 'chevron-down',\n    iconClosed: 'chevron-right',\n  }\n\n  state = {\n    expanded: this.props.expanded,\n    changing: false,\n  }\n\n  get content () {\n    if (this._content) return this._content\n    const {children} = this.props\n    return (this._content = isFunction(children) ? children() : children)\n  }\n\n  UNSAFE_componentWillReceiveProps (next) {\n    if (next.children !== this.props.children) this._content = null\n    if (next.expanded !== this.props.expanded) this.update(next.expanded)\n  }\n\n  handleToggleExpand = () => {\n    this.update(!this.state.expanded)\n  }\n\n  update = (expand = !this.state.expanded) => {\n    // New prop may match with current state\n    if (expand === this.state.expanded) return\n\n    // Expanding should be fast\n    if (expand) {\n      this.setState({expanded: false, changing: true}, () => {\n        this.handleClick(true)\n        this.setState({expanded: true, changing: false})\n      })\n    } else {\n      // Collapsing has to wait for Animation\n      this.setState({expanded: false, changing: true}, () => {\n        this.handleClick(false)\n        this.setTimeout(() => this.setState({changing: false}), this.props.duration)\n      })\n    }\n  }\n\n  handleClick = (expanded) => {\n    const {onClick, id, title, index} = this.props\n    onClick && onClick({expanded, index, key: id, value: String(title)})\n  }\n\n  renderLabel = () => {\n    const {title, renderLabel, justify = false, iconOpened, iconClosed, classNameLabel} = this.props\n    if (title == null && !renderLabel) return null\n    const {expanded} = this.state\n    const hasContent = true // children != null // allow expanding remote children\n    const Title = renderLabel ? renderLabel(title) : title\n    return (\n      <Text\n        className={classNames('row fill-width middle padding-small', {justify}, classNameLabel)}\n        onClick={hasContent && this.handleToggleExpand}\n      >\n        {justify && Title}\n        {hasContent && iconOpened && iconClosed &&\n        <Icon name={(expanded ? iconOpened : iconClosed) + ' spin-90-deg' + (expanded ? '' : '-')}/>}\n        {!justify && Title}\n      </Text>\n    )\n  }\n\n  render () {\n    const {\n      id,\n      title,\n      onClick,\n      active,\n      duration,\n      className,\n      classNameLabel,\n      classNameItems,\n      children,\n      expanded: _,\n      justify: __,\n      iconClosed: ___,\n      iconOpened: ____,\n      renderLabel: _____,\n      ...props\n    } = this.props\n    const {expanded, changing} = this.state\n    const hasContent = children != null\n    const content = hasContent && (expanded || changing) && this.content\n    return (\n      <View className={classNames('app__expand', className, {expanded, active})} id={String(id)} {...props}>\n        {this.renderLabel()}\n        {hasContent &&\n        <AnimateHeight expanded={expanded} duration={duration}\n                       className={classNames('expand__content', classNameItems)}>\n          {content}\n        </AnimateHeight>\n        }\n      </View>\n    )\n  }\n}\n","import createSagaMiddleware from 'redux-saga' // Middleware for async tasks\n\n/**\n * REDUX SAGA MIDDLEWARE =======================================================\n * =============================================================================\n */\n\nexport default createSagaMiddleware()\n","import { Active, ENV } from './_envs.js'\nimport { isInList, isList } from './array.js'\nimport { fromJSON } from './codec.js'\nimport { rad } from './number.js'\nimport { isObject } from './object.js'\nimport { isString, padStringLeft, randomString } from './string.js'\n\n/**\n * AD HOC FUNCTIONS ============================================================\n * =============================================================================\n */\n\n/**\n * Create Case-Sensitive Short Auto Incrementing ID string derived from Timestamp in milliseconds\n * @Important:\n *  - modifying this function may break existing database implementations.\n *  - directory/file names in Linux are case-sensitive, but are not in macOS or Windows;\n *    => it is better to only use lower case characters for this reason.\n * @Rationale: the primary use case is for generating globally unique Ids from frontend that can be used in backend.\n *\n * @Note:\n *    - The ID is 10 characters long:\n *        1. URL safe - case-insensitive alphanumeric only characters (36 radix)\n *        2. Safe for use as HTML5 id attribute\n *        2. Sorts chronologically without conversion (replacing the need for database timestamp)\n *           => Sorting will stop working after April 22, the year 5,188, because 36^9 limit padding is reached\n *              -> The solution is to increment the padCount to 10, which will work until January 18, the year 117,829.\n *\n *    - first 9 characters is Hex string of Timestamp\n *    - Last 3 character is randomized using alphanumeric characters to avoid collision\n *    - Collision probability is near zero in practice, because 3 random string suffix\n *        a. using 36 (case-insensitive) characters have 36^3 = 46,656 possibilities,\n *        b. using 62 (case-sensitive) characters have 62^3 = 238,328 possibilities,\n *        => it is unlikely two people would create more than that possibilities in the same millisecond.\n *    - Collision from the same user is prevented by checking for suffix duplicates within each millisecond.\n *    - This function is purposely slow with de-optimization to prevent generating too many Ids within one millisecond.\n *\n * @param {Number|String} [timestamp] - custom timestamp to generate ID for, defaults to Date.now()\n * @param {String} [alphabet] - custom characters to use for Id generation, default to alphaNumeric characters\n * @param {Boolean} [caseSensitive] - whether to use case-sensitive characters\n * @param {Number} [padCount] - if generated ID length is less than this, it's padded with the first character in the `alphabet`\n * @param {String} [suffix] - string to append to ID timestamp, default is random alphanumeric 3 characters string\n * @return {String} ID - example: 'MJ8FU-RVRo'\n */\nexport function Id ({\n  timestamp = Date.now(),\n  caseSensitive = false,\n  alphabet = caseSensitive ? Id.alphabet : Id.alphabetLower,\n  padCount = caseSensitive ? 7 : 9,\n  suffix = randomString(3, 3, {alphaNum: true}),\n} = {}) {\n  if (!caseSensitive) suffix = suffix.toLowerCase()\n\n  // Ensure unique suffix for each millisecond\n  const history = Id.history[timestamp]\n  if (history) {\n    while (isInList(history, suffix)) {\n      suffix = randomString(3, 3, {alphaNum: true})\n      if (!caseSensitive) suffix = suffix.toLowerCase()\n    }\n    history.push(suffix)\n  } else {\n    Id.history[timestamp] = [suffix]\n  }\n\n  // Garbage clean Id history\n  for (const time in Id.history) {\n    if (time < timestamp) delete Id.history[time]\n  }\n\n  // Create hashed Id from Timestamp\n  const charsCount = alphabet.length\n  let time = []\n  let remainder = 0\n  while (timestamp >= charsCount) {\n    remainder = timestamp % charsCount // can be zero\n    timestamp = Math.floor(timestamp / charsCount)\n    time.unshift(alphabet[remainder])\n  }\n  time.unshift(alphabet[timestamp])\n  time = time.join('')\n  return padStringLeft(time, Array(padCount).fill(alphabet[0]).join('')) + suffix\n}\n\n// !Important: changing values below may break existing database implementations\nId.alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'\nId.alphabetLower = '0123456789abcdefghijklmnopqrstuvwxyz'\nId.minLength = 10 // minimum case-sensitive ID length, including suffix\nId.pattern = new RegExp(`^[${Id.alphabet}]+$`)\nId.history = {} // log of previously generated Ids by timestamp\n\n/**\n * Check if given string is a valid Short Auto Incrementing ID derived from Timestamp in milliseconds\n * @param {*} value - to check\n * @return {Boolean} true - if valid, else false\n */\nexport function isId (value) {\n  return isString(value) && value.length >= Id.minLength && Id.pattern.test(value)\n}\n\n/**\n * Check if given value is truthy.\n * A value is considered to be falsy, if it's one of these:\n *    false, undefined, null, NaN, 0, 0.0, -0, +0, -0.0, +0.0, '', {}, [],\n *\n * @param {*} val - to evaluate for truthiness\n * @returns {boolean}\n */\nexport function isTruthy (val) {\n  if (!val) return false\n  if (isList(val) && val.length === 0) return false\n  return !(isObject(val) && Object.keys(val).length === 0)\n}\n\n/**\n * Get Timestamp in Milliseconds from Id string\n * @param {String} string - Id generated by the Id() function\n * @return {Number|Error} Timestamp - in Milliseconds, or throws error of Id is invalid\n */\nexport function timestampFromId (string) {\n  const alphabet = Id.alphabet\n  const radix = alphabet.length\n  const id = string.replace(timestampFromId.padPattern, '') // remove time padding\n  const [...chars] = id.substring(0, id.length - 3) // trim out random strings\n  let result = 0\n  chars.reverse()\n  for (const index in chars) {\n    const multiple = alphabet.indexOf(chars[index])\n    if (multiple === -1) throw new Error(`${timestampFromId.name}() found invalid Id character '${chars[index]}'`)\n    result += multiple * Math.pow(radix, +index)\n  }\n  return result\n}\n\ntimestampFromId.padPattern = new RegExp(`^(${Id.alphabet[0]})+`)\n\n/**\n * Calculate Distance between two Geometry Points (with latitude and longitude)\n *\n * @note: this method is fast, but inaccurate (using Haversine formula);\n *  for precise calculation - use https://www.npmjs.com/package/geolib\n *\n * @param {Object<lat, lng>} point1\n * @param {Object<lat, lng>} point2\n * @param {String<'km'|'m'|'mm'>} [unit] - of measurements, default is millimeter (length unit saved in database)\n * @returns {Number} distance - between given points in chosen unit\n */\nexport function distanceBetween (point1, point2, unit = 'mm') {\n  const dLat = rad(point2.lat - point1.lat)\n  const dLong = rad(point2.lng - point1.lng)\n  const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(rad(point1.lat)) * Math.cos(rad(point2.lat)) *\n    Math.sin(dLong / 2) * Math.sin(dLong / 2)\n  let distance = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)) * 6378137 // Earth’s mean radius in meter\n  switch (unit) {\n    case 'mm':\n      return distance * 1000\n    case 'km':\n      return distance / 1000\n    case 'm':\n    default:\n      return distance // in metre\n  }\n}\n\n/**\n * Check if given password is good enough\n * @see: https://lowe.github.io/tryzxcvbn/\n *    minimum score of 3 is for safe password in security sensitive applications, 2 is usually enough\n *\n * @param {String} value - to check\n * @param {Number} strength - minimum strength\n * @returns {Boolean} true - if it is\n */\nexport function isGoodPassword (value, strength = 2) {\n  return passStrength(value) >= strength\n}\n\n/**\n * Asynchronously load script with callback function once loaded\n * @note: only works if called before runtime!\n * @example:\n *  asyncLoad('/static/js/file.js', () => {})\n *\n * @param {String} src - file path\n * @param {Function} [callback]\n */\nexport function asyncLoad (src, callback) {\n  const load = () => createScript(src, callback)\n  if (window.attachEvent != null) {\n    window.attachEvent('onload', load)\n  } else {\n    window.addEventListener('load', load, false)\n  }\n}\n\n/**\n * Create HTML Element and insert it to DOM, before similar element type found in existing DOM\n * @param {String} type - HTML element kind (i.e. 'script', 'link', etc.)\n * @param {Object} props - element attributes\n * @returns {Promise<element, event>|void} promise - resolves when element loaded, with arguments of `addEventListener`\n */\nfunction createElement ({type = 'script', ...props}) {\n  if (typeof document === 'undefined') return\n  const element = document.createElement(type)\n  const sameType = document.getElementsByTagName(type)[0]\n  for (const attribute in props) {\n    element.attribute = props[attribute]\n  }\n  const result = new Promise((resolve) => {\n    element.addEventListener('load', resolve, false)\n  })\n  sameType.parentNode.insertBefore(element, sameType)\n  return result\n}\n\n/**\n * Create HTML DOM <script/>\n * @param {String} src\n * @param {Function} callback - to fire on script loaded\n */\nexport function createScript (src, callback) {\n  if (typeof document === 'undefined') return\n  const d = document, t = 'script',\n    o = d.createElement(t),\n    s = d.getElementsByTagName(t)[0]\n  o.src = src\n  o.async = true\n  if (callback) { o.addEventListener('load', callback, false) }\n  s.parentNode.insertBefore(o, s)\n}\n\n/**\n * Create standardized constant for namespacing modules\n * @param {String} constant - to be used as unique module name\n * @param {String} service - usually from ENV.SERVICE (example: \"WEB\", \"SERVER\", \"API\")\n * @returns {String} namespace - prefixed with service name (example: \"~WEB USER_LOGIN\")\n */\nexport function namespace (constant, service) {\n  return `~${service} ${constant}`\n}\n\n/**\n * Check Password Strength\n *\n * @See: https://github.com/dropbox/zxcvbn\n *\n * @param {String} password - to check\n * @return {Object} strength - result\n */\nexport function passStrength (password) {\n  return Active.passwordCheck(password).score\n}\n\n/**\n * Check that given .env variables are defined, and parse them to objects if necessary\n *\n * @param {Object} variables - key/value pairs of variable names and their descriptions\n * @return {Object} variables - has map of variables with their .env values, or throws error if variables are missing\n */\nexport function requireEnv (variables) {\n  const result = {}\n  Object.keys(variables).forEach(variable => {\n    if (!ENV[variable])\n      throw new Error(`Please enter ${variable} in .env in the root directory, as ${variables[variable]}`)\n    result[variable] = fromJSON(ENV[variable].replace(/'/g, '\"'))\n  })\n  return result\n}\n\n/**\n * Add Event Listener\n *\n * @param {String} event - name (i.e. 'keydown', 'keyup', etc.)\n * @param {Function} callback - event handler to add, receives `event` as argument\n */\nexport function subscribeTo (event, callback) {\n  if (typeof document === 'undefined') return\n  document.addEventListener(event, callback)\n}\n\n/**\n * Remove Event Listener\n *\n * @param {String} event - name (i.e. 'keydown', 'keyup', etc.)\n * @param {Function} callback - event handler to remove\n */\nexport function unsubscribeFrom (event, callback) {\n  if (typeof document === 'undefined') return\n  document.removeEventListener(event, callback)\n}\n","import CircularJSON from 'circular-json' // do not change to `flatted` package, because it does not comply to JSON standard\n\n/**\n * DATA FORMAT FUNCTIONS =======================================================\n * =============================================================================\n */\n\nexport {\n  CircularJSON\n}\n\n/**\n * Converts given value to a JSON string if necessary\n *\n * @param {*} data - to convert\n * @param {*} args - additional options\n * @return {string}\n */\nexport function toJSON (data, ...args) {\n  return (typeof data === 'object') ? CircularJSON.stringify(data, ...args) : data\n}\n\n/**\n * Attempts to parse a JSON string.\n *\n * @param {string} data - the string to be parsed\n * @return {Object|Null} - a JavaScript object if parsed successfully, null if not\n */\nexport function fromJSON (data) {\n  try {\n    return CircularJSON.parse(data)\n  } catch (e) {\n    return data\n  }\n}\n\n/**\n * Checks to see if the data passed is valid JSON.\n *\n * @param {string} data - the json to parse.\n * @return {boolean}\n */\nexport function isJSON (data) {\n  let isJson = true\n\n  try {\n    JSON.parse(data)\n  } catch (e) {\n    isJson = false\n  }\n\n  return isJson\n}\n\n/**\n * Convert Javascript object to text\n *\n * @param {*} value - to convert to text\n * @return {string}\n */\nexport function toText (value) {\n  if (value == null) return String(value)\n  const string = []\n\n  /* Array */\n  if (value.constructor === Array) {\n    for (const prop in value) {\n      string.push(toText(value[prop]))\n    }\n    return '[' + string.join(',') + ']'\n  }\n\n  /* Object */\n  if (value.constructor === Object) {\n    for (const prop in value) {\n      string.push(prop + ':' + toText(value[prop]))\n    }\n    return '{' + string.join(',') + '}'\n  }\n\n  /* Function */\n  if (value.constructor === Function) {\n    return value.toString()\n  }\n\n  /* Other Values */\n  return JSON.stringify(value)\n}\n\n/**\n * JSON Encoder and Decoder\n */\nexport const Json = {\n  encode: toJSON,\n  decode: fromJSON,\n}\n","import { get } from 'lodash-es'\nimport now from 'performance-now'\nimport { __BACKEND__, __CLIENT__, __DEV__, __TEST__, Active } from './_envs.js'\nimport { WARN } from './constants.js'\nimport { isFunction } from './function.js'\nimport { formatNumber } from './number.js'\nimport { isInString } from './string.js'\n\n/**\n * LOGGING FUNCTIONS ===========================================================\n * =============================================================================\n */\n\n/**\n * Benchmark provided function with optional logging of its output\n *\n * @example\n *    bench({type: SET, loop: 10000}, performStorage, SET, 'id', [13])\n *    >>> performStorage() ▶ SET took 1,912.790 ms for 10,000 iterations, 0.191 ms each\n *\n * @param {string} [type] - name of benchmark type (i.e. `selector`, `query`, etc.)\n * @param {Function|string|boolean} [log] - wrapper function or property path of the result to log,\n *    use `true` to log result itself\n * @param {string} [name] - the benched function name\n * @param {number} [loop] - number of iterations to run the function\n * @param {Function} func - to benchmark\n * @param {*} args - arguments to pass to the function\n * @return {*} - result as processed by given `log` argument, if any\n */\nexport function bench ({type, log, name, loop}, func, ...args) {\n  let result = []\n  const start = now()\n  if (loop) {\n    for (let i = 0; i < loop; i++) {\n      result.push(func(...args))\n    }\n  } else {\n    result = func(...args)\n  }\n  const duration = now() - start\n\n  result = (log != null) ? (isFunction(log) ? log(result) : get(result, log, result)) : null\n\n  logBenchmark({\n    name: name || func.name,\n    type,\n    duration,\n    loop,\n    result,\n  })\n\n  return result\n}\n\nbench.skip = new Function('')  // eslint-disable-line\n\n/**\n * Asynchronous Benchmark Version\n * @Note: see bench() method for documentation\n */\nexport async function benchA ({type, log, name, loop}, func, ...args) {\n  let result = []\n  const start = now()\n  if (loop) {\n    for (let i = 0; i < loop; i++) {\n      result.push(await func(...args))\n    }\n  } else {\n    result = await func(...args)\n  }\n  const duration = now() - start\n\n  result = (log != null) ? (isFunction(log) ? log(result) : get(result, log, result)) : null\n\n  logBenchmark({\n    name: name || func.name,\n    type,\n    duration,\n    loop,\n    result,\n  })\n\n  return result\n}\n\nbenchA.skip = new Function('')  // eslint-disable-line\n\n/**\n * Console log proxy method which provides a way to prepend the log with the first param\n * and also pass colors via the ...args array. Only runs in dev.\n *\n * @requires __DEV__\n * @param {string} first - string to prepend to the log message\n * @param {*} [args] - optionally pass additional arguments to log\n * @return void\n */\nexport function log (first, ...args) {\n  if (!__DEV__) return\n  // Client or no Chalk logger\n  if (__CLIENT__ || (!Active.log || !Active.log.keyword)) {\n    console.log((typeof first === 'string' && isInString(args[0] || '', 'color:')) ? `%c${first}` : first, ...args)\n  }\n\n  // Backend with Chalk logger\n  else {\n    const color = isInString(args[0] || '', 'color:') ? args.shift().split(': ')[1].toLowerCase() : ''\n    console.log((typeof first === 'string' && color) ? Active.log.keyword(color)(first) : first, ...args)\n  }\n}\n\n/**\n * Console log proxy method to show Benchmark stats\n *\n * @param {string} name - the calling function name\n * @param {string} [type] - the calling function type\n * @param {number} duration - milliseconds it took to execute\n * @param {number} [loop] - execution iterations\n * @param {*} result - execution result\n * @return void\n */\nexport function logBenchmark ({name, type = '', duration, loop = null, result = null}) {\n  const task = `\\n${name}()`\n  const took = `▶ ${type} took`\n  const ms = `${formatNumber(duration, {decimals: 3})} ms`\n  const iteration = !loop ? '' : `for ${formatNumber(loop)} iterations, `\n  const time = `${formatNumber(duration / loop, {decimals: 3})} ms`\n  const each = 'each'\n  const output = (result != null) ? ['\\n>>>', result] : []\n  if (Active.log) {\n    console.log(\n      Active.log.green(task),\n      Active.log.keyword('cyan')(took),\n      Active.log.keyword('orange')(ms),\n      Active.log.keyword('cyan')(iteration),\n      Active.log.keyword('orange')(time),\n      each,\n      ...output,\n    )\n  } else {\n    console.log(\n      `%c${task} %c${took} %c${ms} %c${iteration} %c${time}`,\n      'color: Green', 'color: Teal', 'color: Orange', 'color: Teal', 'color: Orange', 'each',\n      ...output\n    )\n  }\n}\n\n/**\n * Console log proxy for Component props mapping from State with standardised colors and format.\n * Only runs in dev.\n *\n * @requires __DEV__\n * @param {string} NAME - View Template's name\n * @param {*} value - Mapping result to log\n * @return void\n */\nexport function logMapping (NAME, value) {\n  if (!__DEV__) return\n  log(`MAPPING -> ${NAME}`, 'color: Green', __CLIENT__ ? value : '')\n}\n\n/**\n * Console log proxy for memoized Selectors with standardised colors and format.\n * Only runs in dev.\n *\n * @requires __DEV__\n * @param {string} NAME - Selector function name\n * @param {*} value - Selector value to log\n * @param {*} [args] - other arguments to pass\n * @return void\n */\nexport function logSelector (NAME, value, ...args) {\n  if (!__DEV__) return\n  log(`SELECT -> ${NAME}`, 'color: Orange', ...args, __CLIENT__ ? value : '')\n}\n\n/**\n * Console log proxy for non-cached state Queries with standardised colors and format.\n * Only runs in dev.\n *\n * @requires __DEV__\n * @param {string} NAME - Query function name\n * @param {*} value - value to log\n * @return void\n */\nexport function logQuery (NAME, value) {\n  if (!__DEV__) return\n  log(`QUERY -> ${NAME}`, 'color: DarkOrange', __CLIENT__ ? value : '')\n}\n\n/**\n * Console log proxy for async Tasks with standardised colors and format.\n * Only runs in dev.\n *\n * @requires __DEV__\n * @param {string} NAME - Task function name\n * @param {*} value - Task value to log\n * @return void\n */\nexport function logTask (NAME, value = '') {\n  if (!__DEV__) return\n  log(`TASK -> ${NAME}`, 'color: BlueViolet', __CLIENT__ ? value : '')\n}\n\n/**\n * Console log proxy for Tests with standardised colors and format.\n * Only runs in test.\n *\n * @requires __TEST__\n * @return void\n */\nexport function logTest (...args) {\n  if (!__TEST__) return\n  console.log(...args)\n}\n\n/**\n * Clear Console Log\n */\nexport function logClear () {\n  if (!__DEV__) return\n  if (typeof process !== 'undefined') {\n    process.stdout.write('\\u001b[2J')\n    process.stdout.write('\\u001b[1;1H')\n    process.stdout.write('\\u001b[3J')\n    return\n  }\n  console.clear()\n}\n\n/**\n * Console warn proxy method. Only runs in dev.\n *\n * @requires __DEV__\n * @param {*} args - the arguments to log\n * @return void\n */\nexport function warn (...args) {\n  // eslint-disable-next-line no-console\n  if (!__DEV__) return\n  if (__CLIENT__) {\n    console.warn('✋ ', ...args)\n  } else {\n    console.warn('✋ ', ...args)\n  }\n}\n\n/**\n * Ensure file is loaded in correct platform\n */\nexport function assertFrontend () {\n  if (__BACKEND__ && !__TEST__) throw new Error(`${WARN} WARNING! Backend file loaded in Frontend!!!`)\n}\n\n/**\n * Ensure file is loaded in correct platform\n */\nexport function assertBackend () {\n  if (__CLIENT__ && !__TEST__) throw new Error(`${WARN} WARNING! Frontend file loaded in Backend!!!`)\n}\n","import { throttle as _throttle } from 'lodash-es'\nimport { __DEV__ } from './_envs.js'\nimport { isInListAny } from './array.js'\nimport { NOW, ONE_DAY, ONE_HOUR, TIME_DURATION_INSTANT } from './constants.js'\nimport { randomNumberInRange } from './number.js'\nimport { randomString } from './string.js'\n\n/**\n * FUNCTION HELPERS ============================================================\n * =============================================================================\n */\n\n/**\n * Checks if passed argument is of type function.\n *\n * @param {*} func - the thing we are checking for being a function\n * @return {boolean}\n */\nexport function isFunction (func) {\n\t// When 'GeneratorFunction' is defined globally, use it instead of isFunction.Generator\n\treturn !!func && (\n\t\tfunc.constructor === Function ||\n\t\tfunc.constructor === isFunction.Async ||\n\t\tfunc.constructor === isFunction.Generator\n\t)\n}\n\nisFunction.Generator = (function * () {}).constructor\nisFunction.Async = (async () => {}).constructor\n\n/**\n * Check if given function is Asynchronous\n *\n * @param {Function} func - to check\n * @returns {Boolean} true - if it is\n */\nexport function isAsync (func) {\n\treturn func.constructor.name === 'AsyncFunction'\n}\n\n/**\n * Check for a Valid Enumerable Value and Throw Error If It's Not\n *\n * @param {Array} enums - valid enum values\n * @param {*} value - variable to check against enum\n * @param {Function} [self] - optional, the caller function's ${this} context\n */\nexport function enumCheck (enums, value, self) {\n\tif (!__DEV__) return\n\n\tif (!isInListAny(enums, value)) {\n\t\tconst callerFunctionName = isFunction(self) ? self.name : 'function'\n\t\tthrow new TypeError(`${callerFunctionName} expected @value to be one of ${enums}, but got '${value}'`,)\n\t}\n}\n\n/**\n * Check if values provided do match, using given comparison operator\n *\n * @param {string} type - comparison operator (i.e. enum(['AND', 'OR']))\n * @return {function<Array>} that takes boolean arguments and return true or false based on match type\n */\nexport function matchByType (type) {\n\tenumCheck(['AND', 'OR'], type, this)\n\treturn {\n\t\t'AND': (...args) => !args.some(v => !v),\n\t\t'OR': (...args) => args.some(v => v),\n\t}[type]\n}\n\n/**\n * Decorates a class method so that it is debounced by the specified duration\n * @Note:\n *   - the method will have to bind manually, and cannot be defined as class property arrow function\n *   - see `debounce()` method for docs\n *\n * @example:\n *   class Search extends Component {\n *     @debounceBy(200)\n *     handleSearch () {...}\n *   }\n *\n * @param {Number} [duration] - milliseconds to delay\n * @param {Object} [options] - for debounce\n * @returns {Function} decorator - for class method\n */\nexport function debounceBy (duration, options) {\n\treturn function innerDecorator (target, key, descriptor) {\n\t\treturn {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: descriptor.enumerable,\n\t\t\tget: function getter () {\n\t\t\t\t// Attach this function to the instance (not the class)\n\t\t\t\tObject.defineProperty(this, key, {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: descriptor.enumerable,\n\t\t\t\t\tvalue: debounce(descriptor.value, duration, options),\n\t\t\t\t})\n\t\t\t\treturn this[key]\n\t\t\t},\n\t\t}\n\t}\n}\n\n/**\n * Decorates a class method so that it is throttled by the specified duration\n * @Note:\n *   - the method will have to bind manually, and cannot be defined as class property arrow function\n *   - see `throttle()` method for docs\n *\n * @example:\n *   class Search extends Component {\n *     @throttleBy(200)\n *     handleSearch () {...}\n *   }\n *\n * @param {Number} [duration] - milliseconds to delay\n * @param {Object} [options] - for throttle\n * @returns {Function} decorator - for class method\n */\nexport function throttleBy (duration = TIME_DURATION_INSTANT, options) {\n\treturn function innerDecorator (target, key, descriptor) {\n\t\treturn {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: descriptor.enumerable,\n\t\t\tget: function getter () {\n\t\t\t\t// Attach this function to the instance (not the class)\n\t\t\t\tObject.defineProperty(this, key, {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: descriptor.enumerable,\n\t\t\t\t\tvalue: throttle(descriptor.value, duration, options),\n\t\t\t\t})\n\t\t\t\treturn this[key]\n\t\t\t},\n\t\t}\n\t}\n}\n\n/**\n * Delay given Function execution\n *\n * @param {Function} func - to call\n * @param {Number} [wait] - milliseconds to delay\n * @param {Boolean} [leading] - whether to execute the Function immediately first\n * @returns {function(...[*]=)} - debounced\n */\nexport function debounce (func, wait = TIME_DURATION_INSTANT, { leading } = {}) {\n\tlet timeout\n\treturn function() {\n\t\tconst self = this\n\t\tconst args = arguments\n\n\t\tfunction later () {\n\t\t\ttimeout = null\n\t\t\tfunc.apply(self, args)\n\t\t}\n\n\t\tconst callNow = leading && !timeout\n\t\tclearTimeout(timeout)\n\t\ttimeout = setTimeout(later, wait)\n\t\tif (callNow) {\n\t\t\tclearTimeout(timeout)\n\t\t\tfunc.apply(self, args)\n\t\t}\n\t}\n}\n\n/**\n * Mock Data for Testing\n */\nexport const testMock = {\n\ti: 0,\n\tdayCount: 0,\n\thourCount: 0,\n\n\t/* Get Decrementing Day From Now */\n\tget dayDecrementing () {\n\t\treturn NOW - ONE_DAY * this.dayCount++\n\t},\n\n\t/* Get Decrementing Hour From Now */\n\tget hourDecrementing () {\n\t\treturn NOW - ONE_HOUR * this.hourCount++\n\t},\n\n\tget id () {\n\t\treturn randomString(7, 7)\n\t},\n\n\tget index () {\n\t\treturn this.i++\n\t},\n\n\tget number () {\n\t\treturn randomNumberInRange(1, 1000000)\n\t},\n}\n\n/**\n * LODASH CLONES ---------------------------------------------------------------\n * -----------------------------------------------------------------------------\n */\n\n/**\n * A wrapper around the lodash's throttle function.\n * @see {@link https://lodash.com/docs/4.17.2#throttle) for further information.\n * @param {Function} func - to call\n * @param {Number} [wait] - milliseconds to delay\n * @param {Object} [options]\n * @returns {function(...[*]=)} - throttled\n */\nexport function throttle (func, wait = TIME_DURATION_INSTANT, options = {}) {\n\treturn _throttle(func, wait, options)\n}\n","import { _SHOULD_SHOW_TEST_, findObjByKeys } from 'ui-utils-pack'\n\n/* Routes */\nexport const ROUTE_HOME = '/'\nexport const ROUTE_SLASH = ROUTE_HOME.slice(-1) === '/' ? '' : '/' // used when ROUTE_HOME does not end with `/`\nexport const ROUTE_BASE = `${ROUTE_HOME}${ROUTE_SLASH}`\n\n// Define only SSR/SPA routes here for navigating to external server (i.e. WordPress)\nexport const ROUTE = {\n  HOME: ROUTE_HOME, // required fallback route when nothing matches\n  TESTER: `${ROUTE_BASE}tester`, // for development only\n  THEME: `${ROUTE_BASE}theme`, // for development only\n  LOGIN: `${ROUTE_BASE}login`,\n  LOGOUT: `${ROUTE_BASE}logout`,\n  LOADING: `${ROUTE_BASE}loading`, // the loading route does not actually exist, but used for Login refresh\n}\n\nexport const ROUTES = {\n  NAV_HEADER_MAX_LINKS: 5, // show up to 5 links in Header navigation\n\n  // used for Routes definition\n  FOR_DEFINITION: createNestedRoutes(ROUTE, {\n    [ROUTE.TESTER]: '/:id?', // add id to this route using `react-router`\n  }),\n\n  // shown in Navigation\n  FOR_NAV: [\n    {path: ROUTE.HOME, name: 'Home', icon: 'home'},\n  ],\n\n  // not shown in Navigation\n  WITHOUT_NAV: [],\n\n  // ID for new EntryEdit\n  NEW: 'new',\n  LOGIN: 'login', // prevent GQL from querying it as Id\n}\n\nif (_SHOULD_SHOW_TEST_) ROUTES.FOR_NAV.push(...[\n  {path: ROUTE.TESTER, name: 'Tester', icon: 'test'},\n  {path: ROUTE.THEME, name: 'Theme', icon: 'theme'},\n])\n\n/**\n * HELPER FUNCTIONS ------------------------------------------------------------\n * -----------------------------------------------------------------------------\n */\n\n/**\n * Automatically Nest Routes based on their URI path names\n * @example:\n *    const ROUTE = {ABOUT: '/about', CONTACT: '/about/contact'}\n *    const ROUTES = createNestedRoutes(ROUTE, {[ROUTE.ABOUT]: '/:id?'})\n *    >>> ROUTES[\n *      {path: '/about/:id?', name: 'About', items: [\n *        {path: '/about/contact', name: 'Contact'},\n *      ]},\n *    ]\n */\nexport function createNestedRoutes (routeObj, matches = {}) {\n  const result = []\n  for (const key in routeObj) {\n    const path = routeObj[key]\n    const uris = path.split('/')\n    const title = uris.pop().replace(/-/g, ' ') || 'Homepage'\n    const name = title.charAt(0).toUpperCase() + title.slice(1)  // capitalise first letter\n    const parentPath = uris.join('/')\n    const parentRoute = findObjByKeys(result, {path: parentPath})\n    const route = {path, name}\n\n    // Define nested route\n    if (parentRoute) {\n      parentRoute.items = (parentRoute.items || []).concat(route)\n    } else {\n      result.push(route)\n    }\n  }\n\n  // Add route matches\n  for (const path in matches) {\n    const match = matches[path]\n    findObjByKeys(result, {path}).path = path + match\n  }\n\n  return result\n}\n","import { CLOSE, FINISH, isInList, LOAD, OPEN, START } from 'ui-utils-pack'\nimport { stateActionType } from './actions'\n\n/**\n * ACTION HANDLER HELPERS ======================================================\n * =============================================================================\n */\n\n// See `popup` module for reference\nexport const popupsInitState = {\n  activePopups: [\n    // ROUTE.RESULT,\n    // ROUTE.MATCH,\n  ],\n  // [ROUTE.RESULT]: {\n  //   items: [],\n  // },\n}\n\nexport function popups (NAME) {\n  return {\n    /* Subscribe to POPUP action */\n    [stateActionType(NAME, OPEN)]: (state, {payload, payload: {activePopup} = {}}) => {\n      // Append items if Popup is already Open\n      if (isInList(state.activePopups, payload.activePopup)) {\n        return {\n          ...state,\n          [activePopup]: {\n            ...state[activePopup],\n            items: [\n              ...(state[activePopup] || {}).items || [],\n              ...(payload[activePopup] || {}).items || []\n            ]\n          }\n        }\n      }\n      // Else, set them to current payload (thus, removing previous items)\n      return {\n        ...state,\n        ...payload, // payload must have `items` nested inside `activePopup` key -> {[activePopup]: {items: [...]}}\n        activePopups: [...state.activePopups, activePopup]\n      }\n    },\n\n    /* Close Popup */\n    [stateActionType(NAME, CLOSE)]: (state, {payload: {activePopup, id = null}}) => {\n      // Closing only specified item ID\n      if (id) {\n        const items = ((state[activePopup] || {}).items || []).filter(item => item.id !== id)\n        return {\n          ...state,\n          [activePopup]: {\n            ...state[activePopup],\n            items\n          },\n          // Close the entire popup if no more items left\n          ...!items.length && {activePopups: state.activePopups.filter(item => item !== activePopup)}\n        }\n      }\n      // Closing the entire popup by its type\n      return {\n        ...state,  // Closing does not remove items, because garbage collection is handled by OPEN action logic above\n        activePopups: state.activePopups.filter(item => item !== activePopup)\n      }\n    }\n  }\n}\n\nexport function uiLoading (NAME) {\n  return {\n    /* Subscribe to loading start action */\n    [stateActionType(NAME, LOAD, START)]: (state) => ({...state, loading: true}),\n\n    /* Subscribe to loading complete action */\n    [stateActionType(NAME, LOAD, FINISH)]: (state) => ({...state, loading: false})\n  }\n}\n","import classNames from 'classnames'\nimport React from 'react'\nimport { fileNameWithoutExt } from 'ui-utils-pack'\nimport { FILE } from './files'\nimport { type } from './types'\n\n/**\n * Image - Pure Component.\n *\n * @param {String} name - file name\n * @param {String} [path] - file directory path to use if `src` not given\n * @param {String} [className] - optional css class\n * @param {*} [props] - other attributes to pass to `<img>`\n * @returns {Object} - React component\n */\nexport function Image ({\n  name,\n  path,\n  className,\n  ...props\n}) {\n  if (props.src == null) props.src = imageSrc({name, path})\n  if (props.alt == null) props.alt = fileNameWithoutExt(name)\n  return <img className={classNames('img', className)} {...props}/>\n}\n\nImage.defaultProps = {\n  decoding: 'async',\n  loading: 'lazy',\n}\nImage.propTypes = {\n  // Required if `src` or `alt` not defined\n  name: type.String,\n  path: type.String,\n  className: type.String,\n  decoding: type.Enum(['auto', 'async', 'sync']),\n  loading: type.Enum(['eager', 'lazy']),\n}\n\nexport function imageSrc ({avatar, src, name = '', path = FILE.PATH_IMAGES}) {\n  return avatar || src || (path + name.replace(/\\s/g, '-').toLowerCase())\n}\n\nexport default React.memo(Image)\n","import React from 'react'\nimport { Popup as Pop } from 'semantic-ui-react'\nimport { isFunction } from 'ui-utils-pack'\n\n/**\n * Tooltip Component using Semantic UI Popup\n */\nexport default function TooltipPop ({\n  title,\n  children,\n  delay,\n  inverted,\n  ...props\n}) {\n  // fix for Semantic UI issue https://github.com/Semantic-Org/Semantic-UI-React/pull/4029\n  if (isFunction(title)) title = {children: title}\n  return (\n    <Pop inverted={inverted} trigger={children} content={title} mouseEnterDelay={delay} {...props}/>\n  )\n}\n\n// Override `defaultProps` attributes for custom behavior\nTooltipPop.defaultProps = {\n  // improve UX by avoiding accidental popup when user is already familiar with the UI\n  delay: 500,\n}\n","import classNames from 'classnames'\nimport React from 'react'\nimport { isFunction } from 'ui-utils-pack'\nimport { accessibilitySupport } from './utils'\n\n/**\n * Row View - Pure Component.\n * With default `display: flex` style\n * (to be used as replacement for `<div></div>` and `<span></span>` for cross platform integration)\n *\n * @param {string} [className] - optional css class\n * @param {Function} [onClick] - callback to fire on click or Enter press (if `onKeyPress` not given)\n * @param {Boolean} [fill] - whether to make the view fill up available height and width\n * @param {Boolean} [reverse] - whether to reverse order of rendering\n * @param {Boolean} [rtl] - whether to use right to left direction\n * @param {Object} [sound] - new Audio(URL) sound file\n * @param {*} props - other attributes to pass to `<div></div>`\n * @param {*} [ref] - callback(element) when component mounts, or from React.createRef()\n * @returns {Object} - React Component\n */\nexport function Row ({\n  className,\n  fill,\n  reverse,\n  rtl,\n  sound,\n  expanded: _, // not used, remove to prevent warnings\n  ...props\n}, ref) {\n  props = accessibilitySupport(props, sound)\n  if (isFunction(ref)) props.ref = ref\n  return <div className={classNames('flex--row', {fill, reverse, rtl, pointer: props.onClick}, className)} {...props} />\n}\n\nexport const RowRef = React.forwardRef(Row)\nexport default React.memo(Row)\n","import classNames from 'classnames'\nimport { POPUP, POPUP_ALERT } from 'ui-modules-pack/popup/constants'\nimport { connect, stateAction } from 'ui-modules-pack/redux'\nimport { ROUTE_HOME, UPLOAD as U } from 'ui-modules-pack/variables'\nimport React, { Fragment, PureComponent } from 'react'\nimport Dropzone from 'react-dropzone'\nimport { type, withTimer } from 'ui-react-pack'\nimport Icon from 'ui-react-pack/Icon'\nimport Loading from 'ui-react-pack/Loading'\nimport Row from 'ui-react-pack/Row'\nimport Text from 'ui-react-pack/Text'\nimport Tooltip from 'ui-react-pack/Tooltip'\nimport View from 'ui-react-pack/View'\nimport {\n  get,\n  hasListValue,\n  interpolateString as parseString,\n  isFunction,\n  log,\n  OPEN,\n  pluralize,\n  SET,\n  shortNumber,\n  SIZE_KB\n} from 'ui-utils-pack'\nimport { UPLOAD } from '../constants'\nimport select from '../selectors'\nimport { _ } from '../translations'\nimport { Active } from 'ui-utils-pack'\n\n/**\n * MAP STATE & ACTIONS TO PROPS ------------------------------------------------\n * -----------------------------------------------------------------------------\n */\nconst mapStateToProps = (state) => ({\n  loading: select.loading(state)\n})\nconst mapDispatchToProps = (dispatch) => ({\n  actions: {\n    upload: (files, fileType) => dispatch(stateAction(UPLOAD, SET, {files, fileType})),\n    popup: (item) => dispatch(stateAction(POPUP, OPEN, {\n      activePopup: POPUP_ALERT,\n      [POPUP_ALERT]: {\n        items: [item]\n      }\n    }))\n  }\n})\n\n/**\n * VIEW TEMPLATE ---------------------------------------------------------------\n * todo: fix Dropzone opening upload window twice (try fast upload)\n * -----------------------------------------------------------------------------\n */\n@connect(mapStateToProps, mapDispatchToProps)\n@withTimer\nexport default class Upload extends PureComponent {\n  static propTypes = {\n    // Upload file type, falls back to Route pathname\n    // If given, will render as embedded component, instead of Modal route\n    fileType: type.OneOf(type.String, type.Number),\n    /* Allowed file formats, example: ['jpg', 'png'] */\n    formats: type.ListOf(type.String),\n    /* Maximum File size in bytes */\n    maxSize: type.Number,\n    /* Callback(acceptedFiles, name) onDrop files */\n    onChange: type.Method,\n    /* Callback when close button is clicked (ex. history.goBack()) */\n    onClose: type.Method,\n    /* Callback when cancel upload or on drag leave */\n    onBlur: type.Method,\n    /* Callback when choose file or on drag enter */\n    onFocus: type.Method,\n    /* Callback(instance, ...componentWillMountProps) before component mounts */\n    onComponentWillMount: type.Method,\n    loading: type.Boolean,\n    disabled: type.Boolean, // whether to disable upload\n    readonly: type.Boolean, // whether to make upload viewable only\n    multiple: type.Boolean, // whether to allow multiple file uploads, true by default\n    hasHeader: type.Boolean, // whether to show title above the upload\n    showTypes: type.Boolean, // whether to show file types tooltip\n    round: type.Boolean, // whether to add `round` css class\n    label: type.String, // optional label to show in the title\n    labelOnHover: type.String, // optional label to show on Dropzone hover\n    children: type.Any,\n    translate: type.Method,\n  }\n\n  static defaultProps = {\n    loading: false,\n    multiple: true,\n    showTypes: true,\n    translate: Active.translate\n  }\n\n  state = {\n    active: false\n  }\n\n  get formats () {\n    const {formats} = this.props\n    return formats ? `.${formats.join(', .')}` : (U.BY_ROUTE[this.fileType] || {}).fileTypes\n  }\n\n  get maxSize () {\n    return this.props.maxSize || (U.BY_ROUTE[this.fileType] || {}).maxSize\n  }\n\n  get fileType () {\n    return this.props.fileType || this.uri.split(/\\//).pop().toLowerCase()\n  }\n\n  get uri () {\n    return get(this.props, 'location.pathname', ROUTE_HOME)\n  }\n\n  onDragEnter = (...args) => this.setState({active: true}, () => this.props.onFocus && this.props.onFocus(...args))\n  onDragLeave = (...args) => this.setState({active: false}, () => this.props.onBlur && this.props.onBlur(...args))\n\n  handleUpload = (acceptedFiles, rejectedFiles) => {\n    log('acceptedFiles:', acceptedFiles)\n    log('rejectedFiles:', rejectedFiles)\n    const {actions, onChange, name} = this.props\n    if (hasListValue(acceptedFiles)) {\n      const maxSize = this.maxSize\n      for (const file of acceptedFiles) {\n        if (file.size > maxSize) return actions.popup({\n          title: _.MAXIMUM_FILE_SIZE_EXCEEDED,\n          content: <Row className=\"center wrap\">\n            <Text className=\"bold margin-h-smaller\">{file.name}</Text>\n            <Text>{_.MUST_BE_UNDER}</Text>\n            <Text className=\"bold margin-h-smaller\">{shortNumber(maxSize, 3, SIZE_KB)}B</Text>\n          </Row>,\n          closeLabel: _.OK\n        })\n      }\n      actions.upload(acceptedFiles, this.fileType)\n      isFunction(onChange) && onChange(acceptedFiles, name, this.dropzone)\n    } else {\n      actions.popup({\n        title: _.FILE_UPLOAD_FAILED,\n        content: <View className='center wrap'>\n          <Text>{_.UPLOAD}</Text>\n          <Text className=\"p bold\">{this.formats}</Text>\n          <Text>{_.FILES_ONLY}</Text>\n        </View>,\n        closeLabel: _.OK\n      })\n    }\n  }\n\n  handleKeyPress = event => {\n    if (event.key === 'Enter') this.dropzone.open()\n  }\n\n  renderClose = (handleClose) => (\n    <View className=\"app__view--close\" onClick={handleClose}>\n      <Text className=\"app__view--close__icon\">{'✕'}</Text>\n      <Tooltip top>{_.CLOSE}</Tooltip>\n    </View>\n  )\n\n  UNSAFE_componentWillMount (...args) {\n    this.props.onComponentWillMount && this.props.onComponentWillMount(this, ...args)\n    // if (this.props.fileType == null && !window.prevLocation) {  // if this route is accessed directly in browser\n    //   history.push(ROUTE_HOME)  // go to homepage first,\n    //   this.setTimeout(() => { // then open as Modal\n    //     openModal(this.uri, {className: 'fill--three-quarter'})\n    //   }, 100)\n    // }\n  }\n\n  render () {\n    const {\n      loading, children, multiple, disabled, readonly, onBlur, name, labelOnHover, onClose,\n      className, classWrap, hasHeader, round, showTypes, title, translate\n    } = this.props\n    const label = this.props.label || this.fileType || _.FILE\n    const {active} = this.state\n    const formats = this.formats\n    return (\n      <View className={classNames('app__upload', classWrap, {round})}>\n        {onClose && this.renderClose(onClose)}\n        {hasHeader && <h2>{parseString(_.UPLOAD_file, {file: label})}</h2>}\n        <Dropzone\n          // @note: When tabbing to dropzone with keyboard, input[type=\"file\"] also gets event -> causing open twice.\n          //      => input is hidden by dropzone because it has ugly \"Choose File\" button\n          name={name}\n          title={translate(title)}\n          inputProps={inputProps}\n          tabIndex={disabled ? -1 : 0}\n          className={classNames('upload__dropzone', className, {active, round, disabled, readonly})}\n          ref={(node) => { this.dropzone = node }}\n          onDragEnter={this.onDragEnter}\n          onDragLeave={this.onDragLeave}\n          onDrop={this.handleUpload}\n          onFileDialogCancel={onBlur}\n          onKeyPress={this.handleKeyPress}\n          accept={formats}\n          multiple={multiple}\n          disabled={disabled || readonly}\n        >\n          {children || <Fragment>\n            <Icon name=\"image\" className=\"text largest no-margin\"/>\n            <Text className='p margin-top-smallest'>\n              {_.SELECT_OR_DROP}<br/>\n              {pluralize(label, multiple ? 2 : 1)}\n            </Text>\n          </Fragment>\n          }\n          {showTypes &&\n          <View className=\"dropzone__hover position-fill align-center appear-on-hover\">\n            <View className=\"padding text-outline\">\n              <View className=\"dropzone__hover__bg position-fill bg-neutral radius-large\"/>\n              <Text className=\"margin-bottom-smaller\">\n                {labelOnHover || parseString(_.UPLOAD_file_FILE, {file: label})}\n              </Text>\n              <Text className=\"bold p\">{formats.replace(/\\./g, '')}</Text>\n            </View>\n          </View>\n          }\n        </Dropzone>\n        <Loading loading={loading}/>\n      </View>\n    )\n  }\n}\n\nconst inputProps = {tabIndex: -1}\n","import { l } from './constants'\nimport { localiseTranslation } from './definitions'\n\n/**\n * LOCALISED TRANSLATIONS (i18n) ===============================================\n * =============================================================================\n */\n\n/**\n * Localised String Object (can be extended by adding new terms or languages)\n * @note: follow the example to ensure only one instance of translation exists.\n * @example:\n *    import { l, localiseTranslation } from 'ui-utils-pack'\n *    export { _ } from 'ui-utils-pack/translations'\n *    localiseTranslation({\n *      NEW_PHRASE: {\n *        [l.ENGLISH]: 'New Phrase',\n *        [l.RUSSIAN]: 'Новая Фраза',\n *      },\n *    })\n * @usage:\n *    console.log(_.NEW_PHRASE)\n *    >>> 'New Phrase'\n *    console.log(_.THANK_YOU)\n *    >>> 'Thank You!'\n * @returns {Object} localised string - that returns localised 'Untranslated' string if no translation found\n */\nexport const _ = new Proxy(localiseTranslation.instance, {\n  get (target, prop) {\n    return localiseTranslation.queriedById[prop] = (target[prop] || target.UNTRANSLATED)\n  }\n})\nlocaliseTranslation({\n  // Default messaged for undefined strings\n  UNTRANSLATED: {\n    [l.ENGLISH]: 'Untranslated',\n    // @Note: only english is provided in the bundle definition\n    // All other languages are to be loaded on the fly as static assets,\n    // so that they can be cached by the the browser.\n  },\n\n  // Actions\n  // ---------------------------------------------------------------------------\n  ADD: {\n    [l.ENGLISH]: 'Add',\n    // [l.RUSSIAN]: 'Добавить',\n  },\n  CLICK_HERE: {\n    [l.ENGLISH]: 'Click here',\n    // [l.RUSSIAN]: 'Кликните сюда',\n  },\n  CONTACT_US: {\n    [l.ENGLISH]: 'Contact Us',\n    // [l.RUSSIAN]: 'Связаться с Нами',\n  },\n  COPY: {\n    // as verb\n    [l.ENGLISH]: 'Copy',\n    // [l.RUSSIAN]: 'Копировать',\n  },\n  COPIED: {\n    [l.ENGLISH]: 'Copied',\n    // [l.RUSSIAN]: 'Скопированно',\n  },\n  NO: {\n    [l.ENGLISH]: 'No',\n    // [l.RUSSIAN]: 'Нет',\n  },\n  YES: {\n    [l.ENGLISH]: 'Yes',\n    // [l.RUSSIAN]: 'Да',\n  },\n  OK: {\n    [l.ENGLISH]: 'Ok',\n    // [l.RUSSIAN]: 'Ок',\n  },\n  ERROR: {\n    [l.ENGLISH]: 'Error',\n    // [l.RUSSIAN]: 'Ошибка',\n  },\n  ERROR_MESSAGE: {\n    [l.ENGLISH]: 'Error Message',\n    // [l.RUSSIAN]: 'Сообщение Ошибки',\n  },\n  ERROR_INFO: {\n    [l.ENGLISH]: 'Error Info',\n    // [l.RUSSIAN]: 'Информация об Ошибке',\n  },\n  ERROR_STACK: {\n    [l.ENGLISH]: 'Error Stack',\n    // [l.RUSSIAN]: 'Стек Ошибок',\n  },\n  DATA_CAUSING_ERROR: {\n    [l.ENGLISH]: 'Data Causing Error',\n    // [l.RUSSIAN]: 'Данные Вызывающие Ошибку',\n  },\n  CLOSE: {\n    [l.ENGLISH]: 'Close',\n    // [l.RUSSIAN]: 'Закрыть',\n  },\n  OPEN: {\n    [l.ENGLISH]: 'Open',\n    // [l.RUSSIAN]: 'Открыть',\n  },\n  DELETE: {\n    [l.ENGLISH]: 'Delete',\n    // [l.RUSSIAN]: 'Удалить',\n  },\n  REMOVE: {\n    [l.ENGLISH]: 'Remove',\n    // [l.RUSSIAN]: 'Убрать',\n  },\n  BACK: {\n    [l.ENGLISH]: 'Back',\n    // [l.RUSSIAN]: 'Обратно',\n  },\n  NEXT: {\n    [l.ENGLISH]: 'Next',\n    // [l.RUSSIAN]: 'Следующий',\n  },\n  NEW: {\n    [l.ENGLISH]: 'New',\n    // [l.RUSSIAN]: 'Новое',\n  },\n  LOGIN: {\n    [l.ENGLISH]: 'Login',\n    // [l.RUSSIAN]: 'Войти',\n  },\n  LOGIN_noun: {\n    [l.ENGLISH]: 'Login',\n    // [l.RUSSIAN]: 'Вход',\n  },\n  LOGOUT: {\n    [l.ENGLISH]: 'Logout',\n    // [l.RUSSIAN]: 'Выйти',\n  },\n  REGISTER: {\n    [l.ENGLISH]: 'Register',\n    // [l.RUSSIAN]: 'Зарегистрировать',\n  },\n  RESET: {\n    [l.ENGLISH]: 'Reset',\n    // [l.RUSSIAN]: 'Сбросить',\n  },\n  RETRY: {\n    [l.ENGLISH]: 'Retry',\n    // [l.RUSSIAN]: 'Повторить',\n  },\n  SELECT: {\n    [l.ENGLISH]: 'Select',\n    // [l.RUSSIAN]: 'Выбрать',\n  },\n  SEARCH: {\n    [l.ENGLISH]: 'Search',\n    // [l.RUSSIAN]: 'Поиск',\n  },\n  SEARCHING___: {\n    [l.ENGLISH]: 'Searching...',\n    // [l.RUSSIAN]: 'В поиске...',\n  },\n  SIGN_IN: {\n    [l.ENGLISH]: 'Sign in',\n    // [l.RUSSIAN]: 'Войти',\n  },\n  SIGN_IN_noun: {\n    [l.ENGLISH]: 'Sign in',\n    // [l.RUSSIAN]: 'Вход',\n  },\n  SIGNUP: {\n    [l.ENGLISH]: 'Signup',\n    // [l.RUSSIAN]: 'Зарегистрироваться',\n  },\n  SIGNUP_noun: {\n    [l.ENGLISH]: 'Signup',\n    // [l.RUSSIAN]: 'Регистрация',\n  },\n  SEND: {\n    [l.ENGLISH]: 'Send',\n    // [l.RUSSIAN]: 'Послать',\n  },\n  SUBMIT: {\n    [l.ENGLISH]: 'Submit',\n    // [l.RUSSIAN]: 'Послать',\n  },\n  SAVE: {\n    [l.ENGLISH]: 'Save',\n    // [l.RUSSIAN]: 'Сохранить',\n  },\n  SAVED: {\n    [l.ENGLISH]: 'Saved',\n    // [l.RUSSIAN]: 'Сохранено',\n  },\n  SAVE_TO_FAVORITES: {\n    [l.ENGLISH]: 'Save to Favorites',\n    // [l.RUSSIAN]: 'Сохранить в Избранное',\n  },\n  TYPE_A_MESSAGE: {\n    [l.ENGLISH]: 'Type a message',\n    // [l.RUSSIAN]: 'Введите сообщение',\n  },\n  HIDE: {\n    [l.ENGLISH]: 'Hide',\n    // [l.RUSSIAN]: 'Скрыть',\n  },\n  SHOW: {\n    [l.ENGLISH]: 'Show',\n    // [l.RUSSIAN]: 'Показать',\n  },\n  SHOW_LESS: {\n    [l.ENGLISH]: 'Show less',\n    // [l.RUSSIAN]: 'Показать меньше',\n  },\n  READ_MORE: {\n    [l.ENGLISH]: 'Read more',\n    // [l.RUSSIAN]: 'Читать далее',\n  },\n\n  // Common\n  // ---------------------------------------------------------------------------\n  BY: {\n    [l.ENGLISH]: 'by',\n    // [l.RUSSIAN]: '',\n  },\n  BETWEEN: {\n    [l.ENGLISH]: 'between',\n    // [l.RUSSIAN]: 'между',\n  },\n  OR: {\n    [l.ENGLISH]: 'or',\n    // [l.RUSSIAN]: 'или',\n  },\n  PRIVACY_POLICY: {\n    [l.ENGLISH]: 'Privacy Policy',\n    // [l.RUSSIAN]: 'Политика Конфиденциальности',\n  },\n  YOUR_INFO_IS_SAFE_WITH_US_SEE_OUR: {\n    [l.ENGLISH]: 'Your info is safe with us, see our',\n    // [l.RUSSIAN]: 'Ваша информация в безопасности с нами, смотрите',\n  },\n  TERMS_OF_SERVICE: {\n    [l.ENGLISH]: 'Terms of Service',\n    // [l.RUSSIAN]: 'Условия Обслуживания',\n  },\n  TESTER: {\n    [l.ENGLISH]: 'Tester',\n    // [l.RUSSIAN]: 'Тестер',\n  },\n  THANK_YOU: {\n    [l.ENGLISH]: 'Thank You!',\n    // [l.RUSSIAN]: 'Спасибо!',\n  },\n  WE_HAVE_RECEIVED_YOUR_MESSAGE_AND_WILL_GET_IN_TOUCH_SHORTLY: {\n    [l.ENGLISH]: 'We have received your message and will get in touch shortly',\n    // [l.RUSSIAN]: 'Мы получили ваше сообщение и вскоре свяжемся с вами',\n  },\n  OUR_SITE_USES_COOKIES_BY_CONTINUING_TO_USE_OUR_SITE_YOU_ARE_AGREEING_TO_OUR: {\n    [l.ENGLISH]: 'Our site uses cookies. By continuing to use our site you are agreeing to our',\n    // [l.RUSSIAN]: 'Этот сайт использует cookies. Мы используем файлы cookie для запоминания и анализа ваших предпочтений. Продолжая пользоваться сайтом, вы соглашаетесь на использование файлов cookie',\n  },\n  OK_I_UNDERSTAND: {\n    [l.ENGLISH]: 'OK, I understand',\n    // [l.RUSSIAN]: 'Понятно',\n  },\n  PLEASE: {\n    [l.ENGLISH]: 'Please',\n    // [l.RUSSIAN]: '',\n  },\n  USE_ANOTHER_BROWSER_TO: {\n    [l.ENGLISH]: 'Use another browser to',\n    // [l.RUSSIAN]: 'Используйте другой браузер, чтобы',\n  },\n  DONT_SHOW_AGAIN: {\n    [l.ENGLISH]: `Don't Show Again`,\n    // [l.RUSSIAN]: `Больше Не Показывать`,\n  },\n  ERROR_ID: {\n    [l.ENGLISH]: 'Error ID',\n    // [l.RUSSIAN]: 'Ошибка ID',\n  },\n  REASON: {\n    [l.ENGLISH]: 'Reason',\n    // [l.RUSSIAN]: 'Причина',\n  },\n  STATUS: {\n    [l.ENGLISH]: 'Status',\n    // [l.RUSSIAN]: 'Статус',\n  },\n  REQUEST_FAILED: {\n    [l.ENGLISH]: 'Request Failed',\n    // [l.RUSSIAN]: 'Запрос Не Выполнен',\n  },\n  SERVER_DISCONNECTED: {\n    [l.ENGLISH]: 'Server Disconnected',\n    // [l.RUSSIAN]: 'Сервер Отключен',\n  },\n\n  // Project Specific\n  // ---------------------------------------------------------------------------\n  // CHECK_BACK_IN_LATER: {\n  //   [l.ENGLISH]: 'Check back in later',\n  //   // [l.RUSSIAN]: 'Зайдите позже',\n  // },\n  // ENABLE_LOCATION: {\n  //   [l.ENGLISH]: 'Enable Location',\n  //   // [l.RUSSIAN]: 'Включить Местоположение',\n  // },\n  // ENABLE_NOTIFICATION: {\n  //   [l.ENGLISH]: 'Enable Notification',\n  //   // [l.RUSSIAN]: 'Включить Уведомление',\n  // },\n  // FOR_NEW_MESSAGES_AND_UPDATES: {\n  //   [l.ENGLISH]: 'for new messages and updates',\n  //   // [l.RUSSIAN]: 'для новых сообщений и обновлений',\n  // },\n  // LOCATION_REQUEST_DENIED: {\n  //   [l.ENGLISH]: 'Location Request Denied!',\n  //   // [l.RUSSIAN]: 'Запрос Местоположения Отклонен!',\n  // },\n  // NOTIFICATION_PERMISSION_DENIED: {\n  //   [l.ENGLISH]: 'Notification Permission Denied!',\n  //   // [l.RUSSIAN]: 'Запрос Уведомления Отклонен!',\n  // },\n  // TURN_ON_LOCATION_SERVICES_IN_BROWSER_SETTINGS_IF_YOU_DID_NOT_GET_THE_PROMPT: {\n  //   [l.ENGLISH]: 'Turn on Location Services in browser settings if you did not get the prompt.',\n  //   // [l.RUSSIAN]: 'Включите службы определения местоположения в настройках браузера, если вы не получили подсказку.',\n  // },\n  // TURN_ON_NOTIFICATIONS_IN_BROWSER_SETTINGS_IF_YOU_DID_NOT_GET_THE_PROMPT: {\n  //   [l.ENGLISH]: 'Turn on Notifications in browser settings if you did not get the prompt.',\n  //   // [l.RUSSIAN]: 'Включите уведомления в настройках браузера, если вы не получили подсказку.',\n  // },\n  // SEARCH_USERS: {\n  //   [l.ENGLISH]: 'Search users',\n  //   // [l.RUSSIAN]: 'Поиск пользователей',\n  // },\n  // SHOW_ADDRESS: {\n  //   [l.ENGLISH]: 'Show address',\n  //   // [l.RUSSIAN]: 'Показать адрес',\n  // },\n  // SHOW_DISTANCE: {\n  //   [l.ENGLISH]: 'Show distance',\n  //   // [l.RUSSIAN]: 'Показать расстояние',\n  // },\n  // SHOW_HOURS: {\n  //   [l.ENGLISH]: 'Show hours',\n  //   // [l.RUSSIAN]: 'Показать часы',\n  // },\n\n  DOWNLOAD_FAILED_: {\n    [l.ENGLISH]: 'Download Failed!',\n  },\n  REQUEST_FAILED_FOR_url: {\n    [l.ENGLISH]: 'Request failed for {url}',\n  },\n})\n","import { API_REQUEST_TIMEOUT } from 'ui-modules-pack/variables'\nimport {\n  Active,\n  capitalize,\n  CREATE,\n  DELETE,\n  ERROR,\n  GET,\n  LIST,\n  namespace,\n  REQUEST,\n  SUCCESS,\n  TIMEOUT,\n  UPDATE\n} from 'ui-utils-pack'\n\n/**\n * CONSTANT VARIABLES ==========================================================\n * =============================================================================\n */\n\n/* State Action Types (must have NAME prefix) */\nexport const API = 'API'  // Namespace this module\nexport const API_SEVER = namespace(API, Active.SERVICE)  // Namespace this module for backend\nexport const API_MODEL = capitalize(API)  // db model name\nexport const API_PLATFORM_ANDROID = 'android'\nexport const API_PLATFORM_IOS = 'ios'\nexport const API_PLATFORM_WEB = 'web'\nexport const API_PLACES = 'places'\nexport const API_PROVIDER_GOOGLE = 'google'\n\nexport const NETWORK = `${API}_NETWORK`  // Network connection\nexport const ADD_ACTIONS_PENDING_AUTH = `${API}_ACTIONS_PENDING_AUTH`\nexport const CLEAR_ACTIONS_PENDING_AUTH = `${API}_CLEAR_ACTIONS_PENDING_AUTH`\nexport const ADD_ACTIONS_PENDING_LOCATION = `${API}_ACTIONS_PENDING_LOCATION`\nexport const CLEAR_ACTIONS_PENDING_LOCATION = `${API}_CLEAR_ACTIONS_PENDING_LOCATION`\nexport const ADD_ACTIONS_PENDING_NETWORK = `${API}_ACTIONS_PENDING_NETWORK`\nexport const CLEAR_ACTIONS_PENDING_NETWORK = `${API}_CLEAR_ACTIONS_PENDING_NETWORK`\n\n/* General */\nexport const STORAGE_KEY_TOKEN = `${API}_TOKEN`\nexport const REQUEST_TIMEOUT = API_REQUEST_TIMEOUT\nexport const AUTH = 'AUTH'  // Authentication resume action type\nexport const LOCATION = 'LOCATION'  // Location resume action type\nexport const API_CALL = `${API}_CALL`  // -> apiActionType identifier\nexport const API_ACTIONS = [GET, CREATE, UPDATE, DELETE, LIST]\nexport const API_RESULTS = [REQUEST, SUCCESS, ERROR, TIMEOUT]\nexport const NETWORK_ERROR_MESSAGES = ['Network Error']\nexport const REQUEST_TIMEOUT_MESSAGE = `${API} Call Timeout`\n\n/**\n * RESPONSE STATUS CODES (same as Django Rest Framework) -----------------------\n * -----------------------------------------------------------------------------\n */\nexport const HTTP_100_CONTINUE = 100\nexport const HTTP_101_SWITCHING_PROTOCOLS = 101\nexport const HTTP_200_OK = 200\nexport const HTTP_201_CREATED = 201\nexport const HTTP_202_ACCEPTED = 202\nexport const HTTP_203_NON_AUTHORITATIVE_INFORMATION = 203\nexport const HTTP_204_NO_CONTENT = 204\nexport const HTTP_205_RESET_CONTENT = 205\nexport const HTTP_206_PARTIAL_CONTENT = 206\nexport const HTTP_300_MULTIPLE_CHOICES = 300\nexport const HTTP_301_MOVED_PERMANENTLY = 301\nexport const HTTP_302_FOUND = 302\nexport const HTTP_303_SEE_OTHER = 303\nexport const HTTP_304_NOT_MODIFIED = 304\nexport const HTTP_305_USE_PROXY = 305\nexport const HTTP_306_RESERVED = 306\nexport const HTTP_307_TEMPORARY_REDIRECT = 307\nexport const HTTP_400_BAD_REQUEST = 400\nexport const HTTP_401_UNAUTHORIZED = 401\nexport const HTTP_402_PAYMENT_REQUIRED = 402\nexport const HTTP_403_FORBIDDEN = 403\nexport const HTTP_404_NOT_FOUND = 404\nexport const HTTP_405_METHOD_NOT_ALLOWED = 405\nexport const HTTP_406_NOT_ACCEPTABLE = 406\nexport const HTTP_407_PROXY_AUTHENTICATION_REQUIRED = 407\nexport const HTTP_408_REQUEST_TIMEOUT = 408\nexport const HTTP_409_CONFLICT = 409\nexport const HTTP_410_GONE = 410\nexport const HTTP_411_LENGTH_REQUIRED = 411\nexport const HTTP_412_PRECONDITION_FAILED = 412\nexport const HTTP_413_REQUEST_ENTITY_TOO_LARGE = 413\nexport const HTTP_414_REQUEST_URI_TOO_LONG = 414\nexport const HTTP_415_UNSUPPORTED_MEDIA_TYPE = 415\nexport const HTTP_416_REQUESTED_RANGE_NOT_SATISFIABLE = 416\nexport const HTTP_417_EXPECTATION_FAILED = 417\nexport const HTTP_428_PRECONDITION_REQUIRED = 428\nexport const HTTP_429_TOO_MANY_REQUESTS = 429\nexport const HTTP_431_REQUEST_HEADER_FIELDS_TOO_LARGE = 431\nexport const HTTP_451_UNAVAILABLE_FOR_LEGAL_REASONS = 451\nexport const HTTP_500_INTERNAL_SERVER_ERROR = 500\nexport const HTTP_501_NOT_IMPLEMENTED = 501\nexport const HTTP_502_BAD_GATEWAY = 502\nexport const HTTP_503_SERVICE_UNAVAILABLE = 503\nexport const HTTP_504_GATEWAY_TIMEOUT = 504\nexport const HTTP_505_HTTP_VERSION_NOT_SUPPORTED = 505\nexport const HTTP_511_NETWORK_AUTHENTICATION_REQUIRED = 511\n","/**\n * RegExp to test a string for a ISO 8601 Date spec\n *  YYYY\n *  YYYY-MM\n *  YYYY-MM-DD\n *  YYYY-MM-DDThh:mmTZD\n *  YYYY-MM-DDThh:mm:ssTZD\n *  YYYY-MM-DDThh:mm:ss.sTZD\n * @see: https://www.w3.org/TR/NOTE-datetime\n * @type {RegExp}\n */\nexport const ISO_8601 = /^\\d{4}(-\\d\\d(-\\d\\d(T\\d\\d:\\d\\d(:\\d\\d)?(\\.\\d+)?(([+-]\\d\\d:\\d\\d)|Z)?)?)?)?$/i\n\n\n\n/**\n * RegExp to test a string for a full ISO 8601 Date\n * Does not do any sort of date validation, only checks if the string is according to the ISO 8601 spec.\n *  YYYY-MM-DDThh:mm:ss\n *  YYYY-MM-DDThh:mm:ssTZD\n *  YYYY-MM-DDThh:mm:ss.sTZD\n * @see: https://www.w3.org/TR/NOTE-datetime\n * @type {RegExp}\n */\nexport const ISO_8601_FULL = /^\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(\\.\\d+)?(([+-]\\d\\d:\\d\\d)|Z)?$/i\n","import classNames from 'classnames'\nimport React from 'react'\n\n/**\n * Tooltip - Pure Component\n */\nexport function Tooltip ({top, bottom, right, left, show, className, ...props}) {\n  return <span\n    className={classNames('tooltip no-wrap', {top, bottom, right, left, show}, className)} {...props} />\n}\n\nexport default React.memo(Tooltip)\n","import selector from 'ui-utils-pack/selectors'\nimport { UPLOAD } from './constants'\n\n/**\n * STATE SELECTORS =============================================================\n * Memoized Functions - to retrieve specific branches of the app state\n * =============================================================================\n */\n\n@selector(UPLOAD)\nexport default class select {\n\n  // Dropzone Files\n  static files = () => [\n    state => state[UPLOAD].files,\n    (val) => val || []\n  ]\n\n  static loading = () => [\n    state => state[UPLOAD].loading,\n    (val) => val\n  ]\n\n  static images = function () {\n    return [\n      this.files,\n      (files) => files.filter(({preview}) => !!preview)\n    ]\n  }\n}\n","import { FILE as _FILE } from 'ui-react-pack/files'\nimport { _WORK_DIR_, ENV, isList, SIZE_MB_16 } from 'ui-utils-pack'\nimport { fileFormatNormalized, fileNameWithoutExt, isFileSrc, mimeTypeFromDataUrl } from 'ui-utils-pack/string'\n\n/**\n * FILE VARIABLES ==============================================================\n * =============================================================================\n */\n\nexport const FILE = {\n  ..._FILE,\n  EXT: {\n    CSV: 'csv',\n    GIF: 'gif',\n    JSON: 'json',\n    JPG: 'jpg',\n    JPEG: 'jpeg',\n    MP3: 'mp3',\n    MP4: 'mp4',\n    PNG: 'png',\n    SVG: 'svg',\n    WEBP: 'webp',\n  },\n  MIME_TYPE: {\n    BIN: 'application/octet-stream',\n    CSV: 'text/csv',\n    GIF: 'image/gif',\n    JSON: 'application/json',\n    JPG: 'image/jpeg',\n    MP3: 'audio/mpeg',\n    MP4: 'video/mp4',\n    PNG: 'image/png',\n    SVG: 'image/svg+xml',\n    WEBP: 'image/webp',\n  },\n  // File Uploads\n  TYPE: {\n    JSON: 'json',\n    IMAGE: 'image',\n    SOUND: 'sound',\n    VIDEO: 'video',\n  },\n}\n\nFILE.FORMAT_BY_MIME_TYPE = {\n  [FILE.MIME_TYPE.BIN]: 'bin',\n  [FILE.MIME_TYPE.CSV]: 'csv',\n  [FILE.MIME_TYPE.GIF]: 'gif',\n  [FILE.MIME_TYPE.JSON]: 'json',\n  [FILE.MIME_TYPE.JPG]: 'jpg',\n  [FILE.MIME_TYPE.MP3]: 'mp3',\n  [FILE.MIME_TYPE.MP4]: 'mp4',\n  [FILE.MIME_TYPE.PNG]: 'png',\n  [FILE.MIME_TYPE.SVG]: 'svg',\n  [FILE.MIME_TYPE.WEBP]: 'webp',\n}\n\nexport const IMAGE = {\n  MAX_RES: SIZE_MB_16, // total Image width*height resolution limit (16 MB is about 4K image)\n  EXTENSIONS: [FILE.EXT.JPG, FILE.EXT.JPEG, FILE.EXT.PNG, FILE.EXT.SVG, FILE.EXT.GIF, FILE.EXT.WEBP],\n  MIME_TYPES: [FILE.MIME_TYPE.JPG, FILE.MIME_TYPE.PNG, FILE.MIME_TYPE.SVG, FILE.MIME_TYPE.GIF, FILE.MIME_TYPE.WEBP],\n  SIZES: { // default sharp.resize() config for image uploads\n    // @see: https://sharp.pixelplumbing.com/api-resize\n    '': {res: SIZE_MB_16}, // max 4K resolution for the original file\n    medium: {width: 1200, height: 1200, fit: 'inside'},\n    thumb: {width: 150, height: 150, fit: 'cover'},\n  }\n}\n\nexport const UPLOAD = {\n  DIR: `/uploads`, // relative to site's root for frontend, and _WORK_DIR_ for backend\n  BY_ROUTE: {\n    [FILE.TYPE.JSON]: {fileTypes: '.json', maxSize: SIZE_MB_16},\n    [FILE.TYPE.IMAGE]: {fileTypes: '.' + IMAGE.EXTENSIONS.join(', .'), maxSize: SIZE_MB_16},\n    [FILE.TYPE.SOUND]: {fileTypes: '.mp3', maxSize: SIZE_MB_16},\n    [FILE.TYPE.VIDEO]: {fileTypes: '.mp4', maxSize: SIZE_MB_16},\n  },\n}\n\n// @important: for backend, insert this at the top of _init.js:\n// import 'ui-modules-pack/utils/server/config' // load .env file variables\n// Bucket name must be empty string so that backend can set bucket during runtime\nUPLOAD.PATH = `${ENV.CDN_BUCKET_NAME ? '' : (ENV.UPLOAD_PATH || _WORK_DIR_)}${UPLOAD.DIR}` // full upload path\n\n/**\n * Create JS File Object from given URL\n * @param {String} url - to fetch file, can be Base64 string, http url, dataURL, blobURL, etc...\n * @param {String} filename - to use\n * @param {FilePropertyBag|undefined} [options] - attributes to pass to new File()\n * @returns {Promise<File>} file object if resolved\n */\nexport function fileFromUrl (url, filename, options) {\n  return fetch(url)\n    .then((res) => res.arrayBuffer())\n    .then((buf) => new File([buf], filename, options))\n}\n\n/**\n * Get File Format Extension from Data URL String\n * @param {String} dataUrl - see https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\n * @returns {String} format - example: 'png'\n */\nexport function fileFormatFromDataUrl (dataUrl) {\n  return FILE.FORMAT_BY_MIME_TYPE[mimeTypeFromDataUrl(dataUrl)]\n}\n\n/**\n * Create File Name (with optional ID folder) from FileInput object in this format:\n * `{id}/{kind}_{i}.{ext}` - for use in File `src` string for frontend and backend.\n *\n * @example: possible outputs\n *    const file = {id: 'test', kind: 'public', i: 'thumb', ext: 'jpg'}\n *    >>> 'test/public_thumb.jpg'\n *    const file = {id: 'test', kind: 'public', ext: 'jpg'}\n *    >>> 'test/public.jpg'\n *    const file = {id: 'test', i: 'thumb'}\n *    >>> 'test/thumb'\n *    const file = {id: 'test', ext: 'jpg'}\n *    >>> 'test.jpg'\n *    const file = {ext: 'jpg'}\n *    >>> '.jpg'\n *\n * @param {FileInput|Object<id, kind, i, name>} fileInput - FileInput object (ex. from GraphQL)\n * @returns {string} filename - including optional ID folder\n */\nexport function fileName (fileInput) {\n  let {id, kind, i, name} = fileInput\n  id = id != null ? String(id) : ''\n  kind = kind != null ? String(kind) : ''\n  i = i != null ? String(i) : ''\n  const ext = name != null ? fileFormatNormalized(name) : ''\n  const slash = id && (kind || i) && '/'\n  const _ = kind && i && '_'\n  const dot = ext && '.'\n  return `${id}${slash}${kind}${_}${i}${dot}${ext}`\n}\n\n/**\n * Compute File Name with given Size label\n *\n * @param {String} filename - with extension, result of `fileName()`\n * @param {String} size - for given `filename`\n * @returns {String} filename with size added to the name.\n */\nexport function fileNameSized (filename, size) {\n  if (!size) return filename\n  const name = fileNameWithoutExt(filename)\n  const ext = fileFormatNormalized(filename)\n  const extension = ext ? `.${ext}` : ''\n  return `${name}_${size}${extension}`\n}\n\n/**\n * Compute Unique File ID for given FileInput props.\n * File can have different versions with the same `id`, thus need to combine other props as primary key.\n * @see `fileName()` for arguments and return value\n */\nexport function fileId ({name, ext, ...fileInput}) {\n  return fileName(fileInput)\n}\n\n/**\n * Create File Upload Folder from given Mongoose Document Instance\n * @param {Document} instance - Mongoose doc\n * @returns {String} folder - in this format `{ModelName}/{id}`\n */\nexport function folderFrom (instance) {\n  const {id, constructor: {modelName}} = instance\n  return `/${modelName}/${id}`\n}\n\n/**\n * Standardizes how the absolute file path is computed\n * @param {String} [filename] - required if absolute `path` not given (ex. photo.jpg)\n * @param {String} [folder] - file directory path relative to `workDir`, if `dir` not given, must start with slash (ex. '/User')\n * @param {String} [workDir] - absolute working directory path, defaults to UPLOAD.PATH\n * @param {String} [dir] - absolute directory path, excluding file name (ex. `/root/uploads`), defaults to `workDir` + `folder`\n * @param {String} [path] - required if `filename` not given, absolute directory path, including file name (ex. `/root/uploads/old_image.jpg`)\n * @returns {Object} {dir, path, name}\n *    - `path` -> absolute path including filename,\n *    - `dir` -> without filename\n *    - `name` -> filename\n */\nexport function resolvePath ({filename = '', folder = '', dir = '', path = '', workDir = UPLOAD.PATH}) {\n  if (!filename && !path) throw new Error(`${resolvePath.name}() requires either 'filename' or full absolute 'path'`)\n  if (!path) {\n    if (!dir) dir = `${workDir}${folder}`\n    const _name = fileNameWithoutExt(filename)\n    const slash = _name && '/' // turn directory into file when `filename` only has extension (ex. '.jpg')\n    path = `${dir}${slash}${filename}`\n    dir = _name ? dir : path.substr(0, path.lastIndexOf('/'))\n  } else {\n    dir = path.substr(0, path.lastIndexOf('/'))\n  }\n  const name = path.substr(path.lastIndexOf('/') + 1)\n  return {dir, path, name}\n}\n\n/**\n * Parse <UploadGridField/> onChange(files) values to match Backend API\n * @param {FileInput[]|FileInput} files - single or list of FileInputs to parse\n * @returns {Object[]|Object|void} {file, kind, i, remove}[] - single or list of FileInputs for backend\n */\nexport function fileParser (files) {\n  if (isList(files)) {\n    const list = files.map(fileParser).filter(v => v)\n    if (list.length) return list\n  } else {\n    const {file, kind, i, remove} = files\n    if (file) return {file, kind, i}\n    if (remove) return {kind, i, remove}\n  }\n}\n\n/**\n * Parse <UploadGridField/> onChange(files) values to have `kind` as given\n * @param fileInput\n * @param {String} kind - to use\n * @returns {{kind, remove}|{file, kind}} fileInput for backend with kind inserted\n */\nexport function fileKindParser (fileInput, kind) {\n  const {file, remove} = fileInput\n  if (file) return {file, kind}\n  if (remove) return {kind, remove}\n}\n\n/**\n * Load Image file\n *\n * @param {String} src - full image file path\n * @return {Promise<Image|Error>} promise - resolves to loaded Image file or error\n */\nexport function loadImage (src) {\n  return new Promise((resolve, reject) => {\n    const img = new Image()\n    img.onload = () => resolve(img)\n    img.onerror = reject\n    img.src = src\n  })\n}\n\n/**\n * Compute Image `preview` URL/pathname (can accept Base64 string) in different sizes for consumption by frontend:\n *  - `preview` matches original `src`\n *  - `preview.medium` matches medium size of `src`\n *  - `preview.thumb` matches thumbnail size of `src`\n *\n * => pass in `null` as the second parameter to disable default fallback to IMAGE.SIZES.\n *\n * @example:\n *    const preview = previewSizes(image)\n *    preview == image.src >>> true\n *    preview.medium >>> string\n *    preview.thumb >>> string\n *\n * Scenarios:\n *  1. Production file: use `src` suffixed with 'medium' for default size, else `src` as 'original'\n *  2. Local dev file: user `src` as base64 data if it is of base64 type, else same as point 1.\n * @param {Object} - FileInput with `src` and optional `sizes` attribute (ex. [{key: 'medium', val: 99}])\n * @param {String[]|Null} [resKeys] - use predefined image size keys when FileInput.sizes not available\n * @return {Object|Undefined} preview<medium, thumb...> - string object with sizes attached as props of `preview`\n */\nexport function previewSizes ({src, sizes}, resKeys = imgSizes) {\n  if (!src) return\n  if ((sizes || resKeys) && isFileSrc(src)) {\n    // noinspection JSPrimitiveTypeWrapperUsage\n    const preview = new String(src)\n    if (sizes) {\n      for (const size of sizes) {\n        const {key} = size\n        if (!key) continue\n        preview[key] = fileNameSized(src, key)\n      }\n    } else {\n      // fallback is needed to compute sizes for EntrySummary that likely doesn't query `sizes`,\n      resKeys.forEach(key => key && (preview[key] = fileNameSized(src, key)))\n    }\n    return preview\n  }\n  return src\n}\n\nconst imgSizes = Object.keys(IMAGE.SIZES)\n","import { createSelector } from 'reselect'\nimport { logSelector } from 'ui-utils-pack'\nimport { API } from './constants'\n\n/**\n * STATE SELECTORS =============================================================\n * Memoized Functions - to retrieve specific branches of the app state\n * =============================================================================\n */\n\n/* Actions Pending Authentication */\nexport const actionsPendingAuth = createSelector(\n  (state) => state[API].data.actionsPendingAuth,\n  (val = []) => {\n    logSelector(`${API} actionsPendingAuth`, val)\n    return val\n  }\n)\n\n/* Actions Pending Location */\nexport const actionsPendingLocation = createSelector(\n  (state) => state[API].data.actionsPendingLocation,\n  (val = []) => {\n    logSelector(`${API} actionsPendingLocation`, val)\n    return val\n  }\n)\n\n/* Actions Pending Network */\nexport const actionsPendingNetwork = createSelector(\n  (state) => state[API].data.actionsPendingNetwork,\n  (val = []) => {\n    logSelector(`${API} actionsPendingNetwork`, val)\n    return val\n  }\n)\n","/**\n * CONSTANT VARIABLES ==========================================================\n * =============================================================================\n */\n\nexport const NAME = 'SAGA'  // Namespace this module\n","import { NAME } from './constants'\nimport middleware from './middleware'\n\n/**\n * EXPORTS =====================================================================\n * Modules' Exposing API - to enable consistent and maintainable app integration\n * =============================================================================\n */\n\nexport * from './utils'\nexport {\n  middleware\n}\n\nconst saga = {\n  NAME,\n  hasEnabledSaga: true,  // for createStore() to check\n  middleware,\n}\n\nexport default saga\n","import cn from 'classnames'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Text from './Text'\n\n/**\n * Color Swatch - Pure Component.\n */\nexport function ColorSwatch ({\n  value,\n  small,\n  large,\n  className,\n  style,\n  ...props\n}) {\n  const color = String(value || '')\n  if (color) style = {backgroundColor: `rgb(${color})`, ...style}\n  return <Text\n    className={cn('color__swatch', className, {small, large, white: color === '255,255,255', black: color === '0,0,0'})}\n    style={style}\n    {...props}\n  />\n}\n\nColorSwatch.propTypes = {\n  /** RGB Value */\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.number)\n  ]).isRequired,\n  small: PropTypes.bool,\n  large: PropTypes.bool,\n  className: PropTypes.string,\n  style: PropTypes.object,\n}\n\nexport default React.memo(ColorSwatch)\n","import classNames from 'classnames'\nimport React from 'react'\nimport { Active, debounce, LANGUAGE, round, shortNumber, SORT_ORDER, toUpperCase } from 'ui-utils-pack'\nimport ColorSwatch from './ColorSwatch'\nimport { FILE } from './files'\nimport Icon from './Icon'\nimport Image from './Image'\nimport Row from './Row'\nimport Text from './Text'\n\nexport const noSpellCheck = {\n  autoComplete: 'off',\n  autoCorrect: 'off',\n  autoCapitalize: 'off',\n  spellCheck: false,\n}\n\n/**\n * RENDER HELPERS ==============================================================\n * =============================================================================\n */\n\n/**\n * Create Color Swatch Options from RGB Definition for use with Dropdowns\n *\n * @param {Object|Array<Object>} colorObj - definition from variables.js\n * @param {Object} Active - object containing active .LANG._\n * @returns {Object<lang[{text, value, content}]>} options - grouped by language code, for use with dropdowns\n */\nexport function colorDropdownOptions (colorObj, Active) {\n  const options = {\n    get items () {\n      return this[Active.LANG._] || this[LANGUAGE.ENGLISH._] || []\n    }\n  }\n  for (const key in colorObj) {\n    const {_, ...langs} = colorObj[key]\n    const value = String(_) // Dropdown `value` cannot be array\n    for (const lang in langs) {\n      const text = langs[lang]\n      options[lang] = (options[lang] || []).concat({\n        text,\n        value,\n        content: <Row className='input--dropdown__option middle'>\n          <ColorSwatch value={value} className='input--dropdown__option__color'/>\n          <Text className='margin-top-smallest'>{text}</Text>\n        </Row>\n      })\n    }\n  }\n  return options\n}\n\n/**\n * Create Language Options from Language Definition for use with Dropdowns\n *\n * @param {Object|Array<Object>} languageObj - definition from variables.js\n * @param {Boolean} [selection] - whether to render as selected language flag and code, default is searchable text\n * @returns {Object<lang[{text, value, content}]>} options - grouped by language code, for use with dropdowns\n */\nexport function languageDropdownOptions (languageObj, {selection} = {}) {\n  const options = {\n    get items () {\n      return this[Active.LANG._] || this[LANGUAGE.ENGLISH._] || []\n    }\n  }\n  for (const key in languageObj) {\n    const {_, lang: name, ...langs} = languageObj[key]\n    for (const lang in langs) {\n      const text = langs[lang]\n      options[lang] = (options[lang] || []).concat({\n        text: selection\n          ? (\n            <Row className='input--dropdown__option middle'>\n              <Image className='margin-right-smaller' name={`${_.toLowerCase()}.svg`}\n                     path={`${FILE.PATH_IMAGES}flags/`}/>\n              <Text className='no-wrap'>{toUpperCase(_)}</Text>\n            </Row>\n          )\n          : `${text} ${name}`, // make option searchable both in chosen and native language\n        value: _,\n        content: <Row className='input--dropdown__option middle'>\n          <Image className='margin-right-small' name={`${_.toLowerCase()}.svg`} path={`${FILE.PATH_IMAGES}flags/`}/>\n          <Text>{text}</Text>\n        </Row>\n      })\n    }\n  }\n  return options\n}\n\n/**\n * Render Selected Option with Color Swatch in Multiple Choices Dropdown\n * @example:\n *    FIELD.DEF = {\n *      [FIELD.ID.COLOR]: {\n *        view: FIELD.TYPE.DROPDOWN,\n *        renderLabel: colorDropdownChoice,\n *      }\n *    }\n *\n * @param {Object<value, text>} obj - selected dropdown item\n * @returns {Object<content>}\n */\nexport function colorDropdownChoice (obj) {\n  return {\n    content: <Text className='bottom'>\n      <ColorSwatch value={obj.value} className='input--dropdown__option__color'/>\n      <Text>{obj.text}</Text>\n    </Text>\n  }\n}\n\n/**\n * Render Currency Amount in consistent manner\n *\n * @param {Number|String} amount - float number or string\n * @param {Number} [decimals] - the number of decimal digits to keep\n * @param {*} [props] - other pros to pass\n * @returns {Object} - React component\n */\nexport function renderCurrency (amount, decimals, props) {\n  return renderFloat(amount, decimals != null ? decimals : (amount < 100 ? 2 : 0), props)\n}\n\n/**\n * Render Float Number as Localised String with Faded Fraction\n *\n * @param {String|Number} value\n * @param {Number|Undefined} [decimals] - the number of fraction digits to keep, default has no fraction (Integer)\n * @param {*} [props<truncated, faded>] - other pros to pass\n *    `truncated: true` will not apply rounding, but only trim excess fraction\n *    `faded: false` will not apply fraction part with faded CSS style\n * @return {Object} - React component\n */\nexport function renderFloat (value, decimals, props) {\n  const {truncated, faded = true, ...options} = props || {}\n  let fraction = String(value).split('.')[1] || '0' // extract fraction before rounding, because we need fixed length\n  if (!truncated && decimals != null) value = round(value, decimals)\n  const showFraction = decimals > 0\n  if (showFraction) {\n    fraction = truncated ? fraction.substr(0, decimals == null ? undefined : decimals) : fraction\n    fraction = Number('0.' + fraction).toLocaleString(undefined, decimals == null ? undefined : {\n      minimumFractionDigits: decimals,\n      maximumFractionDigits: decimals,\n    }).substr(1) // toLocalString will return fixed length fraction to given decimals number\n  }\n  return (\n    <Text {...options}>\n      {Math.trunc(value).toLocaleString()}\n      {showFraction && (faded ? <Text className='fade--quarter no-margin'>{fraction}</Text> : fraction)}\n    </Text>\n  )\n}\n\n/**\n * Render Float Number as Shortened Localised String with Faded Decimals (keeping only given significant digits)\n *\n * @param {String|Number} value\n * @param {Number} [digits] - the number of significant digits to keep\n * @param {*} [props] - other pros to pass\n * @return {Object} - React component\n */\nexport function renderFloatShort (value, digits = 3, props) {\n  const [number, unit] = shortNumber(value, digits).split(/([a-zA-Z]+)/) // split at SI unit, keeping the unit\n  return (\n    <Text {...props}>{renderFloat(number, undefined, {className: 'no-margin'})}{unit}</Text>\n  )\n}\n\n/**\n * Render Sort Icon\n *\n * @param {Number|Undefined} order - sorting order, one of renderSort.icon keys\n * @param {Number|Undefined} [id] - of the column or row to sort\n * @param {Function} [onClick] - callback when sort Icon is clicked, received clicked sort object\n * @param {String} [className] - CSS class names to add\n */\nexport function renderSort ({id, order}, {onClick, className} = {}) {\n  return (\n    <Icon\n      className={classNames('app__sort__icon', className, {active: !order})}\n      name={renderSort.icon[order || 0]}\n      onClick={onClick && (() => onClick({id, order}))}\n    />\n  )\n}\n\nrenderSort.icon = SORT_ORDER\n\n/**\n * Resize Element Width to Match Content Length\n *\n * @param {String} value - of the element to resize\n * @param {Object} style - of the element to resize\n * @param {Boolean|Number} offset - count of characters to add to final width\n */\nexport function resizeToContent (value, style, offset = 1) {\n  // Add additional character to prevent truncation from uneven fonts\n  // boolean `offset` evaluates to 1 by default.\n  style.width = value.length + Number(offset) + 'ch'\n  style.boxSizing = 'content-box'\n  if (!style.transition) style.transition = '200ms'\n}\n\n/**\n * Event handler to autosize Input height to match typed in text height\n * @example:\n *  <Input type='textarea' onKeyUp={toTextHeight} />\n */\nexport const toTextHeight = debounce(toTextHeightFunc, 50, {leading: true})\n\nexport function toTextHeightFunc (e) {\n  if (!e.target) return\n\n  // Reset field height\n  e.target.style.height = 'inherit'\n\n  // Get the computed styles for the element\n  const computed = window.getComputedStyle(e.target)\n\n  // Calculate the height\n  const height = parseInt(computed.getPropertyValue('border-top-width'), 10)\n    + e.target.scrollHeight\n    + parseInt(computed.getPropertyValue('border-bottom-width'), 10)\n\n  e.target.style.height = `${Math.min(height, Math.round(window.innerHeight / 5))}px`\n}\n","import { UI } from 'ui-modules-pack/variables'\nimport { fieldsFrom } from 'ui-modules-pack/variables/fields'\nimport PropTypes from 'prop-types'\nimport React, { PureComponent } from 'react'\nimport { Field, Form } from 'react-final-form'\nimport { tooltipProps } from 'ui-react-pack'\nimport { isRequired } from 'ui-react-pack/inputs/validationRules'\nimport Text from 'ui-react-pack/Text'\nimport ToolTip from 'ui-react-pack/Tooltip'\nimport TooltipPop from 'ui-react-pack/TooltipPop'\nimport View from 'ui-react-pack/View'\nimport { Active, debounce, isEqualJSON, toJSON, warn } from 'ui-utils-pack'\nimport { hasObjectValue, objChanges, set } from 'ui-utils-pack/object'\nimport { _ } from 'ui-utils-pack/translations'\nimport { clearErrorsMap, errorsProcessing } from 'core/src/pages/main/utils'\nimport { formsStorage } from 'core/src/pages/main/rules'\nimport arrayMutators from 'final-form-arrays'\n\n/**\n * STATE SELECTORS =============================================================\n * Memoized Functions - to retrieve specific branches of the app state\n * =============================================================================\n */\n\nlet isDataChangedListenerCalled = false;\n\n/**\n * Get Form's Field Values\n * @param {Object} form - instance from react-final-form\n * @return {Object} formValues - key values of field names and values\n */\nexport function fieldValues (form) {\n  return form.getState().values\n}\n\n/**\n * Get Form's Registered Field Values\n *\n * @param {FormApi} form - instance from react-final-form\n * @returns {Object|Undefined} values - nested mapping of field values by their name, or `false` if no field values found\n */\nexport function registeredFieldValues (form) {\n  const registeredFieldNames = form.getRegisteredFields()\n  if (!registeredFieldNames.length) return\n\n  // Return object mapping of registered values,\n  // unfilled fields are considered as non-registered.\n  const values = {}\n  registeredFieldNames.forEach(field => {\n    const {value} = form.getFieldState(field)\n    if (value != null) set(values, field, value) // use set() to convert nested paths to objects\n  })\n  if (hasObjectValue(values)) return values\n}\n\n/**\n * Get Form's Registered Field Errors\n *\n * @param {FormApi} form - instance from react-final-form\n * @returns {Object|Undefined} errors - key values of field names and error messages\n */\nexport function registeredFieldErrors (form) {\n  const registeredFieldNames = form.getRegisteredFields()\n  if (!registeredFieldNames.length) return\n\n  // Return object mapping of registered field errors,\n  // unfilled fields are considered as non-registered.\n  const errors = {}\n  registeredFieldNames.forEach(field => {\n    const {error} = form.getFieldState(field)\n    if (error != null) errors[field] = error\n  })\n  if (hasObjectValue(errors)) return errors\n}\n\n/**\n * HELPER FUNCTIONS ============================================================\n * =============================================================================\n */\n\n/**\n * Wrapper Proxy for react-final-form or redux-form Field with unified API.\n * @Note:\n *    - `normalize` does not exist in react-final-form, only `format` and `parse`\n *      => Make `format` and `parse` fallback to `normalize`, when undefined,\n *         for compatibility with redux-form.\n *    - must use Class to prevent input from loosing focus on input 'onChange'\n *\n * @param InputComponent - React component to use for input\n * @param {Function} sanitize(value, props) - callback to parse (formatted) value from input Field to InputComponent\n * @returns {Class} React InputComponentField - connected to react-final-form or redux-form\n */\nexport function asField (InputComponent, {sanitize} = {}) {\n  if (!Active.Field) Active.Field = Field\n  // noinspection JSPotentiallyInvalidUsageOfThis\n  const Class = class extends PureComponent {\n    static propTypes = {\n      // Input `name` attribute\n      name: PropTypes.string.isRequired,\n      // Instance of the Class component decorated withFormSetup (i.e withForm)\n      instance: PropTypes.object,\n      // Whether to fire Field.onChange(null) when its component unmounts\n      onRemoveChange: PropTypes.bool,\n      label: PropTypes.any,\n      id: PropTypes.string,\n      // HTML Input type attribute\n      type: PropTypes.string,\n      // Input placeholder\n      placeholder: PropTypes.any,\n      // help text or component to show on focus\n      info: PropTypes.any,\n      // help text or component to show on invalid input\n      error: PropTypes.any,\n      value: PropTypes.any,\n      onChange: PropTypes.func,\n      format: PropTypes.func,\n      normalize: PropTypes.func,\n      parse: PropTypes.func,\n      translate: PropTypes.func,\n    }\n\n    state = {\n      selectPreviousValue: null\n    }\n\n    get value () {\n      if (this._value !== void 0) {\n        return this._value\n      }\n      return ''\n    }\n\n    set value (v) {\n      this._value = v\n    }\n\n    componentDidMount () {\n      this.didMount = true\n    }\n\n    // Handle onRemove field in FIELD.TYPE.MULTIPLE*\n    componentWillUnmount () {\n      // warn('-------componentWillUnmount', this.constructor.name)\n      // Call onChange for the deleted input, setting it to `null`:\n      // - if input is not registered, its value will not pass to backend\n      //   => this should be fine, because if registeredValues are used,\n      //      then backend should override the entire object (i.e. removing unregistered fields automatically).\n      // - if changedValues are used, the deleted `null` value will be sent to backend,\n      //      because changedValues does not depend on registered values.\n      // Use setTimeout to avoid triggering `valid: false` for required fields\n      // @scenario:\n      //  - onChange(null) triggers `valid: false` for FIELD.TYPE.MULTIPLE with `required`, thus canSave gets disabled\n      //    => to fix it, need to call onChange(null) after input unmounts, or disable validation temporarily\n      //        => both cases do not update `pristine`, so cannot rely on this for `canSave` state.\n      // @Note:\n      //  - this.props.onChange is callback defined in withFormSetup - does not update form values, or change `pristine`\n      //  - this.input.onChange is callback from final-form/redux-form - does not trigger parent re-render directly, only when `valid` prob changes\n      // => the best logic is to change input value after it unmounts, and call `onChange` to update parent state,\n      //    because this avoids validation, ties all operations together and persists `state.canSave`.\n      const {instance, name, onChange, onRemoveChange} = this.props\n      if (instance && onRemoveChange) {\n        const initialValues = this.initValues\n        setTimeout(() => {\n          // only call this if the form is not unmounted and initialValues remained (i.e. not between transitions)\n          if (instance.isUnmounting) {\n            return\n          }\n          const form = instance.form\n          if (form && initialValues === instance.props.initialValues) {\n            form.change(name, null)\n            onChange && onChange(null) // update Save button state\n          }\n        }, 0)\n      }\n    }\n\n    // do not use ...props from input, because it is shared by <Active.Field> instances\n    // @Note: react-final-form fires `format()` when `input.value` getter is called\n    Input = ({input: {value, ...input}, meta: {touched, error, pristine} = {}}) => {\n      const {\n        onChange, error: err, defaultValue, normalize, format, parse, validate,\n        instance, onRemoveChange, ...props\n      } = this.props\n\n      if (!this.hasFocus) { // use cached `value` while editing to prevent format/parse bugs and rerender\n        // @Note: defaultValue is only used for UI, internal value is still undefined\n        this.value = value === void 0\n          ? (pristine && defaultValue != null ? (format ? format(defaultValue) : defaultValue) : value)\n          : value\n\n      }\n\n      // Hide this field if it's readonly and has no value.\n      if (this.props.readonly && isRequired(this.value != null ? this.value : this.props.value)) return null\n\n      this.input = input\n\n      if (instance) this.initValues = instance.props.initialValues\n\n      const nextValue = (InputComponent.displayName) === 'Dropdown'\n        ? (value === '' ? undefined : value)\n        : sanitize\n          ? sanitize(this.value, this.props)\n          : this.value\n\n      if ((InputComponent.displayName) === 'Dropdown') {\n        if (nextValue === value) {\n          this.setState({\n            selectPreviousValue: nextValue\n          })\n        } else if (nextValue !== value && this.state.selectPreviousValue !== null) {\n          props.value = nextValue\n          this.setState({\n            selectPreviousValue: null\n          })\n        }\n\n      }\n\n      return (\n        <InputComponent\n          {...input}\n          value={nextValue}\n          onFocus={this.handleFocus}\n          onBlur={this.handleBlur} // prevent value change, but need onBlur to set touched for validation\n          onChange={this.handleChange}\n          error={error && (touched || !pristine) && (err || error)} // only show error after user interaction\n          {...props} // allow forceful value override\n        />\n      )\n    }\n\n    handleFocus = (...args) => {\n      this.hasFocus = true\n      return this.input.onFocus(...args)\n    }\n\n    handleBlur = () => {\n      this.hasFocus = false\n      return this.input.onBlur()\n    }\n\n    handleChange = (value, ...args) => {\n      const {onChange, type, normalize, parse = normalize} = this.props\n      /**\n       * @Note:\n       *  - `parse` gets called by final-form automatically on input.onChange,\n       *    but `formatOnBlur` (needed to prevent cursor jumping) only calls format onBlur,\n       *    even if input did not change. This causes extra call on `format` when input did not change,\n       *    and doesn't call `format` when `parse` was called onChange.\n       *    => the solution is to cache `value` internally to prevent Input rerender while in focus,\n       *      and remove `formatOnBlur` because it's buggy behavior (does not format on initial mount).\n       */\n      if (this.hasFocus) {\n        this.value = value // store value exactly as typed in (example: value of '1.0' to work nicely with `unit` = '%')\n      }\n      // Possible need to remove this transformation\n      // Value is already a number or null by the time it gets here\n      // if (type === 'number') {\n      //   value = value !== '' ? Number(value) : null\n      // }\n      this.input.onChange(value) // both redux-form and final-form input.onChange can accept 'event' or 'value'\n      onChange && onChange(parse ? parse(value) : value, ...args)\n    }\n\n    // Do not pass 'onChange' to Field because it fires event as argument\n    // final-form does not take controlled `value`\n    render () {\n      const {\n        name, disabled, normalize, format, parse = normalize, validate, options\n      } = this.props\n      return <Active.Field {...{name, disabled, normalize, format, parse, validate, options}}\n                           component={this.Input}/>\n    }\n  }\n\n  Object.defineProperty(Class, 'name', {value: (InputComponent.name || InputComponent.constructor.name) + 'AsField'})\n  return Class\n}\n\n/**\n * React Component React Final Form Decorator with getters to detect form input changes\n * @note:\n *  - cannot wrap connected to redux component, @connect must be declared before\n *  - onSubmit can be passed to the decorated Class component\n * @example:\n *     *@withForm()\n *      class SigninForm extends PureComponent {}\n *      // later in the render()\n *      <SigninForm onSubmit={(formValues, form, callback: ?(errors?) => void) => ?Object | Promise<?Object> | void}/>\n *      // see https://final-form.org/docs/react-final-form/types/FormProps#onsubmit\n *\n * @usage:\n *  Below methods only work when using this.renderInput(FIELD.FOR.LIST),\n *  or apply <Input onChange={this.handleChangeInput.bind(this)}/> manually:\n *  - this.canSave - getter boolean: true if form has input changes, no validation error exists, and is not loading\n *  - this.changedValues - getter object: key value pairs of form input values that have changed since initial values\n *  - this.registeredValues - getter object: key value pairs of registered form input values\n *  - this.changedAndRegisteredValues - getter object: combination of above\n *  - this.formValues - getter object: key value pairs of all form input values\n *  - this.renderInput - function: to render form inputs using FIELD.FOR.LIST definition (hooks `onChange` to inputs).\n *\n * @helpers:\n *  - this._fields - list: of FIELD.FOR.LIST hydrated with props and initialValues, ready for rendering.\n *  - this.handleChangeInput() - function: updates state.canSave (hooked to this.renderInput, must be defined as function)\n *  - this.syncInputChanges() - function: can be called manually to update input changes state, and force re-rendering\n *  - this.props.tooltip - object|boolean: automatically wrap rendered input with Semantic UI Popup\n *  - this.props.onChangeState - function: callback when internal state changes, receives this class instance,\n *        or {} on unmount. This is useful for nested forms with remote submit button within parent container.\n *\n *  @example:\n *    @connect(mapStateToProps)\n *    @withForm({subscription: {pristine: true, valid: true}})\n *    export default class UserEdit extends Component {\n *      state = {\n *        company: {}\n *      }\n *      render = () => (\n *        <View>\n *          <Company onChangeState={(instance) => this.setState({company: instance})} />\n *          <Button disabled={!this.state.company.canSave}>Save<Button/>\n *        </View>\n *      )\n *    }\n *\n * @param {FormProps|Object} [options] - for <Form/> see: https://final-form.org/docs/react-final-form/types/FormProps\n * @param {Component} [Tooltip] - React component to wrap inputs with tooltip\n * @returns {Function} decorator - HOC wrapper function for given React component\n */\nexport function withForm (options = {subscription: {pristine: true, valid: true}}, Tooltip = TooltipPop) {\n  return function Decorator (Class) {\n    // @Note: form field re-renders because of constantly changing formProps reference\n    //        => convert it to instance getter, so `asField` does not depend on formProps.\n    //        => cannot use context, because it triggers re-render of all child components.\n    // Define withFormSetup here to load it only once on App init\n    withFormSetup(Class, {fieldValues, registeredFieldValues, registeredFieldErrors, Tooltip})\n\n    // @Note: to avoid several WithForm instances sharing the same closure props,\n    //        this decorator must return a class component that stores its internal state between re-renders.\n    // Use PureComponent to avoid double checking large payloads.\n    // noinspection JSPotentiallyInvalidUsageOfThis\n    return class WithForm extends PureComponent {\n      get initValues () {\n        return this._initValues || (this._initValues = this.props.initialValues)\n      }\n\n      prevInitialValues = null;\n\n      // @see: https://final-form.org/docs/react-final-form/types/FormProps\n      // Form only calls `render` function when `subscription` changes, or itself rerenders.\n      // `formState` can remain unchanged, even if `initialValues` changed.\n      // thus comparing formState is not suitable for memoizing when props change.\n      // `formProps` does not pass through `initialValues` (it's undefined).\n      // => better to let `render` function always run, and memoize at the highest <WithForm> level.\n      // => this way, rerender is minimized to only when props changed, or form state changed.\n      renderForm = ({form, handleSubmit, ...formProps}) => {\n        // warn('-->>renderForm-----------------')\n        // formProps `form` and `handleSubmit` props always change, possibly due to inline fat arrow function.\n        this.form = form\n        this.handleSubmit = handleSubmit\n        if (!isEqualJSON(this._formProps, formProps)) this._formProps = formProps\n\n        // Class should use PureComponent to take advantage of caching\n        return <Class {...this._props} formProps={this._formProps} initialValues={this._initValues} instance={this}/>\n      }\n\n      componentDidMount () {\n        const { meta, initialValues } = this.props\n        this.prevInitialValues = {...initialValues}\n        formsStorage.set(this.prevInitialValues, {\n          meta: meta,\n          form: this.form\n        });\n      }\n\n      UNSAFE_componentWillReceiveProps (next, nextContext) {\n        const {initialValues, meta} = next\n        // Only assign `initialValues` when it truly changes\n        if (this._initValues !== initialValues && !isEqualJSON(this._initValues, initialValues)) {\n          formsStorage.delete(this.prevInitialValues)\n          this._initValues = initialValues\n          this.prevInitialValues = {...initialValues}\n          // explicitly reset to new values when entries change,\n          // because final-form only resets to the very first initialValues.\n          if (this.form) {\n            this.form.reset(this._initValues)\n            formsStorage.set(this.prevInitialValues, {\n              meta: meta,\n              form: this.form\n            });\n          }\n        }\n      }\n\n      componentWillUnmount () {\n        formsStorage.delete(this.prevInitialValues)\n      }\n\n      render () {\n        // warn('-->>WithForm-------------------------------------------')\n        const {initialValues, onSubmit = warn, ...restProps} = this.props\n        this._props = restProps\n\n        // @Note: when form is submitted, it triggers loading true, and receives old initialValues.\n        // If the `initialValues` is computed on the fly and changes reference each time,\n        // <Form/> reinitialises while loading, causing the flickering.\n        // => either cache `initialValues`, or better, stop <Form/> from reinitializing while loading.\n        //    because final-form always re-initializes, there is no `enableReinitialize` like redux-form.\n        return <Form\n          onSubmit={onSubmit}\n          {...options}\n          mutators={{\n            ...arrayMutators\n          }}\n          initialValues={this.initValues}\n          render={this.renderForm}\n        />\n      }\n    }\n  }\n}\n\n/**\n * Mixin to add Class Attributes and Methods commonly used with forms\n * @note: works with react-final-form, redux-form requires update with parent `instance` for `this.form` to work\n *\n * @param {Object} Class - React Component or PureComponent to decorate\n * @param {Function} fieldValues - callback to get form values\n * @param {Function} registeredFieldValues - callback to get form registered values\n * @param {Function} registeredFieldErrors - callback to get form registered errors\n * @param {Component} [Tooltip] - React component to wrap inputs with tooltip\n * @returns {Object} Class - mutated with form properties\n */\nexport function withFormSetup (Class, {fieldValues, registeredFieldValues, registeredFieldErrors, Tooltip}) {\n  if (!Active.renderField) throw new Error(`${withFormSetup.name} requires Active.renderField to be registered`)\n  const UNSAFE_componentWillReceiveProps = Class.prototype.UNSAFE_componentWillReceiveProps\n  const componentWillUnmount = Class.prototype.componentWillUnmount\n  const handleChangeInput = Class.prototype.handleChangeInput\n\n  Class.propTypes = {\n    formProps: PropTypes.object.isRequired, // form props, without `form` and `handleSubmit`\n    instance: PropTypes.object.isRequired, // {Class<form, handleSubmit>} WithForm instance for getting the form\n    initialValues: PropTypes.object, // form initial values\n    onChangeState: PropTypes.func, // onChangeState(this: Class)\n    ...Class.propTypes\n  }\n\n  Class.prototype.state = {\n    // This state only updates on input changes, for changes in parent props, use this.changedValues\n    canSave: false, // used to compare changes for re-rendering, like 'Save' button\n    ...Class.prototype.state\n  }\n\n  // Define instance getter\n  Object.defineProperty(Class.prototype, 'form', {\n    get () {\n      return this.props.instance ? this.props.instance.form : this.props.parent.form\n    }\n  })\n\n  // Define instance getter\n  Object.defineProperty(Class.prototype, 'handleSubmit', {\n    get () {\n      return this.props.instance ? this.props.instance.handleSubmit : this.props.parent.handleSubmit\n    }\n  })\n\n  // Define instance getter\n  Object.defineProperty(Class.prototype, 'canSave', {\n    get () {\n      // @note: do not use `pristine` because it only reflects visible (i.e. registered inputs)\n      //        do not use `valid` because it does not compute correctly on tab changes in FieldsInGroup\n      const {loading} = this._props || this.props\n      return !loading && !registeredFieldErrors(this.form) && !!this.changedValues\n    }\n  })\n\n  // Define instance getter\n  Object.defineProperty(Class.prototype, 'formValues', {\n    get () {\n      return fieldValues(this.form)\n    }\n  })\n\n  // Define instance getter\n  Object.defineProperty(Class.prototype, 'registeredValues', {\n    get () {\n      return registeredFieldValues(this.form)\n    }\n  })\n\n  // Define instance getter\n  Object.defineProperty(Class.prototype, 'changedValues', {\n    get () {\n      // Have to select all form values, because registered values may not include all input values\n      const {initialValues} = this._props || this.props\n      return objChanges(initialValues, this.formValues)\n    }\n  })\n\n  // Define instance getter\n  Object.defineProperty(Class.prototype, 'changedAndRegisteredValues', {\n    get () {\n      const values = Object.assign({}, this.registeredValues || {}, this.changedValues || {})\n      if (hasObjectValue(values)) return values\n    }\n  })\n\n  // Define instance getter\n  Object.defineProperty(Class.prototype, 'validationErrors', {\n    get () {\n      const errors = registeredFieldErrors(this.form)\n      if (!errors) return null\n      const messages = []\n      // Use label if defined, for more intuitive error messages\n      const fields = this._fields || []\n      for (const k in errors) {\n        let {label, labelGroup} = fields.find(({name}) => name === k) || {}\n        label = labelGroup || label || k\n        messages.push(<Text key={k} className=\"margin-bottom-smaller\">{`• ${label}: ${toJSON(errors[k])}`}</Text>)\n      }\n      return (\n        <View className=\"padding-h-smaller\">\n          <Text className=\"margin-v-small bold\">{_.PLEASE_COMPLETE_}</Text>\n          {messages}\n        </View>\n      )\n    }\n  })\n\n  Object.defineProperty(Class.prototype, 'validationErrorsTooltip', {\n    get () {\n      const errors = this.validationErrors\n      return errors ? <ToolTip top>{errors}</ToolTip> : null\n    }\n  })\n\n  // Define instance method\n  Class.prototype.renderInput = function (FIELDS, {onChange, fieldsSetup} = {}) {\n    const {initialValues} = this.props\n    this._fields = fieldsFrom(FIELDS, {initialValues})\n    if (fieldsSetup) this._fields = this._fields.map(fieldsSetup)\n    return this._fields\n      .map(({id, onRenderProps, ...field}, i) => ({ // convert id to key just before rendering, to prevent unmounts on form.reset()\n        key: `${id}_${field.name || i}`,\n        ...field,\n        ...onRenderProps && onRenderProps(this, initialValues),\n        onChange: (...args) => {\n          field.onChange && field.onChange(...args, this)\n          this.handleChangeInput(...args)\n          onChange && onChange(...args)\n        },\n        instance: this,\n      }))\n      .map(({tooltip, ...field}) => {\n        const result = Active.renderField(field)\n        // Wrap component with Tooltip automatically\n        if (tooltip != null)\n          return <Tooltip key={field.key} {...tooltipProps(tooltip)}>{result}</Tooltip>\n        return result\n      })\n  }\n\n  // Define instance method\n  Class.prototype.handleChangeInput = debounce(function () {\n    // To handle use case when all fields in a group are removed, and no registered values are sent to backend,\n    // use placeholder parent field that reserves as registered null value field for the entire group.\n    // See <Fields> component for example.\n    this.syncInputChanges()\n    if (handleChangeInput) handleChangeInput.apply(this, arguments)\n  }, UI.TYPING_DELAY)\n\n  // Define instance method\n  Class.prototype.syncInputChanges = function () {\n    const { formProps, onDataChanged, parent = {} } = this._props || this.props;\n    // console.log('syncInputChanges', formProps.pristine, isDataChangedListenerCalled)\n    if (formProps && !formProps.pristine || isDataChangedListenerCalled) {\n      isDataChangedListenerCalled = true\n      if (typeof onDataChanged === 'function') {\n        onDataChanged()\n      } else if (parent && typeof parent.onDataChanged === 'function') {\n        parent.onDataChanged();\n      }\n    }\n\n    const canSave = this.canSave\n    if (canSave !== this.state.canSave) {\n      this.setState({canSave})\n      const {onChangeState} = this._props || this.props\n      if (onChangeState) onChangeState(this)\n    }\n  }\n\n  Class.prototype.UNSAFE_componentWillReceiveProps = function (next) {\n    // @Note: using componentDidUpdate comparison logic is not reliable,\n    // because on the last re-render, Form may trigger `pristine` update without changing initialValues,\n    // which will make .canSave false, but this.syncInputChanges() only updated in the previous render, which was true.\n    // => thus need to take formProps into consideration\n    if (\n      !isEqualJSON(next.initialValues, this.props.initialValues) ||\n      !isEqualJSON(next.formProps, this.props.formProps)\n    ) {\n      // temporarily set to next props for state computation\n      this._props = next\n      this.syncInputChanges()\n      this._props = null\n      if (this._meta) {\n        errorsProcessing(this.form, this._meta);\n      }\n    }\n    if (UNSAFE_componentWillReceiveProps) UNSAFE_componentWillReceiveProps.apply(this, arguments)\n  }\n\n  Class.prototype.componentWillUnmount = function () {\n    if (this._meta) {\n      clearErrorsMap(this.form, this._meta)\n    }\n\n    this.isUnmounting = true\n    if (this.props.onChangeState) this.props.onChangeState({})\n    if (componentWillUnmount) componentWillUnmount.apply(this, arguments)\n  }\n\n  return Class\n}\n\n/**\n * React Component Group Input Change Decorator to fire onChange callback as group of fields together\n *\n * @usage:\n *  - provides this.fields prop that is automatically hooked with `onChange` to fire callback as group of inputs\n *\n * @example:\n *    @withGroupInputChange\n *    class Fields extends Component {\n *      render () {\n *        return this.fields.map(renderField)\n *      }\n *    }\n *\n * @param {Object} constructor - class\n */\nexport function withGroupInputChange (constructor) {\n  const componentDidMount = constructor.prototype.componentDidMount\n\n  constructor.propTypes = {\n    name: PropTypes.string, // top level field prefix\n    items: PropTypes.array.isRequired, // list of fields attributes to render\n    instance: PropTypes.object.isRequired, // Instance of the Class component decorated withFormSetup (i.e withForm)\n    initialValues: PropTypes.object, // input default values, required for `onChange` callback to work properly\n    onChange: PropTypes.func, // callback, receiving all nested field value changes combined, grouped by input name\n    required: PropTypes.bool, // input prop\n    disabled: PropTypes.bool, // input prop\n    ...constructor.propTypes,\n  }\n\n  // Define instance getter\n  Object.defineProperty(constructor.prototype, 'fields', {\n    get () {\n      // Hook to `onChange` call from each field in the group\n      const {items, name: prefix, instance} = this.props\n      return items.map(({name, onChange, ...field}) => ({\n        name: prefix ? (prefix + '.' + name) : name,\n        onChange: (val, ...args) => {\n          onChange && onChange(val, ...args)\n          this.handleChangeInput(name, val)\n        },\n        ...field,\n        instance,\n      }))\n    }\n  })\n\n  constructor.prototype.handleChangeInput = function (name, value) {\n    const {onChange} = this.props\n    if (!onChange) return\n    this.values = {...this.values, [name]: value}\n    onChange(this.values)\n  }\n\n  constructor.prototype.componentDidMount = function () {\n    const {onChange, initialValues, name} = this.props\n    if (name && onChange && initialValues === undefined)\n      warn(this.constructor.name, `.${name} requires 'initialValues', if 'onChange(values)' is used`)\n    // Oly pre-populate group values if initialValues was subset of the entire form, so changes can be submitted together\n    if (initialValues && name) this.values = {...initialValues}\n    if (componentDidMount) componentDidMount.apply(this, arguments)\n  }\n\n  return constructor\n}\n\n/**\n * Compose Validators Array into a Single Validator Function\n * @param {Function[]|function(any)} validators - to compose\n * @returns {Function} validator for use with react-final-form\n */\nexport function composeValidators (...validators) {\n  return (value) => validators.reduce((error, validator) => error || validator(value), undefined)\n}\n","import { isObject } from 'ui-utils-pack'\n\n/**\n * Semantic UI Popup props for nested Dropdown Menu (usually Buttons)\n */\nexport const dropdownPopup = {\n  // style: {position: 'absolute', top: -36, left: -18}, // uncomment for overlapping the first button\n  className: 'no-margin no-padding no-box-shadow no-border', // add `overlap [first/last]` class for styling\n  basic: true, // remove pointer\n  position: 'bottom center',\n  inverted: false,\n  hoverable: true, // comment this for debugging (sticky for dev console)\n  on: ['hover', 'focus'],\n  // on: 'click', // uncomment this for debugging (sticky for dev console)\n}\n\n/**\n * Convert `tooltip` prop to Popup props for rendering\n *\n * @param {Object|String|Number} tooltip - prop\n * @param {Object|Boolean} [defaultProps] - to use for Tooltip\n * @returns {Object} props - ready for use with Semantic UI Popup or Tooltip component\n */\nexport function tooltipProps (tooltip, defaultProps) {\n  return {...defaultProps, ...isObject(tooltip) ? tooltip : {title: tooltip}}\n}\n","import { NAME } from './constants'\n// import './renders' // to trigger all definitions\n\n/**\n * EXPORTS =====================================================================\n * Modules' Exposing API - to enable consistent and maintainable app integration\n * =============================================================================\n */\n\n// export * from '../form/renders' // to set Active.Field definitions\nexport * from 'react-final-form'\nexport * from './constants'\nexport * from './utils'\n\nconst form = {\n  NAME,\n}\n\nexport default form\n","import { Active, ALERT } from 'ui-utils-pack'\nimport { stateAction } from '../redux/actions'\nimport { POPUP } from './constants'\n\n/**\n * Open Popup Alert with given messages\n * @param {String|Number|Node|JSX} title\n * @param {String|Number|Node|JSX} [content]\n */\nexport function popupAlert (title, content) {\n  Active.store.dispatch(stateAction(POPUP, ALERT, {items: [{title, content}]}))\n}\n","import { runTask } from 'ui-modules-pack/saga/utils'\nimport { fetchFlow } from './utils'\n\n/**\n * FETCH API WRAPPER ===========================================================\n * =============================================================================\n */\n\n/**\n * Wrapper for fetch request with identical interface to Fetch API,\n * but using redux actions (via the `core/src/common/api` module).\n * This makes it easy to debug because requests are logged to console (if `core/src/common/logger` module is enabled).\n * @todo: write test because upgrading may break current implementation\n * @example:\n *    const {payload = {}, meta: {result} = {}} = await fetch(url, {params: {q: 'query'}})\n *\n * @param {String} url - to fetch\n * @param {String} [method] - RESTFul fetch method ['GET', 'POST', 'PATCH', 'DELETE'], default is 'GET'\n * @param {Object} [body] - payload to send with request\n * @param {Object} [params] - query string to append to url\n * @param {Object} [meta] - additional metadata to attach to the request\n * @returns {Promise<{payload, meta}>} action - result is always a Flux Standard Action with `meta.result`\n */\nexport function fetch (url, {method, body, params, ...meta} = {}) {\n  return runTask(fetchFlow, {url, method, payload: {body, params}, meta})\n}\n","import { POPUP_ALERT, POPUP_CONFIRM, POPUP_ERROR } from './constants'\n\n/**\n * STATE DATA ==================================================================\n * Initial State or Test Data - used to launch the app initially\n * =============================================================================\n */\n\nconst initState = {\n  data: {\n    activePopups: [\n      // POPUP_ALERT,\n      // POPUP_CONFIRM,\n      // POPUP_ERROR,\n    ],\n    [POPUP_ALERT]: {\n      items: [\n        // {\n        //   title: 'Alert Popup',\n        //   content: 'Alert details',\n        //   closeLabel: 'Ok'  // optional\n        // }\n      ]\n    },\n    [POPUP_CONFIRM]: {\n      items: [\n        // {\n        //   title: 'Confirm Action',\n        //   content: 'Confirm details',\n        //   confirmLabel: 'Delete',  // optional\n        //   confirmClass: 'inverted red',  // optional button className\n        //   action: (id) => {},  // dispatch action\n        //   id: 'argument to pass to action' // optional\n        // }\n      ]\n    },\n    [POPUP_ERROR]: {\n      items: [\n        // {\n        //   id: '21Fd-213',\n        //   status: 500,\n        //   title: 'Internal Server Error',\n        //   detail: 'Backend server issue'\n        // },\n        // {\n        //   id: '87fd-293',\n        //   status: 401,\n        //   title: 'Unauthorized',\n        //   detail: 'Token is required'\n        // }\n      ]\n    }\n  },\n  ui: {\n    loading: false,\n    className: ''\n  }\n}\n\nexport default initState\n\nexport const testPayload = {\n  items: [\n    {\n      title: 'Alert Popup 1',\n      content: 'Alert Text',\n      closeLabel: 'Ok'  // optional\n    },\n    // {\n    //   title: 'Alert Popup 2',\n    //   content: (\n    //     <View>\n    //       <Text>Full React Component</Text>\n    //       <Text>Full React Component</Text>\n    //       <Text>Full React Component</Text>\n    //       <Text>Full React Component</Text>\n    //       <Text>Full React Component</Text>\n    //       <Text>Full React Component</Text>\n    //       <Text>Full React Component</Text>\n    //       <Text>Full React Component</Text>\n    //       <Text>Full React Component</Text>\n    //       <Text>Full React Component</Text>\n    //       <Text>Full React Component</Text>\n    //       <Text>Full React Component</Text>\n    //       <Text>Full React Component</Text>\n    //       <Text>Full React Component</Text>\n    //     </View>\n    //   )\n    // }\n  ]\n}\n","import { combineReducers, handleActions, popups, uiLoading } from '../redux'\nimport { POPUP } from './constants'\nimport initState from './data'\n\n/**\n * ACTION HANDLERS =============================================================\n * Pure Functions Only - business logic to handle actions and update app state\n * =============================================================================\n */\n\n/* Data Handler */\nconst dataHandler = handleActions({\n  ...popups(POPUP)\n}, initState.data)\n\n/* UI Handler */\nconst uiHandler = handleActions({\n  ...uiLoading(POPUP)\n}, initState.ui)\n\nconst allHandlers = combineReducers({\n  data: dataHandler,\n  ui: uiHandler\n})\n\nexport default allHandlers\n","import {\n  API as API,\n  HTTP_401_UNAUTHORIZED,\n  NETWORK,\n  NETWORK_ERROR_MESSAGES,\n  REQUEST_TIMEOUT_MESSAGE\n} from 'ui-modules-pack/api/constants'\nimport { isApiActionTypeError, isApiActionTypeTimeout } from 'ui-modules-pack/api/utils'\nimport { stateAction, stateActionType, } from 'ui-modules-pack/redux/actions'\nimport { all, call, put, takeEvery } from 'ui-modules-pack/saga/utils'\nimport { ALERT, ERROR, get, hostname, isInList, LOGOUT, OPEN, SYSTEM, toList, } from 'ui-utils-pack'\nimport { POPUP, POPUP_ALERT, POPUP_ERROR } from './constants'\n\n/**\n * ASYNC TASKS =================================================================\n * Actions Orchestration - for subscribing, managing and dispatching actions.\n * =============================================================================\n */\n\n/* Module's Combined Task to start all sagas at once */\nexport default function * saga () {\n  yield all([\n    // List someSaga() here\n    popupWatch()\n  ])\n}\n\n/**\n * WATCH TASKS (Action Subscriptions) ------------------------------------------\n * -----------------------------------------------------------------------------\n */\n\nfunction * popupWatch () {\n  yield all([\n    takeEvery(stateActionType(SYSTEM, ALERT), popupAlert),\n    takeEvery(stateActionType(POPUP, ALERT), popupAlert),\n    takeEvery(stateActionType(POPUP, ERROR), popupError),\n    takeEvery(isApiActionTypeError, apiErrorFlow),\n    takeEvery(isApiActionTypeTimeout, apiTimeoutAlert),\n    takeEvery(stateActionType(NETWORK, ERROR), networkErrorAlert)\n  ])\n}\n\n/**\n * FLOW TASKS (Action Management) ----------------------------------------------\n * -----------------------------------------------------------------------------\n */\nlet lastApiErrorMessage = null\n\nfunction * apiErrorFlow ({payload = {}, meta: {shouldIgnoreErrorCodes, errorTitle, shouldAlertSameErrorOnce = false}}) {\n  const {status, code, type, content, detail, message, msg} = payload\n  const errors = toList(payload.errors || payload.error || {status, code, type, content, detail, message, msg})\n  const errorMessage = get(errors, '[0].message', get(errors, '[0].details[0].message', payload.message))\n\n  // Ignore any given errors\n  if (shouldIgnoreErrorCodes && isInList(shouldIgnoreErrorCodes, status)) return\n\n  // Ignore 401 Responses\n  if (status === HTTP_401_UNAUTHORIZED) return\n\n  // Dispatch LOGOUT if Error came from LOGOUT request\n  if (type === LOGOUT) yield put(stateAction(API, LOGOUT))\n\n  // Popup Error\n  if (!shouldAlertSameErrorOnce || lastApiErrorMessage !== errorMessage) {\n    lastApiErrorMessage = errorMessage\n    yield call(popupError, {payload: {title: errorTitle, errors}})\n  }\n}\n\n/**\n * HELPER TASKS (Action Dispatches) --------------------------------------------\n * -----------------------------------------------------------------------------\n */\n\nfunction * apiTimeoutAlert ({payload: {url} = {}}) {\n  // Show Popup Alert\n  yield call(popupAlert, {\n    payload: {\n      items: [{\n        title: REQUEST_TIMEOUT_MESSAGE,\n        content: `API request timed out for ${hostname(url)}, please try again.`\n      }]\n    }\n  })\n}\n\nfunction * networkErrorAlert () {\n  // Show Popup Alert\n  yield call(popupAlert, {\n    payload: {\n      items: [{\n        title: NETWORK_ERROR_MESSAGES[0],\n        content: 'Cannot connect to the internet.'\n      }]\n    }\n  })\n}\n\n/**\n * @param {Array} items - [{title, content}]\n */\nfunction * popupAlert ({payload: {items} = {}}) {\n  yield put(stateAction(POPUP, OPEN, {\n    activePopup: POPUP_ALERT,\n    [POPUP_ALERT]: {\n      items\n    }\n  }))\n}\n\nfunction * popupError ({payload: {title = 'Error', errors, items} = {}}) {\n  yield put(stateAction(POPUP, OPEN, {\n    activePopup: POPUP_ERROR,\n    [POPUP_ERROR]: {\n      title,\n      items: toList(errors || items)\n    }\n  }))\n}\n","import { POPUP } from './constants'\nimport reducer from './reducers'\nimport saga from './sagas'\nimport select from './selectors'\n\n/**\n * EXPORTS =====================================================================\n * Modules' Exposing API - to enable consistent and maintainable app integration\n * =============================================================================\n */\n\nexport * from './constants'\nexport * from './actions'\nexport {\n  POPUP,\n  select,\n}\n\nconst popup = {\n  NAME: POPUP,\n  reducer,\n  saga,\n  select,\n}\n\nexport default popup\n","// Additional modules are optional to optimize for performance\n// import modules, { auth, location } from './modules'\n\n/**\n * STATE DATA ==================================================================\n * Initial State or Test Data - used to launch the app initially\n * =============================================================================\n */\n\nexport const hasAuthActivated = false // modules.some(({NAME}) => auth.NAME === NAME)\nexport const hasLocationActivated = false // modules.some(({NAME}) => location.NAME === NAME)\n\nconst initState = {\n  data: {\n    lastNetworkErrorMessage: null,\n    location: 0,  // Use 0 to compute initial Error alert\n    // actionsPendingAuth: [],  // Failed actions because of missing Authentication\n    // actionsPendingLocation: [],  // Failed actions because of missing Location access\n    actionsPendingNetwork: []  // Failed actions because of Network connection\n  }\n}\n\nexport default initState\n","import axios from 'axios' // 'axios' adds 13 KB to final js bundle size\nimport { cloneDeep, isNil, omitBy, startsWith } from 'lodash'\nimport { stateAction } from 'ui-modules-pack/redux/actions'\nimport qs from 'querystring'\nimport {\n  ERROR,\n  firstListValue,\n  fromJSON,\n  isFunction,\n  isInString,\n  isInStringAny,\n  LOGOUT,\n  REQUEST,\n  SUCCESS,\n  TIMEOUT,\n  toJSON\n} from 'ui-utils-pack'\nimport { createAction } from './actions'\nimport {\n  ADD_ACTIONS_PENDING_AUTH,\n  ADD_ACTIONS_PENDING_LOCATION,\n  ADD_ACTIONS_PENDING_NETWORK,\n  API,\n  API_CALL,\n  HTTP_401_UNAUTHORIZED,\n  NETWORK,\n  NETWORK_ERROR_MESSAGES,\n  REQUEST_TIMEOUT,\n} from './constants'\nimport { hasAuthActivated, hasLocationActivated } from './data' // import { auth, location } from './modules'\n// import { auth, location } from './modules'\nconst auth = {}\nconst location = {}\n\n/**\n * MIDDLEWARE ENHANCER =========================================================\n * Interceptors to preprocess actions dispatched by the store\n * =============================================================================\n */\n\n// const httpsAgent = new (require('https')).Agent({keepAlive: true}) // comment out if used in browser only\nconst httpsAgent = undefined  // comment out if used in node.js\nconst useFetch = typeof axios === 'undefined'\nconst hasFetch = typeof fetch !== 'undefined'\n\n/**\n * Api Middleware Class to Handle All Fetch Actions\n *\n * @FEATURES:\n *  - Auto-retrieve API Token and include in request headers if required\n *  - dispatch action to store actionsPendingAuth:\n *      a) if Token required but does not exist\n *      b) if fetch response status is HTTP_401_UNAUTHORIZED\n *  - dispatch action to store actionsPendingLocation if missing Location access\n *  - dispatch action to store actionsPendingNetwork if network connection fails\n *\n * @USAGE:\n *  - takes Flux Standard Action {type, payload, meta, [error]}\n *  - defaults to GET method if not defined in {payload}\n *  - authentication can be enabled with {meta: {authenticate: true}}\n *\n * @OPTIONS:\n * ```\n *    const examplePostAction = () => ({\n *      [API_CALL]: {\n *        type: ENDPOINT_POST_ACTION,  // -> computed action type from apiAction() creator\n *        payload: {\n *          id: 7,  // will be inserted to url automatically\n *          url: 'http://localhost/bar/7/foo',  // if provided will override dynamically generated url\n *          body: {  // payload body\n *            key: value,  // will be automatically serialized according to `Content-Type`\n *          },\n *          params: {  // parameters object that will be converted to query string by the apiMiddleware\n *            limit: 5,\n *            order_by: desc,\n *          },\n *        },\n *        meta: {\n *          url: {[PLACEHOLDER]: 'value'},  // placeholder values to be interpolated into request url\n *          authenticate: false,  // default - send requests without API Token\n *          credentials: 'same-origin',  // automatically send cookies for current domain\n *          headers: {\n *            'Content-Type': 'application/json',  // default\n *          },\n *          location: false,  // if true, request User's location (lat and lng coordinates), then add to query\n *          method: 'POST',  // if provided, will override fetch method created by apiAction()\n *          responseHandler: (response) => {},  // default is undefined - callback after response resolves\n *          related: ['ormModel'],  // list of related ORM Models to fetch (to be handled by Sagas)\n *          callRequest: false,  // if true, dispatch REQUEST action, default is false\n *          callError: true,  // if false, will not dispatch ERROR action, default is true\n *          timeout: 30000,  // milliseconds, default is REQUEST_TIMEOUT, will dispatch CANCEL action\n *        }\n *      }\n *    })\n * ```\n */\nexport class ApiMiddleware {\n  configDefault = {\n    addTokenToRequest: (token) => ({\n      Authorization: `Bearer ${token}`  // -> override token from pending action resume\n    }),\n    headers: {\n      // 'Accept': 'application/json', // axios auto adds correct header\n      // To avoid calling OPTIONS, thus creating CORS problems, use 'application/x-www-form-urlencoded'\n      // https://stackoverflow.com/questions/25727306/request-header-field-access-control-allow-headers-is-not-allowed-by-access-contr\n      // 'Content-Type': 'application/x-www-form-urlencoded',\n      // 'Content-Type': 'application/json', // do not specify header by default to avoid CORS problem\n      // Keep-Alive header is only allowed using Fetch\n      // ...useFetch && hasFetch && {'Keep-Alive': `timeout=${REQUEST_TIMEOUT}, max=1000`},\n    },\n    // credentials: 'include', // only works using Fetch\n    REQUEST_TIMEOUT\n  }\n\n  constructor (action, store, config = {}) {\n    this.action = action  // Clone deep at implementation, to prevent mutation, without overhead\n    this.apiAction = action[API_CALL]\n    this.meta = this.apiAction.meta\n    this.meta.request = {}\n    this.store = store\n    this.afterRequest = config.afterRequest\n    this.afterResponse = config.afterResponse\n    this.onError = config.onError\n    this.onTimeout = config.onTimeout\n    this.isFetch = hasFetch && (config.useFetch != null ? config.useFetch : useFetch)\n    this.addTokenToRequest = config.addTokenToRequest || this.configDefault.addTokenToRequest\n    this.REQUEST_TIMEOUT = this.meta.timeout || config.REQUEST_TIMEOUT || this.configDefault.REQUEST_TIMEOUT\n  }\n\n  get token () {\n    if (!hasAuthActivated) throw new Error(`Please enable '${auth.NAME}' module for API token feature`)\n    return auth.select.token(this.store.getState())\n  }\n\n  get shouldGetNewToken () {\n    return (this.shouldAuthenticate && !this.token)\n  }\n\n  get shouldAuthenticate () {\n    return this.meta.authenticate\n  }\n\n  get location () {\n    if (!hasLocationActivated) throw new Error(`Please enable '${location.NAME}' module for API location feature`)\n    return location.select.geoJSON(this.store.getState())\n  }\n\n  get shouldGetNewLocation () {\n    // Location is required\n    if (this.meta.location) {\n      const {updated} = this.location\n      return !(updated && ((Date.now() - updated) <= location.constants.LOCATION_LIFESPAN))\n    }\n    return false\n  }\n\n  call () {\n    /* Token Expired / Does Not Exist */\n    if (hasAuthActivated && this.shouldGetNewToken) {\n      this.pendingAuth()\n    }  // eslint-disable-line\n\n    /* Location Expired / Does Not Exist */\n    else if (hasLocationActivated && this.shouldGetNewLocation) {\n      this.pendingLocation()\n    }  // eslint-disable-line\n\n    /* API Request */\n    else {\n      this.apiCall(this.apiAction, this.shouldAuthenticate && this.token)\n    }\n  }\n\n  // REQUEST PROCESSING ----------------------------------------------------------\n  // -----------------------------------------------------------------------------\n\n  /* Single API request */\n  apiCall (token = null) {\n    const args = this.requestArgs(this.apiAction.payload, this.meta, token)\n    const {responseHandler} = this.meta\n    const responseProcessing = (this.isFetch ? this.responseProcessFetch : this.responseProcessAxios).bind(this)\n    const timeout = this._setTimeout(this.apiAction)  // must be just before request call\n    ;(this.isFetch ? fetch : axios.request)(...args)\n      .then(response => {\n        this._logTime('end')\n        clearTimeout(timeout)\n        return response\n      })\n      .then(responseHandler)  // if .responseHandler() provided in meta\n      .then(responseProcessing)\n      .then(this.requestComplete)  // Dispatch SUCCESS action with response as payload\n      .catch(error => {\n        this._logTime('end')\n        clearTimeout(timeout)\n        return this.requestError(error)\n      })\n    this._afterRequest()\n    if (this.meta.callRequest) this.dispatch(createAction(this.apiAction, REQUEST))\n  }\n\n  /* Parse Action payload and meta for request arguments */\n  requestArgs (payload, meta, token = null) {\n    const {authenticate, location, credentials} = meta\n    let {headers = {}, method = 'GET'} = meta\n    let {url, body, params} = payload\n    let data = body\n\n    // Set Headers\n    headers = {\n      ...this.configDefault.headers,\n      ...token && authenticate && this.addTokenToRequest(token),\n      ...headers\n    }\n\n    // For form upload, let it detect content type automatically and add proper string\n    if (headers['Content-Type'] === 'multipart/form-data') {\n      delete headers['Content-Type']\n    }\n\n    // Add location to query string or body payload\n    if (location && hasLocationActivated) {\n      if (method === 'GET') {\n        if (params && params.constructor !== Object) {\n          throw new Error(`${API} ${location.NAME} expects 'params' to be an Object, got '${typeof params}'`)\n        }\n        params = {...params, ...this.location}\n      } else {\n        if (body && body.constructor !== Object) {\n          throw new Error(`${API} ${location.NAME} expects 'body' to be an Object, got '${typeof body}'`)\n        }\n        body = {...body, ...this.location}\n      }\n    }\n\n    // Serialize request body if necessary\n    if (body && body.constructor === Object) {\n      if (!headers['Content-Type'] || headers['Content-Type'] === 'application/json') {\n        data = toJSON(body)\n      } else if (headers['Content-Type'] === 'application/x-www-form-urlencoded') {\n        data = qs.stringify(body)\n      }\n    }\n\n    // Add parameters to endpoint\n    // Note: original payload.url cannot be mutated for resume actions\n    payload.endpoint = params ? urlWithParams(url, params) : url\n\n    // Update ACTION meta data\n    this.meta.headers = headers\n    this.meta.request.url = url\n    if (params) this.meta.request.params = params\n    if (body) this.meta.request.body = body\n\n    return [\n      payload.endpoint,\n      omitBy({\n        method,\n        [this.isFetch ? 'body' : 'data']: data,\n        credentials,\n        headers,\n        httpsAgent,\n        timeout: this.REQUEST_TIMEOUT\n      }, isNil)  // remove null/undefined\n    ]\n  }\n\n  /* Parse Response from `fetch` */\n  responseProcessFetch (response) {\n    this._setHeaders(response)\n    const {contentType} = this.meta.headers\n    if (\n      !contentType ||\n      startsWith(contentType, 'application/json') ||\n      startsWith(contentType, 'text/html') ||\n      startsWith(contentType, 'text/javascript')\n    ) return response.json()\n    return response\n  }\n\n  /* Parse Response from `axios` */\n  responseProcessAxios (response) {\n    this._setHeaders(response)\n\n    // Deserialize JSON string if 'Content-Type'\n    // a) is not specified\n    // c) starts with 'text/html'\n    // d) starts with 'text/javascript'\n    const {contentType} = this.meta.headers\n    if (\n      response.data.constructor === String &&\n      (\n        !contentType ||\n        startsWith(contentType, 'text/html') ||\n        startsWith(contentType, 'text/javascript')\n      )\n    ) return fromJSON(response.data)\n    return response.data\n  }\n\n  // LOGGING ---------------------------------------------------------------------\n  // -----------------------------------------------------------------------------\n\n  /* Called just before REQUEST */\n  _setTimeout (action) {  // Return timeout separately to enable multiple request timeouts\n    this._logTime('start')\n    return setTimeout(() => {\n      // Note: dispatching CANCEL action is for UI only,\n      // because if 'fetch' used it will continue to resolve since 'fetch cannot be canceled.\n      // So do not add action to pending, because it may resolve after.\n      // If using 'axios' with 'http', request will be canceled after given timeout.\n      this._logTime('end')\n      this.requestTimeout(action)\n    }, this.REQUEST_TIMEOUT)\n  }\n\n  /* Called after RESPONSE */\n  _setHeaders (response) {\n    let contentType, token\n    if (this.isFetch) {\n      contentType = response.headers.get('Content-Type')\n      token = response.headers.get('Authorization')\n    } else {\n      const {headers: {'content-type': c, 'authorization': t} = {}} = response\n      contentType = c\n      token = t\n    }\n\n    this.meta.headers = {\n      contentType,\n      ...token && {token: token.replace('Bearer ', '')}\n    }\n  }\n\n  /* Add Performance Stats to API Action Meta data */\n  _logTime (type) {\n    if (type === 'start') {\n      this.meta.request.start = Date.now()\n    }\n    if (type === 'end') {\n      const end = Date.now()\n      this.meta.request.end = end\n      this.meta.request.latency = end - this.meta.request.start\n    }\n  }\n\n  /* Fire Config Callback (immediately after firing API request, but before response) */\n  _afterRequest () {\n    if (isFunction(this.afterRequest)) this.afterRequest(this.apiAction)\n  }\n\n  /* Fire Config Callback (just after dispatching API response action of any kind) */\n  _afterResponse (action) {\n    if (isFunction(this.afterResponse)) this.afterResponse(action)\n  }\n\n  /* Fire Config Callback */\n  _onError (error) {\n    if (isFunction(this.onError)) this.onError(this.apiAction, error)\n  }\n\n  /* Fire Config Callback */\n  _onTimeout () {\n    if (isFunction(this.onTimeout)) this.onTimeout(this.apiAction)\n  }\n\n  // REDUX ACTION DISPATCHES -----------------------------------------------------\n  // -----------------------------------------------------------------------------\n\n  requestComplete = (response) => {\n    this.dispatch(createAction({...this.apiAction, payload: response}, SUCCESS))\n  }\n\n  requestError (error) {\n    if (this.meta.callError === false) return  // Terminate early\n    this._onError(error)\n    let payload = error\n\n    /* The request was made and the server responded with a status code that falls out of the range of 2xx */\n    if (error.response) {\n      this._setHeaders(error.response)\n      const {data = {}} = error.response\n      switch (data.constructor) {\n        case Object:\n          payload = data\n          break\n        case Array:\n          payload = {errors: data}\n          break\n        case String:\n          const isHtml = isInString(data, '<!DOCTYPE html>')\n          payload = {message: isHtml ? (firstListValue(data.match(/<h1>(.*)<\\/h1>/i)) || '<!DOCTYPE html>...') : data}\n          break\n        default:\n          payload = {message: data}\n      }\n\n      // Actions Pending Authentication\n      if (error.response.status === HTTP_401_UNAUTHORIZED && hasAuthActivated) {\n        this.pendingAuth()  // -> need to LOGOUT here because it's definitely invalid Token.\n        payload.type = LOGOUT  // let Sagas handle LOGOUT dispatch\n      }\n\n      payload.status = error.response.status\n    } // eslint-disable-line\n\n    /* The request was made but no response was received */\n    else if (error.request) {\n      // Actions Pending Internet\n      if (isInStringAny(error.message, ...NETWORK_ERROR_MESSAGES)) {\n        return this.pendingNetwork(error)  // Terminate early -> dispatch NETWORK ERROR\n      }\n    }\n\n    /* Dispatch API Call ERROR Action */\n    this.dispatch(createAction({...this.apiAction, payload}, ERROR))\n  }\n\n  requestTimeout (action) {\n    this._onTimeout()\n    this.meta.callError = false  // -> prevent error from dispatching action later\n    this.dispatch(createAction(action, TIMEOUT))\n  }\n\n  pendingAuth () {\n    // Store action to resume when LOGIN SUCCESS\n    this.dispatch(stateAction(ADD_ACTIONS_PENDING_AUTH, [cloneDeep(this.action)]))\n  }\n\n  pendingLocation () {\n    // Store action to resume when LOCATION UPDATED\n    this.dispatch(stateAction(ADD_ACTIONS_PENDING_LOCATION, [cloneDeep(this.action)]))\n  }\n\n  pendingNetwork (error) {\n    // Store action to resume when NETWORK CONNECTED\n    this.dispatch(stateAction(ADD_ACTIONS_PENDING_NETWORK, [cloneDeep(this.action)]))\n    this.dispatch(stateAction(NETWORK, ERROR, error))\n  }\n\n  dispatch (action) {\n    this.store.dispatch(action)\n    this._afterResponse(action)\n  }\n}\n\n/**\n * Create API Middleware to Register Actions dispatched using apiAction() from apiActions.js\n *\n * @example:\n api/index.js:\n ```\n import api from './common/api';\n import analytics from './common/analytics';\n ...\n middleware: createApiMiddleware({\n    afterRequest: (apiAction) => {},  // -> callback to fire immediately after API request (before response)\n    afterResponse: (apiAction) => {},  // -> callback to fire just after dispatching API response action\n    onError: (apiAction, error) => {},  // -> do something with error\n    onTimeout: (apiAction) => {},  // -> do something when request times out\n    REQUEST_TIMEOUT: 20000,  // -> set default timeout to be 20 seconds\n    useFetch: true,  // -> whether to use fetch for requesting API\n    addTokenToRequest: (headers, token) => ({\n      ...headers,\n      Authorization: `Token ${token}`,  // -> default Authorization headers is `Bearer ...`\n    }),\n  })\n ```\n * @param {Object} config - default api configurations\n * @returns {function(*=): function(*): function(*=)}\n */\nexport function createApiMiddleware (config = {}) {\n  return store => next => action => {\n    if (typeof action[API_CALL] === 'undefined') return next(action)\n    const middleware = new ApiMiddleware(action, store, config)\n\n    // /* React Native */\n    // /* Abort API CALL when APP is not Active */\n    // if (AppState.currentState !== 'active') {\n    //   setTimeout(() => {  // try one more time 7 seconds later in case it was transitioning\n    //     if (AppState.currentState !== 'active') {\n    //       return log(`${API_CALL} -> Aborted because AppState is`, 'color: Red', AppState.currentState);\n    //     } else {\n    //       apiMiddleware.call();\n    //     }\n    //   }, 7000);\n    //   return;\n    // }\n\n    middleware.call()\n  }\n}\n\n/**\n * Add params to URL and return URL with query string added\n *\n * @param {string} url - to add query string to\n * @param {Object|string} params - to turn into query string\n * @return {string} - url with params as query string added\n */\nexport function urlWithParams (url, params) {\n  const questionIndex = url.indexOf('?')\n  const prefix = (questionIndex > -1 ? (questionIndex === url.length - 1 ? '' : '&') : '?')\n  return url + prefix + (params.constructor === Object ? qs.stringify(params) : params)\n}\n\nexport default createApiMiddleware()\n","import { combineReducers, handleActions } from 'ui-modules-pack/redux'\nimport { toUniqueList } from 'ui-utils-pack'\nimport { ADD_ACTIONS_PENDING_NETWORK, CLEAR_ACTIONS_PENDING_NETWORK } from './constants'\nimport initState from './data'\n// import modules, { auth, location } from './modules'\n\n/**\n * ACTION HANDLERS =============================================================\n * Pure Functions Only - business logic to handle actions and update app state\n * =============================================================================\n */\n\n// const authActions = modules.some(({NAME}) => auth.NAME === NAME) && {\n//   [ADD_ACTIONS_PENDING_AUTH]: (state, {payload}) => {\n//     return {\n//       ...state,\n//       actionsPendingAuth: toUniqueList([\n//         ...state.actionsPendingAuth,\n//         ...payload\n//       ])\n//     }\n//   },\n//   [CLEAR_ACTIONS_PENDING_AUTH]: (state) => {\n//     return {\n//       ...state,\n//       actionsPendingAuth: []  // Clear all actions\n//     }\n//   }\n// }\n// const locationActions = modules.some(({NAME}) => location.NAME === NAME) && {\n//   [ADD_ACTIONS_PENDING_LOCATION]: (state, {payload}) => {\n//     return {\n//       ...state,\n//       actionsPendingLocation: toUniqueList([\n//         ...state.actionsPendingLocation,\n//         ...payload\n//       ])\n//     }\n//   },\n//   [CLEAR_ACTIONS_PENDING_LOCATION]: (state) => {\n//     return {\n//       ...state,\n//       actionsPendingLocation: []  // Clear all actions\n//     }\n//   }\n// }\n\n/* Handler */\nconst data = handleActions({\n  // ...authActions,\n  // ...locationActions,\n  [ADD_ACTIONS_PENDING_NETWORK]: (state, {payload}) => {\n    return {\n      ...state,\n      actionsPendingNetwork: toUniqueList([\n        ...state.actionsPendingNetwork,\n        ...payload\n      ])\n    }\n  },\n  [CLEAR_ACTIONS_PENDING_NETWORK]: (state) => {\n    return {\n      ...state,\n      actionsPendingNetwork: []  // Clear all actions\n    }\n  }\n}, initState.data)\n\n// const moduleHandlers = {}\n// modules.forEach(module => { if (isFunction(module.reducer)) moduleHandlers[module.NAME] = module.reducer })\nconst allHandlers = combineReducers({\n  data,\n  // ...moduleHandlers\n})\n\nexport default allHandlers\n","import { API } from './constants'\nimport middleware, { createApiMiddleware } from './middleware'\nimport reducer from './reducers'\nimport * as select from './selectors'\n\n/**\n * EXPORTS =====================================================================\n * Modules' Exposing API - to enable consistent and maintainable app integration\n * =============================================================================\n */\n\nexport * from './constants'\nexport * from './actions'\nexport * from './fetch'\nexport * from './utils'\n\n/** See apiMiddleware for more documentation */\nexport { createApiMiddleware }\n\nconst api = {\n  NAME: API,\n  reducer,\n  select,\n  middleware\n}\n\nexport default api\n","import { Active } from './_envs.js'\nimport { LANGUAGE } from './constants.js'\n\n/**\n * PROJECT DEFINITIONS =========================================================\n * =============================================================================\n */\n\n/**\n * Define Getters and Setters for Definition Object to avoid duplicate definitions by mistake\n *\n * @example:\n *    const FIELD = definitionSetup('TYPE', 'ID')\n *    FIELD.TYPE = {\n *      EXPAND: 'Expand',\n *      COLLAPSE: 'Expand', // throws error because of duplicate value 'Expand'\n *    }\n *    ....\n *    FIELD.TYPE = {\n *      EXPAND: 'Expand' // throws error the second time because of duplicate key 'EXPAND'\n *    }\n *\n * @param {String} props - list of definition keys\n * @returns {Object} DEFINITION - new object with getters and setters defined for given `props`\n */\nexport function definitionSetup (...props) {\n  const DEFINITION = {}\n  props.forEach(prop => {\n    const _key = `_${prop}`\n    Object.defineProperty(DEFINITION, prop, {\n      get () {\n        return this[_key]\n      },\n      set (def) {\n        if (!this[_key]) this[_key] = {}\n        const data = this[_key]\n        for (const key in def) {\n          if (data[key] != null)\n            throw new Error(`Duplicate ${prop}[${key}] definition ${JSON.stringify(def, null, 2)}`)\n          const value = def[key]\n          for (const i in data) {\n            if (data[i] === value)\n              throw new Error(`Duplicate ${prop}[${key}] definition value \"${value}\" ${JSON.stringify(def, null, 2)}`)\n          }\n          data[key] = value\n        }\n        return data\n      },\n    })\n  })\n  return DEFINITION\n}\n\n/**\n * Map Object Definition by its Underscore Value\n *\n * @example:\n *  definitionByValue(LANGUAGE)\n *  >>> {\n *        'en': {\n *          _: 'en',\n *          'en': 'English'\n *          ...\n *        },\n *        ...\n *      }\n *\n * @param {Object<KEY<_...>>|Array<_...>} DEFINITION - key/value pairs of variable name with its underscore value\n * @return {Object<_<_...>>} definition - grouped by its underscore value\n */\nexport function definitionByValue (DEFINITION) {\n  const result = {}\n  for (const index in DEFINITION) {\n    const def = DEFINITION[index]\n    result[def._] = def\n  }\n  return result\n}\n\n/**\n * Generate Enumerable List of Values from given Object Definition\n *\n * @example:\n *  enumFrom(LANGUAGE)\n *  >>> ['en', 'fr'...]\n *\n * @param {Object<KEY<_...>>|Array<_...>} DEFINITION - key/value pairs of variable name with its underscore value\n * @returns {Array<String>} enums - list of enumerable values\n */\nexport function enumFrom (DEFINITION) {\n  const list = []\n  for (const index in DEFINITION) {\n    list.push(DEFINITION[index]._)\n  }\n  return list\n}\n\n/*\n * Extract Dropdown Options by Language for Given Object Definition\n *\n * @example:\n *    const options = optionsFrom(LANGUAGE)\n *    <Dropdown options={options.items} .../> // options for currently active language can be accessed via `items`,\n *    <Dropdown options={options[LANGUAGE.ENGLISH._]} .../> // or directly via language _\n *\n * @param {Object<KEY<_...>>|Array<_...>} DEFINITION - key/value pairs of variable name with its underscore value\n * @return {Object<items, lang[{text, value}]>} options - grouped by language underscore value, with .items pointing to active lang\n */\nexport function optionsFrom (DEFINITION) {\n  const options = {\n    get items () {\n      return this[Active.LANG._] || this[LANGUAGE.ENGLISH._] || []\n    }\n  }\n  for (const index in DEFINITION) {\n    const {_: value, ...langs} = DEFINITION[index]\n    for (const lang in langs) {\n      const text = langs[lang]\n      // Dropdown `value` cannot be array because of shallow match\n      options[lang] = (options[lang] || []).concat({text, value: value.constructor === Array ? value.join(',') : value})\n    }\n  }\n  return options\n}\n\n/**\n * Prepare definitions for localisation, so they can be accessed via .name property without needing active language _\n *\n * @example:\n *    localise(LANGUAGE)\n *    console.log(LANGUAGE.ENGLISH.name)\n *    >>> English\n *\n * @param {Object|Object<KEY<_...>>|Array<_...>} DEFINITION - key/value pairs of variable name with its _ value\n *    Multiple definitions can be nested unlimited times inside a single object.\n */\nexport function localise (DEFINITION) {\n  for (const index in DEFINITION) {\n    const definition = DEFINITION[index]\n    const {_, name} = definition\n    if (name == null && _ != null) {\n      Object.defineProperty(DEFINITION[index], 'name', {\n        get () {\n          return this[Active.LANG._] != null\n            ? this[Active.LANG._]\n            : (this[LANGUAGE.ENGLISH._] != null ? this[LANGUAGE.ENGLISH._] : String(_))\n        }\n      })\n    } else {\n      if (definition.constructor === Object) localise(definition, Active) // recursively process nested definitions\n    }\n  }\n}\n\n/**\n * Prepare translations for localisation by mutation, so they can be accessed directly via .TEXT property\n * @Note: can be applied repeatedly to add new translations or languages after requests from API\n *\n * @example:\n *    const _ = localiseTranslation(TRANSLATIONS)\n *    log(_.SEARCH)\n *    # if active language is English\n *    >>> 'Search'\n *    # if active language is Russian\n *    >>> 'Поиск'\n *\n * Add language:\n *    _.SEARCH = {\n *      ..., // previous definitions\n *      [l.CHINESE]: '搜索', // language addition\n *    }\n *    log(_.SEARCH)\n *    # if active language is Chinese\n *    >>> 搜索\n *\n * @param {Object|Object<KEY<_...>>} TRANSLATION - key/value pairs of variable name with its localised values\n * @returns {Object} translations - with all definitions as javascript getters returning currently active language,\n *  (falls back to English if definition not found for active language, or empty string).\n */\nexport function localiseTranslation (TRANSLATION) {\n  for (const KEY in TRANSLATION) {\n    const _data = TRANSLATION[KEY]\n    // Update existing translations\n    if (KEY in localiseTranslation.instance) {\n      localiseTranslation.instance[KEY] = _data\n    } else {\n      // Define translations for the first time\n      const _key = '~' + KEY\n      Object.defineProperty(localiseTranslation.instance, KEY, {\n        get () {\n          // initially cannot use setter to define translations, thus fallback to _data\n          const data = localiseTranslation.instance[_key] || (localiseTranslation.instance[_key] = _data)\n          return data[Active.LANG._] || data[Active.DEFAULT.LANGUAGE] || KEY || ''\n        },\n        set (data) {\n          // merge new translations with existing\n          localiseTranslation.instance[_key] = {...localiseTranslation.instance[_key], ...data}\n        }\n      })\n    }\n  }\n  return localiseTranslation.instance\n}\n\nlocaliseTranslation.instance = {}\nlocaliseTranslation.queriedById = {}\n\n/**\n * Create Initial Values for given Object Definition\n *\n * @example:\n *  initValuesFor(LANGUAGE, LANGUAGE_LEVEL.BASIC._)\n *  >>> {'en': 1, 'fr': 1, ...}\n *\n * @param {Object<KEY<_...>>} DEFINITION - key/value pairs of variable name with its underscore value\n * @param {Number} initValue - the initial value to use for each option\n * @return {Object} initial values - to use with redux form, for example\n */\nexport function initValuesFor (DEFINITION, initValue = 1) {\n  const initValues = {}\n  for (const key in DEFINITION) {\n    initValues[DEFINITION[key]._] = initValue\n  }\n  return initValues\n}\n\n/**\n * Convert Single/Multiple Definition Values into Human Friendly String/s\n *\n * @param {String|Number|Array} values - definition's underscore value/s\n * @param {Object} definitionByValue - example: definitionByValue(LANGUAGE)\n * @param {*} [output] - one of types (i.e. String, Array, etc.)\n * @returns {String|Array<String>} string/s - for human consumption\n */\nexport function valueToName (values, definitionByValue, output = String) {\n  const items = ((values && values.constructor === Array) ? values : [values]).map(code => (definitionByValue[code] || {}).name)\n  switch (output) {\n    case Array:\n      return items\n    case String:\n    default:\n      return items.join(' ' + _.OR + ' ')\n  }\n}\n","module.exports = __webpack_public_path__ + \"static/media/changelog.5910fc34.md\";","module.exports = __webpack_public_path__ + \"static/media/config.804c581f.md\";","import { applyMiddleware, combineReducers, compose, createStore as reduxCreateStore } from 'redux'\nimport { ignoreActions } from 'redux-ignore'\nimport { all } from 'redux-saga/effects'\nimport { __DEV__, Active, get, hasListValue, hasObjectValue, HYDRATE, isFunction, RESET, toList } from 'ui-utils-pack'\nimport saga from '../saga'\n\n/**\n * STORE CREATION ==============================================================\n * =============================================================================\n */\n\n/**\n * Creates the Redux store for the app\n * @Note:\n *    - redux action execution takes 0.5 microseconds by default\n *    - every new reducer adds about 0.45 microseconds to action execution\n *    - every new saga adds about 0.75 microseconds to action execution\n *    => optimize performance with `redux-ignore` library to filter actions\n *\n * @param {Object[]|Object} modules - list of modules to activate {NAME, middleware, reducer, saga}\n * @param {Boolean} [ignore] - whether to filter reducers using `ignoreActions` from `redux-ignore` library, default is false\n * @returns {Object} - redux store\n */\nexport default function createStore (modules = [], {ignore} = {}) {\n  modules = toList(modules)\n  if (!hasListValue(modules)) return reduxCreateStore(state => state)\n\n  /* Register Middleware */\n  const middlewares = modules.filter(({middleware}) => isFunction(middleware)).map(module => module.middleware)\n  let composeEnhancers = compose\n  if (typeof window !== 'undefined') { // need to put this check on separate lite because of Next.js\n    if (__DEV__) {\n      composeEnhancers = get(window, '__REDUX_DEVTOOLS_EXTENSION_COMPOSE__', compose)\n    }\n  }\n  const allMiddleware = composeEnhancers(applyMiddleware(...middlewares))\n\n  /* Register Action Handlers */\n  let handlers = {}\n  modules.forEach(({NAME, ACTION_TYPE, reducer}) => {\n    if (!NAME || !isFunction(reducer)) return\n    handlers[NAME] = ignore ? ignoreActions(reducer, ({type}) => (!type || type.indexOf(ACTION_TYPE || NAME) !== 0)) : reducer\n  })\n  const rootReducer = hasObjectValue(handlers) ? combineReducers(handlers) : (state => state)\n  const allHandlers = (state, action) => {\n    if (RESET === action.type) state = undefined  // reset App to initial state\n    if (HYDRATE === action.type) return action.payload  // set App to given state\n    return Active.state = rootReducer(state, action)\n  }\n\n  /* Register Store */\n  const store = reduxCreateStore(allHandlers, allMiddleware)\n\n  /* Register Async Tasks when Enabled */\n  if (modules.find(({hasEnabledSaga}) => hasEnabledSaga)) {\n    saga.middleware.run(function * () {\n      yield all(modules.filter(({saga}) => isFunction(saga)).map(module => module.saga()))\n    })\n  }\n\n  return store\n}\n","import { l, localiseTranslation } from 'ui-utils-pack'\n\nexport { _ } from 'ui-utils-pack/translations'\n\n/**\n * LOCALISED TRANSLATIONS (i18n) ===============================================\n * =============================================================================\n */\nlocaliseTranslation({\n  CHARACTER: {\n    [l.ENGLISH]: 'Character',\n    // [l.RUSSIAN]: 'Символ',\n  },\n  ENTER_NUMBER_STARTING_WITH_plus_COUNTRY_CODE: {\n    [l.ENGLISH]: 'Enter number starting with + country code',\n    // [l.RUSSIAN]: 'Введите номер начиная с плюсом и кодом страны',\n  },\n  INVALID_DATE: {\n    [l.ENGLISH]: 'Invalid date',\n    // [l.RUSSIAN]: 'Недействительная дата',\n  },\n  INVALID_EMAIL_ADDRESS: {\n    [l.ENGLISH]: 'Invalid email address',\n    // [l.RUSSIAN]: 'Неправильный адрес',\n  },\n  INVALID_URL: {\n    [l.ENGLISH]: 'Invalid URL',\n    // [l.RUSSIAN]: 'Неверный URL',\n  },\n  MUST_BE_LESS_THEN_characters: {\n    [l.ENGLISH]: 'Must be less than {characters}',\n    // [l.RUSSIAN]: 'Должно быть меньше, чем {characters}',\n  },\n  MUST_BE_IN_THE_PAST: {\n    [l.ENGLISH]: 'Must be in the past',\n    // [l.RUSSIAN]: 'Должно быть в прошлом',\n  },\n  MUST_BE_IN_THE_FUTURE: {\n    [l.ENGLISH]: 'Must be in the future',\n    // [l.RUSSIAN]: 'Должно быть в будущем',\n  },\n  MUST_HAVE_START_TIME: {\n    [l.ENGLISH]: 'Must have start time',\n    // [l.RUSSIAN]: 'Должно быть время начала',\n  },\n  MUST_HAVE_END_TIME: {\n    [l.ENGLISH]: 'Must have end time',\n    // [l.RUSSIAN]: 'Должно быть время окончания',\n  },\n  PASSWORD_IS_TOO_WEAK: {\n    [l.ENGLISH]: 'Password is too weak',\n    // [l.RUSSIAN]: 'Пароль слишком слабый',\n  },\n  PASSWORD_MISMATCH: {\n    [l.ENGLISH]: 'Password mismatch',\n    // [l.RUSSIAN]: 'Пароль не совпадает',\n  },\n  REQUIRED: {\n    [l.ENGLISH]: 'Required',\n    // [l.RUSSIAN]: 'Обязательный',\n  },\n})\n","import classNames from 'classnames'\nimport React from 'react'\nimport { isFunction } from 'ui-utils-pack'\nimport { accessibilitySupport } from './utils'\n\n/**\n * View - Pure Component.\n * @todo: test rendering without React.memo on large scene to see which is faster.\n * With default `display: flex` style\n * (to be used as replacement for `<div></div>` and `<span></span>` for cross platform integration)\n *\n * @param {string} [className] - optional css class\n * @param {Function} [onClick] - callback to fire on click or Enter press (if `onKeyPress` not given)\n * @param {Boolean} [fill] - whether to make the view fill up available height and width\n * @param {Boolean} [reverse] - whether to reverse order of rendering\n * @param {Boolean} [rtl] - whether to use right to left direction\n * @param {Object} [sound] - new Audio(URL) sound file\n * @param {*} props - other attributes to pass to `<div></div>`\n * @param {*} [ref] - callback(element) when component mounts, or from React.createRef()\n * @returns {Object} - React Component\n */\nexport function View ({\n  className,\n  fill,\n  reverse,\n  rtl,\n  sound,\n  expanded: _, // not used, remove to prevent warnings\n  translate: _2,\n  onDataChanged: _3,\n  ...props\n}, ref) {\n  props = accessibilitySupport(props, sound)\n  if (isFunction(ref)) props.ref = ref\n  return <div className={classNames('flex--col', {fill, reverse, rtl, pointer: props.onClick}, className)} {...props}/>\n}\n\nexport const ViewRef = React.forwardRef(View)\nexport default React.memo(View)\n","export var downloadFile = function downloadFile(fileName) {\n  return function (response) {\n    // create file link in browser's memory\n    var href = URL.createObjectURL(response); // create \"a\" HTML element with href to file & click\n\n    var link = document.createElement('a');\n    link.href = href;\n    link.setAttribute('download', fileName); //or any other extension\n\n    document.body.appendChild(link);\n    link.click(); // clean up \"a\" element & remove ObjectURL\n\n    document.body.removeChild(link);\n    URL.revokeObjectURL(href);\n  };\n};","import classNames from 'classnames'\nimport React, { Component } from 'react'\nimport { type } from 'ui-react-pack'\nimport Button from 'ui-react-pack/Button'\nimport Text from 'ui-react-pack/Text'\nimport View from 'ui-react-pack/View'\nimport { l, localiseTranslation } from 'ui-utils-pack'\nimport { _ } from 'ui-utils-pack/translations'\nimport { PopupContext } from '../rules'\n\nlocaliseTranslation({\n  CANCEL: {\n    [l.ENGLISH]: 'Cancel',\n  },\n  CONFIRM: {\n    [l.ENGLISH]: 'Confirm',\n  },\n  CONFIRM_ACTION: {\n    [l.ENGLISH]: 'Confirm Action',\n  },\n  ERROR_excMark: {\n    [l.ENGLISH]: 'Error!',\n  },\n})\n\n\nexport default class Popup extends Component {\n  static contextType = PopupContext\n  static propTypes = {\n    // Whether Popup can be closed by clicking outside around greyed out background area\n    canClose: type.Boolean,\n    // Callback(this) class instance when close action is fired\n    onClose: type.Method,\n    // Callback(this) class instance for rendering close Button, for example\n    renderClose: type.Method,\n  }\n\n\n  render () {\n    const {\n      activePopups,\n      alert,\n      error,\n      confirm,\n      actions,\n      ui: {className} = {},\n      canClose,\n      onClose,\n      ...props\n    } = this.props\n\n    return (\n      <PopupContext.Consumer>\n        {(context) => {\n          const { isOpen, togglePopupState, title, content} = context\n\n          const activeClass = isOpen ? ' active' : ''\n\n          return (\n            <View className={'app__popup' + activeClass}>\n              <View\n                className=\"app__popup__backdrop no-outline\"\n                onClick={togglePopupState}\n              />\n              <View className={classNames('app__popup__box zoomin', className)}>\n                <View className=\"app__popup__box__content\">\n                  {isOpen && (\n                    <>\n                      <View className=\"app__popup__box__header\">\n                        <Text className=\"app__popup__box__header__title\">{title}</Text>\n                      </View>\n                      <View className=\"app__popup__box__body\">\n                        {typeof content === 'string' ? <Text className=\"p center\">{content}</Text> : content}\n                      </View>\n                      <View className=\"app__popup__box__footer center\">\n                        <Button onClick={togglePopupState} className=\"primary\">{_.OK}</Button>\n                      </View>\n                    </>\n                  )}\n                </View>\n              </View>\n            </View>\n          )\n        }}\n      </PopupContext.Consumer>\n    )\n  }\n}\n","module.exports = __webpack_public_path__ + \"static/media/docs.5ce88312.md\";","module.exports = __webpack_public_path__ + \"static/media/faq.81834152.md\";","module.exports = __webpack_public_path__ + \"static/media/styles.cee61bfd.md\";","import React, { Component } from 'react'\nimport { get, isObject } from 'ui-utils-pack'\n\n/**\n * Recursive Field Renderer\n * @setup:\n *      // mapper.js\n *      import { Render } from 'ui-render'\n *      import TooltipPop from 'ui-react-pack/TooltipPop'\n *\n *      // Setup common components/callbacks\n *      Render.Tooltip = TooltipPop\n *      Render.TooltipDefaultProps = {inverted: true}\n *      Render.onError = handleErrorCallback // usually, open a Popup to show error message\n *\n *      // Render Component resolver for `view` definitions in meta.json\n *      Render.Component = function RenderComponent ({\n *          view, items, data, _data, debug, form, showIf,\n *          relativeData, relativeIndex, relativePath,version,\n *          ...props\n *      }) {\n *        switch (view) {\n *          case FIELD.TYPE.ROW:\n *            return <Row {...props}>{items.map(Render)}</View>\n *          // ...map all other components needed for the UI\n *        }\n *      }\n *\n *      // Render Function resolver for `render...` definitions in meta.json\n *      Render.Method = function RenderMethod (Name) {\n *        switch (Name) {\n *          case FIELD.RENDER.PERCENT:\n *            return (val, index, {decimals} = {}) => toPercent(val, decimals)\n *          case FIELD.RENDER.TITLE_n_INPUT:\n *            return (val, index, {id, ...props} = {}) => <Row {...props}><Text>{val}</Text></Row>\n *          // ...map all other methods needed for the UI\n *        }\n *      }\n *\n * @param {*} [props] - React component props to pass to given field\n * @param {Number|String} [index] - index of field in the list\n * @returns {*} Node - React component/s\n */\nexport default function Render (props, index) {\n    return <RenderClass {...props} key={typeof index !== 'object' ? index : undefined}/>\n}\n\nclass RenderClass extends Component {\n    static defaultProps = {\n        items: []\n    }\n\n    state = {\n        error: false,\n    }\n\n    componentDidMount () {\n        // @ts-ignore\n        if (!Render.Component) throw new Error(`Please setup Render.Component mapper first`)\n        // @ts-ignore\n        if (!Render.Method) throw new Error(`Please setup Render.Method mapper first`)\n    }\n\n    componentDidCatch (error, errorInfo) {\n        this.setState({error}, () => Render.onError({error, errorInfo, props: this.props}))\n    }\n\n    /**\n     * @Note: try block only catches error in this Render function,\n     * Errors in components will propagate up to componentDidCatch in parent class.\n     */\n    render () {\n        if (this.state.error) return String(this.state.error)\n\n        // Wrap component with Tooltip automatically\n        if (this.props.tooltip != null) {\n            // @ts-ignore\n            const {tooltip, ...props} = this.props\n            const tooltipProps = {...Render.TooltipDefaultProps, ...isObject(tooltip) ? tooltip : {title: tooltip}}\n            // @ts-ignore\n            return <Render.Tooltip {...tooltipProps}>{Render(props)}</Render.Tooltip>\n        }\n\n        let {data, _data, debug, form, instance, items, relativeData, name} = this.props\n\n        // Global/Relative Data access\n        if (name) _data = get((relativeData !== false && _data) || data, name) // local data dynamically retrieved from definition\n\n        // Pass down data to child renderers\n        // allow `data` and `_data` to be overridden by config\n        items = items.map((item) => {\n            const mappedData = {data, _data, debug, form, instance, ...item};\n            if (this.props.view === 'TableCells' && this.props.relativeIndex !== undefined) {\n                mappedData.relativePath = this.props.relativePath;\n                mappedData.relativeIndex = this.props.relativeIndex;\n            }\n\n            return mappedData;\n        })\n\n        // return Render.Component.call(this, {...this.props, _data, items})\n        return <Render.Component\n          {...this.props}\n          _data={_data}\n          items={items}\n         />\n    }\n}\n\nRender.onError = (error) => console.warn(`Unhandled ${Render.name} error:`, error)\n\nRender.TooltipDefaultProps = {inverted: true}\n","import { interpolateString, isCollection, isFunction, isList, isString, removeNilValues, toList } from 'ui-utils-pack'\nimport { cloneDeep, get, hasObjectValue, isObject } from 'ui-utils-pack/object'\nimport Render from './Render'\n\nconst FUNCTION_NAMES = ['onClick', 'onChange', 'onDone']\n\n/**\n * Map Data by given Mapper definition\n *\n * @param {Array|*} data - to map\n * @param {Object|String} mapper - object of key / value pairs (value being key path from `data`), or key path string\n * @param {Boolean} [debug] - whether to raise silenced error if data is missing or of incorrect type\n * @returns {Array} list - mapped from given data\n */\nexport function mapProps (data, mapper, {debug} = {}) {\n    const mapData = typeof mapper === 'string' ? (item) => get(item, mapper, item) : (item, index) => {\n        const result = {}\n        for (const key in mapper) {\n            // `index` must be converted to string to match fallback value defined in config (which can only be string)\n            // fallback to item if key not found\n            result[key] = mapper[key] === '{index}' ? String(index) : get(item, mapper[key], item)\n        }\n        return result\n    }\n    return (debug ? data : toList(data, true)).map(mapData)\n}\n\n/**\n * Recursively map meta.json declarations to props ready for rendering (by mutation)\n * @Note: this function must only transform config, without adding data.\n *  Because data is added at runtime on Render.\n *\n * @param {Object} meta - json\n * @param {*} config\n * @returns {Object} props - mutated meta\n */\nexport function metaToProps (meta, config) {\n    const {\n        form,\n        instance, // contains dynamic `state` to hydrate meta data\n        relativePath,\n        relativeIndex,\n        funcConfig,\n    } = config\n    let {data, _data} = config\n    // Transform Root attributes\n    if (isObject(meta)) {\n        metaToFunctions(meta, {...funcConfig, data})\n        if (meta.name) meta.name = interpolateString(meta.name, instance, {suppressError: true})\n    }\n\n    for (const attribute in meta) {\n        // Skip `meta` json config for nested UI Render instances\n        if (attribute === 'meta') continue\n        const definition = meta[attribute]\n        if (!definition) continue\n\n        // Map `onClick` functions by name (if exists)\n        // @Note: high priority, because onClick string will be bound to `self` class inside `render` functions\n        if (isObject(definition)) {\n            metaToFunctions(definition, {...funcConfig, data})\n            if (definition.name) {\n                definition.name = interpolateString(definition.name, instance, {suppressError: true})\n            }\n        }\n\n        // Map Value Renderer Names/Objects to Actual Render Functions\n        if (attribute.indexOf('render') === 0) {\n            if (typeof definition === 'string') { // @ts-ignore\n                meta[attribute] = Render.Method(meta[attribute])\n            }\n            // Below transformation only happens during render\n            if (isObject(definition)) meta[attribute] = (value, index, props, self) => {\n                if (attribute === 'renderExtraItem') {\n                    definition.useForm = true\n                }\n\n                if (definition.relativeData === false) {\n                    _data = data\n                } else {\n                    _data = value\n                }\n\n                // Render is a field definition\n                if (definition.view) {\n                    const {name, filterItems, ...configs} = definition\n                    const revPath = {\n                        relativeIndex: index\n                    }\n                    // `meta.name` is undefined when Table.headers.renderCell is defined,\n                    // this leads to nested Table with incorrect Input.name, which relies on correct `relativePath`.\n                    // The condition is met when:\n                    //    - meta.name === undefined\n                    //    - relativePath != null\n                    //    - relativeIndex != null\n                    //    - self.props.name !== relativePath.split('.').pop() // when Table is nested inside List\n                    // And requires Table.name to be appended to existing `relativePath`:\n                    //    `${relativePath}.${relativeIndex}.${Table.name}`\n                    // @solution: extract Table.name from class instance `self` because `meta` only has parent config.\n                    if (\n                      meta.name == null && relativePath != null && relativeIndex != null &&\n                      self && self.props && self.props.name !== relativePath.split('.').pop()\n                    ) {\n                        revPath.relativePath = relativePathFrom(self.props, relativePath, relativeIndex)\n                    } else {\n                        revPath.relativePath = relativePathFrom(meta, relativePath, relativeIndex)\n                    }\n\n                    return Render({\n                        // Relative Path is required for nested Inputs\n                        ...revPath,\n                        ...props,\n                        // Recursively map definitions within Render function\n                        // Note: since definition is mutated on each transform,\n                        // we have to use original config for rendering lists\n                        ...metaToProps(cloneDeep(configs), {...config, ...revPath, data, _data}),\n                        // Transform key path with actual data\n                        ...name && {name: interpolateString(definition.name, {index, value})},\n                        ...definition.index && {index: interpolateString(definition.index, {index})},\n                        ...definition.useForm && {useForm: true},\n                        // Filter for row data from parent table (in default layout)\n                        ...filterItems && {filterItems, parentItem: value},\n                        // Inject functions by their name string\n                        ...removeNilValues(FUNCTION_NAMES.map(func => isString(definition[func]) && self &&\n                          !getFunctionFromString(definition[func], {...funcConfig, fallback: null}) &&\n                          {[func]: self[definition[func]]}\n                        )).reduce((obj, item) => ({...obj, ...item}), {}),\n                        ...definition.view.indexOf('Data') === 0 && {index},\n                        data, _data, form, instance,\n                    }, index)\n                }\n\n                // Render is a function definition\n                else if (definition.name) {\n                    const func = getFunctionFromObject(definition, {...funcConfig, data})\n                    // @ts-ignore\n                    return isFunction(func) ? func.apply(this, [value, index, {...props, ...definition, data, _data}])\n                      : func\n                }\n\n                // Render is conditional match by values definitions\n                else if (definition.values) {\n                    const valueDefinition = definition.values[value] || definition.default\n                    if (!valueDefinition) return value\n                    return (isObject(valueDefinition))\n                      ? (valueDefinition.view\n                          ? Render({...props, ...valueDefinition, data, _data}, index)\n                          : getFunctionFromObject(valueDefinition, {...funcConfig, data}) // @ts-ignore\n                            .apply(this, [value, index, {...props, ...valueDefinition, data, _data}])\n                      ) // @ts-ignore\n                      : Render.Method(valueDefinition).apply(this, [value, index, {...props, data, _data}])\n                }\n            }\n        }\n\n        // Process nested Object/List definitions\n        else if (isCollection(definition)) {\n            const attrCount = Object.keys(definition).length\n            if ( // this condition check must match exact case immediately, so that other cases get transformed\n              attribute !== 'showIf' && definition.name != null &&\n              (attrCount === 1 || (attrCount === 2 && definition.relativeData != null))\n            ) {\n                // Value Transform {name} - single key objects with name to their values\n                // fallback to `name` attribute for transformed values from `state` (i.e. Tab.index, Dropdown.value...)\n                // noinspection PointlessBooleanExpressionJS\n                meta[attribute] = isString(definition.name)\n                  ? get((definition.relativeData !== false && _data) || data, definition.name, definition.name)\n                  : definition.name\n                // Leave this to help users debug unresolved values\n                if (meta[attribute] === definition.name && isString(definition.name) && isNaN(+definition.name)) {\n                    // meta.view is equal to undefined in case of table headers (in some cases)\n                    // in other cases no need to display label name\n                    if (meta.view !== undefined) {\n                        meta[attribute] = \"\";\n                    }\n                    console.warn(`${meta.view}.${attribute}`, definition, '\\n❌ Not found! relative _data:', _data)\n                }\n            } else {\n                // Recursively process the rest of definitions\n                // Relative path must always be passed down, because nested Inputs inside List require absolute path for `name`\n                const options = {\n                    data, _data, instance,\n                    relativePath: relativePathFrom(meta, relativePath, relativeIndex), relativeIndex\n                }\n                // Resolve local `_data` for nested definitions\n                // noinspection PointlessBooleanExpressionJS\n                if (meta.relativeData !== false && meta.name != null) options._data = get(_data || data, meta.name, _data)\n                meta[attribute] = metaToProps(meta[attribute], {...config, ...options})\n            }\n        }\n    }\n\n    // Pass down relative path to nested views\n    if (meta.view) {\n        if (relativePath != null && meta.relativePath == null) meta.relativePath = relativePath\n        if (relativeIndex != null && meta.relativeIndex == null) meta.relativeIndex = relativeIndex\n    }\n\n    return meta\n}\n\n/**\n * Transform Function Definition strings to actual methods, if they exist, by mutation\n * @example:\n *    const definition = {onChange: 'functionName'}\n *    >>> {onChange: Function}\n *\n * @param {Object} definition - containing function names\n * @param {Object} config\n * @returns {void} definition - with names replaced by functions (by mutation)\n */\nfunction metaToFunctions(definition, config) {\n    const {\n        fieldValidation,\n        fieldNormalizer,\n        fieldParser,\n        fieldFunc,\n        funcNames = FUNCTION_NAMES\n    } = config\n    /* react-final-form does not support validate as array, like redux-form */\n    // const validations = toList(definition.validate)\n    // if (isString(validations[0])) definition.validate = removeNilValues(validations.map(id => FIELD.VALIDATION[id]))\n    if (isString(definition.format)) definition.format = fieldNormalizer[definition.format]\n    if (isString(definition.parse)) definition.parse = fieldParser[definition.parse] || fieldNormalizer[definition.parse]\n    if (isString(definition.normalize)) definition.normalize = fieldNormalizer[definition.normalize]\n    if (isString(definition.validate)) definition.validate = fieldValidation[definition.validate]\n    if (hasObjectValue(definition.verify)) {\n        // in the future, verify can have multiple validator functions, so compose them\n        const {validate, ...opt} = definition.verify\n        // final-form only passes input `value` to validate function\n        const validators = toList(validate).map(({name, ...args}) => (v) => fieldValidation[name](v, {...opt, ...args}))\n        if (definition.validate) validators.unshift(definition.validate)\n        definition.validate = composeValidators(...validators)\n        delete definition.verify\n    }\n    funcNames.forEach(name => {\n        if (isString(definition[name])) {\n            definition[name] = getFunctionFromString(definition[name], {fieldFunc})\n        } else if (isObject(definition[name])) {\n            definition[name] = getFunctionFromObject(definition[name], config)\n        }\n    })\n}\n\nconst composeValidators = (...validators) => (value) => validators.reduce((error, validator) => error || validator(value), undefined)\n\n/**\n * Get Function/s from Definition Object Recursively\n * @example:\n *    getFunctionFromObject({name: 'reset', args: [0], onDone: 'setState,active.plan'})\n *    >>> function (...argumentsSuppliedFromCaller) {\n *          return setState(reset(...argumentsSuppliedFromCaller, 0), 'active.plan')\n *        }\n *\n * @param {Object<name, args, onDone>} definition - of function to call\n *    - @param {String} name - of the function\n *    - @param {Array} [args] - last arguments to pass to the function\n *    - @param {String|Object} [onDone] - callback recursive function definitions\n * @param {Object} config\n * @returns {Function|String} method - that receives caller arguments as its first arguments,\n *    and will chain function calls `onDone` recursively\n */\nfunction getFunctionFromObject(definition, config) {\n    const {name, mapArgs, args = [], onDone} = definition\n    const {data, fieldFunc, fieldMethods, fallback = definition.name} = config\n    const func = fieldFunc[name] || fieldMethods[name]\n    if (onDone) metaToFunctions(definition, config)\n    if (func) {\n        const hasMapArgs = isList(mapArgs)\n        if (isFunction(definition.onDone)) {\n            return (...values) => {\n                if (hasMapArgs) {\n                    values = mapArgs.map((val) => mapFunctionArgs(val, {data, args: values}))\n                }\n                const result = func(...values, ...args)\n                if (result instanceof Promise) {\n                    return result.then(definition.onDone)\n                }\n                return definition.onDone(result)\n            }\n        } else {\n            return (...values) => {\n                if (hasMapArgs) {\n                    values = mapArgs.map((val) => mapFunctionArgs(val, {data, args: values}))\n                }\n                return func(...values, ...args)\n            }\n        }\n    }\n    // @ts-ignore\n    return func || Render.Method(name) || fallback\n}\n\n/**\n * Get Function from Definition String\n * @example:\n *    getFunctionFromString('reset,0', {fieldFunc: FIELD.FUNC})\n *    >>> function reset(...argumentsSuppliedFromCaller, '0') {...}\n *\n * @param {String} string - name of function to get, with optional arguments, separated by comma\n * @param {*} config\n * @returns {Function|String|*} method - that receives caller arguments as its first arguments,\n *    along with optionally defined arguments in the config string\n */\nfunction getFunctionFromString (string, {fieldFunc, fallback = string}) {\n    const [name, ...args] = string.split(',')\n    const func = fieldFunc[name]\n    return ((args.length && func) ? ((...arg) => func(...arg, ...args)) : func) || fallback\n}\n\n/**\n * Map function arguments definition to actual values\n * @param {*} template - for the argument to be transformed\n * @param {*} options\n * @returns {*} argument transformed with given options\n */\nfunction mapFunctionArgs (template, {data, args}) {\n    if (isString(template))\n        return interpolateString(interpolateString(template, args, {suppressError: true}), data, {suppressError: true})\n    if (isCollection(template)) {\n        for (const key in template) {\n            template[key] = mapFunctionArgs(template[key], {data, args})\n        }\n    }\n    return template\n}\n\n/**\n * Compute Relative Path for given config\n * @param {Object|*[]|*} meta - config of the parent node\n * @param {String} relativePath - inherited from parent node\n * @param {String|Number} relativeIndex - inherited from parent node\n * @returns {String} relativePath - calculated from root path for current config\n */\nfunction relativePathFrom (meta, relativePath, relativeIndex) {\n    let result = relativePath || meta.name\n    // If `meta.name` is relative, concatenate it with inherited `relativePath` for absolute relative path,\n    // to pass down to nested configs (ex. Expand inside Table.headers = [{id, renderCell: {...}}] )\n    if (meta.name != null && meta.relativeData !== false) {\n        result = relativePath != null ? `${relativePath}.${relativeIndex}.${meta.name}` : meta.name\n    }\n    return result\n}\n","import Render from './Render'\nimport { mapProps, metaToProps } from './transforms'\n\nexport {\n    Render,\n    mapProps,\n    metaToProps\n}\n\nexport default Render\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { get, hasListValue } from 'ui-utils-pack'\nimport Table from './Table'\n\n/**\n * Error Table Listing - Pure Component.\n *\n * @param {Array} items - error objects\n * @param {Boolean} isServerError - whether the error is server related or user related\n * @param {Boolean} inverted - whether to add `inverted` class\n * @param {*} props - other attributes to pass to `<Table>`\n * @returns {Object} - React table component\n */\nexport function ErrorTable ({\n  items,\n  isServerError,\n  inverted,\n  ...props\n}) {\n  const hasId = !!get(items, '[0].id')\n  const hasStatus = !!get(items, '[0].status') || !!get(items, '[0].statusCode') || !!get(items, '[0].code')\n  const hasTitle = !!get(items, '[0].title') || !!get(items, '[0].error')\n  return (\n    <Table inverted={inverted} striped {...props}>\n      <Table.Header className='font-normal'>\n        <Table.Row>\n          {hasId && <Table.HeaderCell>Error ID</Table.HeaderCell>}\n          {hasStatus && <Table.HeaderCell>Status</Table.HeaderCell>}\n          {hasTitle && <Table.HeaderCell>{isServerError ? 'Title' : 'Reason'}</Table.HeaderCell>}\n          <Table.HeaderCell>Message</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        {hasListValue(items) &&\n        items.map(({id, status, statusCode, code, title, error, content, detail, message, msg, ...data}, index) => (\n          <Table.Row key={id || index}>\n            {hasId && <Table.Cell scope='row' className='font-smaller'>{id}</Table.Cell>}\n            {hasStatus && <Table.Cell>{status || statusCode || code}</Table.Cell>}\n            {hasTitle && <Table.Cell>{title || error}</Table.Cell>}\n            <Table.Cell style={{wordBreak: 'break-word'}}>\n              {content || detail || message || msg || get(data, 'details[0].message', String(items[index]))}\n            </Table.Cell>\n          </Table.Row>\n        ))}\n      </Table.Body>\n    </Table>\n  )\n}\n\nErrorTable.propTypes = {\n  isServerError: PropTypes.bool,\n  items: PropTypes.arrayOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.shape({\n      id: PropTypes.any,\n      status: PropTypes.number,\n      title: PropTypes.string,\n      detail: PropTypes.string,\n      message: PropTypes.string\n    })\n  ])).isRequired\n}\n\nexport default React.memo(ErrorTable)\n","import PropTypes from 'prop-types'\nimport React, { Fragment } from 'react'\nimport { hasListValue } from 'ui-utils-pack'\nimport ErrorTable from './ErrorTable'\nimport View from './View'\n\n/**\n * Error Alert Message Content - Pure Component.\n *\n * @param {Array} items - error objects\n * @param {*} props - other attributes to pass to `<Table>`\n * @returns {Object} - React table component\n */\nexport function ErrorContent ({\n  items,\n  ...props\n}) {\n  // Filter out User vs Server Errors\n  const serverErrors = items.filter(({status, statusCode, code}) => (((status || statusCode || code) >= 500) || ((status || statusCode || code) == null)))\n  const userErrors = items.filter(({status, statusCode, code}) => ((status || statusCode || code) < 500))\n  return (\n    <Fragment>\n      {hasListValue(serverErrors) &&\n      <View className='border radius'>\n        <ErrorTable className='margin' isServerError items={serverErrors} {...props} />\n      </View>\n      }\n      {hasListValue(userErrors) &&\n      <View className={'border radius' + (hasListValue(serverErrors) ? ' margin-top' : '')}>\n        <ErrorTable className='margin' items={userErrors} {...props} />\n      </View>\n      }\n    </Fragment>\n  )\n}\n\nErrorContent.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.shape({\n      id: PropTypes.any,\n      status: PropTypes.number,\n      title: PropTypes.string,\n      detail: PropTypes.string,\n      message: PropTypes.string\n    })\n  ])).isRequired\n}\n\nexport default React.memo(ErrorContent)\n","import classNames from 'classnames'\nimport React, { Fragment, PureComponent } from 'react'\nimport { type } from 'ui-react-pack'\nimport Button from 'ui-react-pack/Button'\nimport ErrorContent from 'ui-react-pack/ErrorContent'\nimport Row from 'ui-react-pack/Row'\nimport Text from 'ui-react-pack/Text'\nimport View from 'ui-react-pack/View'\nimport { CLOSE, hasListValue, isInList, l, localiseTranslation } from 'ui-utils-pack'\nimport { _ } from 'ui-utils-pack/translations'\nimport { connect } from '../../redux'\nimport { stateAction } from '../../redux/actions'\nimport { POPUP, POPUP_ALERT, POPUP_CONFIRM, POPUP_ERROR } from '../constants'\nimport select from '../selectors'\n\nlocaliseTranslation({\n  CANCEL: {\n    [l.ENGLISH]: 'Cancel',\n  },\n  CONFIRM: {\n    [l.ENGLISH]: 'Confirm',\n  },\n  CONFIRM_ACTION: {\n    [l.ENGLISH]: 'Confirm Action',\n    // [l.RUSSIAN]: 'Подтвердите Действие',\n  },\n  ERROR_excMark: {\n    [l.ENGLISH]: 'Error!',\n    // [l.RUSSIAN]: 'Ошибка!',\n  },\n})\n/**\n * MAP STATE & ACTIONS TO PROPS ------------------------------------------------\n * -----------------------------------------------------------------------------\n */\nconst mapStateToProps = (state) => ({\n  activePopups: state ? select.activePopups(state) : [],\n  alert: state && select.alert(state),\n  confirm: state && select.confirm(state),\n  error: state && select.error(state),\n  ui: state && select.ui(state),\n})\nconst mapDispatchToProps = (dispatch) => ({\n  actions: {\n    close: (activePopup) => dispatch(stateAction(POPUP, CLOSE, {activePopup}))\n  }\n})\n\n/**\n * VIEW TEMPLATE ---------------------------------------------------------------\n * -----------------------------------------------------------------------------\n */\n@connect(mapStateToProps, mapDispatchToProps)\nexport default class Popup extends PureComponent {\n  static propTypes = {\n    actions: type.Object,\n    // Whether Popup can be closed by clicking outside around greyed out background area\n    canClose: type.Boolean,\n    // Callback(this) class instance when close action is fired\n    onClose: type.Method,\n    // Callback(this) class instance for rendering close Button, for example\n    renderClose: type.Method,\n  }\n\n  closeAlert = () => this.props.actions.close(POPUP_ALERT) || this.onClose()\n  closeConfirm = () => this.props.actions.close(POPUP_CONFIRM) || this.onClose()\n  closeError = () => this.props.actions.close(POPUP_ERROR) || this.onClose()\n  closePopup = () => {\n    if (this.hasAlert) return this.closeAlert()\n    if (this.hasConfirm) return this.closeConfirm()\n    if (this.hasError) return this.closeError()\n  }\n  onClose = () => {\n    const {onClose} = this.props\n    if (onClose) onClose(this)\n  }\n\n  render () {\n    const {\n      activePopups,\n      alert,\n      error,\n      confirm,\n      actions,\n      ui: {className} = {},\n      canClose,\n      onClose,\n      renderClose,\n      ...props\n    } = this.props\n    const activeClass = hasListValue(activePopups) ? ' active' : ''\n    this.hasAlert = isInList(activePopups, POPUP_ALERT)\n    this.hasConfirm = isInList(activePopups, POPUP_CONFIRM)\n    this.hasError = isInList(activePopups, POPUP_ERROR)\n    return (\n      <View className={'app__popup' + activeClass}>\n        <View\n          className=\"app__popup__backdrop no-outline\"\n          onClick={canClose ? this.closePopup : void 0}\n        />\n        <View className={classNames('app__popup__box zoomin', className)}>\n          <View className=\"app__popup__box__content\">\n            {renderClose && renderClose(this)}\n            {this.hasAlert && alert.items.map(({id, title, content, closeLabel}, index) => (\n              <Fragment key={id || index}>\n                <View className=\"app__popup__box__header\">\n                  <Text className=\"app__popup__box__header__title\">{title}</Text>\n                </View>\n                <View className=\"app__popup__box__body\">\n                  {typeof content === 'string' ? <Text className=\"p center\">{content}</Text> : content}\n                </View>\n                {!renderClose &&\n                <View className=\"app__popup__box__footer center\">\n                  <Button onClick={this.closeAlert} className=\"primary\">{closeLabel || _.OK}</Button>\n                </View>}\n              </Fragment>\n            ))}\n            {this.hasConfirm && confirm.items.map(({\n              id,\n              title,\n              content,\n              cancelLabel,\n              confirmLabel,\n              confirmClass = 'basic primary',\n              action\n            }, index) => (\n              <Fragment key={id || index}>\n                <View className=\"app__popup__box__header\">\n                  <Text className=\"app__popup__box__header__title\">{title || _.CONFIRM_ACTION}</Text>\n                </View>\n                <View className=\"app__popup__box__body\">\n                  {typeof content === 'string' ? <Text className=\"p center\">{content}</Text> : content}\n                </View>\n                <Row className=\"app__popup__box__footer center\">\n                  <Button onClick={this.closeConfirm}\n                          className=\"basic grey margin-smaller\">{cancelLabel || _.CANCEL}</Button>\n                  <Button onClick={() => {\n                    this.closeConfirm()\n                    action(id)\n                  }} className={'margin-smaller ' + confirmClass}>{confirmLabel || _.CONFIRM}</Button>\n                </Row>\n              </Fragment>\n              ))}\n            {this.hasError &&\n            <Fragment>\n              <View className=\"app__popup__box__header\">\n                <Text className=\"app__popup__box__header__title\">{error.title || _.ERROR_excMark}</Text>\n              </View>\n              <View className=\"app__popup__box__body\">\n                <ErrorContent items={error.items} {...props}/>\n              </View>\n              <View className=\"app__popup__box__footer center\">\n                <Button onClick={this.closeError} className=\"primary\">{_.OK}</Button>\n              </View>\n            </Fragment>}\n          </View>\n        </View>\n      </View>\n    )\n  }\n}\n","import classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport { Active } from 'ui-utils-pack'\nimport { accessibilitySupport } from './utils'\n\n/**\n * Icon - Pure Component\n *\n * @param {String} name - icon class name\n * @param {String} [className] - optional, will be appended with 'pointer' class when `onClick` given\n * @param {Function} [onClick] - callback to fire on click or Enter press (if `onKeyPress` not given)\n * @param {Object} [sound] - new Audio(URL) sound file\n * @param {*} props - other attributes to pass to Icon\n * @returns {Object} - React Component\n */\nexport function Icon ({\n  name,\n  className,\n  large,\n  small,\n  sound,\n  ...props\n}) {\n  props = accessibilitySupport(props, sound)\n  return (\n    <i className={classNames(Active.iconClass, Active.iconClassPrefix + name, className, {\n      large,\n      small,\n      pointer: props.onClick\n    })}\n       aria-hidden='true' {...props} />\n  )\n}\n\nIcon.propTypes = {\n  name: PropTypes.string.isRequired,\n  sound: PropTypes.object,\n  large: PropTypes.bool,\n  small: PropTypes.bool,\n  className: PropTypes.string,\n}\n\nexport default React.memo(Icon)\n","import { connect, Provider } from 'react-redux' // import like this produces smallest js bundle size\nimport mergeReducers from 'reduce-reducers'\nimport { combineReducers } from 'redux'\nimport { createAction, handleActions } from 'redux-actions' // import like this produces smallest js bundle size\nimport thunk from 'redux-thunk' // Middleware for async tasks\n\n/**\n * EXPORTS =====================================================================\n * Modules' Exposing API - to enable consistent and maintainable app integration\n * =============================================================================\n */\n\nexport * from './actions'\nexport * from './reducers'\nexport { default as createStore } from './createStore'\nexport {\n  combineReducers,\n  connect,\n  createAction,\n  handleActions,\n  mergeReducers,\n  Provider\n}\n\nconst redux = {\n  middleware: thunk,\n  Provider\n}\n\nexport default redux\n","/**\n * CONSTANT VARIABLES ==========================================================\n * =============================================================================\n */\n\nexport const POPUP = 'POPUP'\nexport const POPUP_ALERT = `${POPUP}_ALERT`\nexport const POPUP_CONFIRM = `${POPUP}_CONFIRM`\nexport const POPUP_ERROR = `${POPUP}_ERROR`\n","import { createAction } from 'redux-actions'\nimport { delay, race, take } from 'redux-saga/effects'\nimport {\n  ALL_ACTIONS,\n  ALL_RESULTS,\n  CANCEL,\n  ERROR,\n  isInCollection,\n  isInList,\n  isInListAny,\n  RECEIVED,\n  RESULT_SEPARATOR,\n  SEPARATOR,\n  SUCCESS,\n  TIMEOUT,\n  VOID\n} from 'ui-utils-pack'\nimport { STATE_ACTION_TIMEOUT } from '../variables/configs'\n\n/**\n * ACTION CREATORS =============================================================\n * =============================================================================\n */\n\n/**\n * State Action Creator.\n *\n * @example\n *   Valid usage options:\n *   >>> stateAction('SOMETHING', 'GET', 'FINISH', { foo: 'bar' }, { type: 1 })\n *   >>> stateAction('SOMETHING', 'GET', { foo: 'bar' }, { type: 1 })\n *   >>> stateAction('SOMETHING', 'FINISH', { foo: 'bar' }, { type: 1 })\n *   >>> stateAction('SOMETHING', { foo: 'bar' }, { type: 1 })\n *   >>> stateAction('SOMETHING', { foo: 'bar' })\n *   >>> stateAction('SOMETHING')\n *\n * @param {String} TYPE - action type to dispatch\n * @param {String|Null|Object} [ACTION] - optional, one of ALL_ACTIONS, if not provided, second argument can be @payload\n * @param {String|Null|Object} [RESULT] - optional, one of ALL_RESULTS, if not provided, third argument can be @payload\n * @param {Object|Null} [payload] - optional, action.payload\n * @param {Object} [meta] - optional meta data, action.meta\n * @return {Object} Flux Standard Action\n */\nexport function stateAction (TYPE, ACTION, RESULT, payload = {}, meta = {}) {\n  const hasAction = isInList(ALL_ACTIONS, ACTION)\n  const hasResult = isInListAny(ALL_RESULTS, ACTION, RESULT)\n\n  // Case 1: All arguments provided\n  let finalACTION = ACTION\n  let finalRESULT = RESULT\n  let finalPayload = payload\n  let finalMeta = meta\n\n  // Case 2: ACTION provided, but RESULT not provided\n  // make 3nd argument payload and 4rd argument meta\n  if (hasAction && !hasResult) {\n    finalRESULT = null\n    finalPayload = RESULT\n    finalMeta = payload\n  }\n\n  // Case 3: ACTION not provided, but RESULT provided\n  // make 3rd argument payload and 4rd argument meta\n  if (!hasAction && hasResult) {\n    finalACTION = null\n    finalRESULT = ACTION\n    finalPayload = RESULT\n    finalMeta = payload\n  }\n\n  // Case 4: ACTION and RESULT not provided\n  // make 2nd argument payload and 3rd argument meta\n  if (!hasAction && !hasResult) {\n    finalACTION = null\n    finalRESULT = null\n    finalPayload = ACTION\n    finalMeta = RESULT\n  }\n\n  return createAction(stateActionType(TYPE, finalACTION, finalRESULT), null, () => (finalMeta || {}))(finalPayload)\n}\n\n/**\n * ACTION TYPE CREATORS --------------------------------------------------------\n * -----------------------------------------------------------------------------\n */\n\n/**\n * State Action Type Creator.\n *\n * @example\n *   stateActionType(FUN, GET, START);\n *   >>> String: 'FUN -> GET_START'\n *\n * @param {string} NAME - action type identifier\n * @param {string|null} ACTION - optional, action type name suffix, if not provided, 2nd argument can be @RESULT\n * @param {string|null} RESULT - optional, action type name result suffix\n * @return {string} action type\n */\nexport function stateActionType (NAME, ACTION = null, RESULT = null) {\n  return NAME +\n    (ACTION ? SEPARATOR + ACTION : '') +\n    ((!ACTION && RESULT) ? SEPARATOR + RESULT : '') +\n    ((ACTION && RESULT) ? RESULT_SEPARATOR + RESULT : '')\n}\n\n/**\n * Multiple State Action Types Creator\n *\n * @param {Array} NAMES - list of action type identifiers\n * @param {string|null} ACTION - optional, action type name suffix, if not provided, 2nd argument can be @RESULT\n * @param {string|null} RESULT - optional, action type name result suffix\n * @return {Array} - list of action types\n */\nexport function stateActionNamesType (NAMES, ACTION = null, RESULT = null) {\n  return NAMES.reduce((list, NAME) => list.concat(stateActionType(NAME, ACTION, RESULT)), [])\n}\n\n/**\n * ACTION HELPERS --------------------------------------------------------------\n * -----------------------------------------------------------------------------\n */\n\n/**\n * Subscribe to All State Action results\n *\n * @example\n *    const {payload = {}, meta = {}} = yield call(subscribeToResults, GOD, GET, meta, contractActionType)\n *    if (meta.result === SUCCESS) return payload\n *\n * @param {string} NAME - action type identifier\n * @param {string} ACTION - state action method type\n * @param {object} [meta] - meta data to match (with include comparison)\n * @param {function} [actionType] - action type creator, default is stateActionType()\n * @param {boolean} [hasTimeout] - whether to timeout automatically\n * @return {object} - action with payload and meta data (payload may not exist on TIMEOUT/VOID results)\n */\nexport function * subscribeToResults (NAME, ACTION, meta = null, actionType = stateActionType, hasTimeout = true) {\n  /* Match specific action with given meta data */\n  if (meta) {\n    const listener = race({\n      received: take(action => isMatchingActionType(action, NAME, ACTION, null, meta, actionType)),\n      success: take(action => isMatchingActionType(action, NAME, ACTION, SUCCESS, meta, actionType)),\n      error: take(action => isMatchingActionType(action, NAME, ACTION, ERROR, meta, actionType)),\n      cancel: take(action => isMatchingActionType(action, NAME, ACTION, CANCEL, meta, actionType)),\n      timeout: take(action => isMatchingActionType(action, NAME, ACTION, TIMEOUT, meta, actionType)),\n      ...hasTimeout && {void: delay(STATE_ACTION_TIMEOUT + 100)}  // in case State action was not called\n    })\n    let {received, success, error, cancel, timeout} = yield listener\n\n    if (received) {\n      received.meta.result = RECEIVED\n      return received\n    }\n\n    if (success) {\n      success.meta.result = SUCCESS\n      return success\n    }\n\n    if (error) {\n      error.meta.result = ERROR\n      return error\n    }\n\n    if (cancel) {\n      cancel.meta.result = CANCEL\n      return cancel\n    }\n\n    if (timeout) {\n      timeout.meta.result = TIMEOUT\n      return timeout\n    }\n\n    return {meta: {result: VOID}}\n  }\n}\n\n/**\n * Check if Action is a Matching State Action Type with given Result and Meta data\n * (for subscribing to the exact stateAction).\n *\n * @param {object} action - Flux Standard Action to check against\n * @param {string} NAME - action type identifier\n * @param {string} ACTION - state action method type\n * @param {string} RESULT - state action response type\n * @param {Object} meta - meta data to match (with include comparison)\n * @param {Function} actionType - action type creator, default is stateActionType()\n * @return {bool} - true if it's a matching State Action\n */\nexport function isMatchingActionType (action, NAME, ACTION, RESULT, meta, actionType) {\n  return action.type === actionType(NAME, ACTION, RESULT) && isInCollection([action.meta], meta)\n}\n\nexport const errorPattern = new RegExp(`(?:[^a-zA-Z0-9])(${ERROR})$`)\n\nexport function isError (action) {\n  return errorPattern.test(action.type)\n}\n\n/* Extract ACTION constant from Action Type */\nexport function actionFromType (type) {\n  return type.split(RESULT_SEPARATOR)[0].split(SEPARATOR).pop()\n}\n","import { isRequired } from 'ui-react-pack/inputs/validationRules'\nimport { definitionSetup, get, hasListValue, LANGUAGE_LEVEL, toList } from 'ui-utils-pack'\nimport { TYPE } from './definitions'\n\n/**\n * FIELD DEFINITIONS ===========================================================\n * @usage:\n *    FIELD.FOR = {\n *      CONTACT: [\n *        {id: FIELD.ID.EMAIL, required: true},\n *        {id: FIELD.ID.PHONE},\n *      ]\n *    }\n *\n *    @withForm()\n *    export default class ContactForm extends PureComponent {\n *      render () {\n *        return this.renderInput(FIELD.FOR.CONTACT)\n *      }\n *    }\n * =============================================================================\n */\nexport const FIELD = definitionSetup('TYPE', 'RENDER', 'ACTION', 'ID', 'DEF', 'MIN_MAX', 'FOR')\n\n// Field Type Definitions\nFIELD.TYPE = {\n  BUTTON: 'Button',\n  EXPAND: 'Expand', // Expandable/collapsing content with clickable `title` or `renderLabel` area\n  EXPAND_LIST: 'ExpandList', // list of Expand components with dynamic `renderLabel` and `renderItem` attributes\n  CHECKBOX: 'Checkbox', // checkbox with optional label\n  COL: 'Col', // Vertical column layout\n  COL2: 'Column', // alias for Column\n  COL3: 'VerticalLayout', // alias for Column\n  COL_LIST: 'ColList', // alias for List\n  COL_LIST3: 'VerticalList', // alias for List\n  COUNTER: 'Counter', // Animated number changing from `start` to `end` values\n  DROPDOWN: 'Dropdown', // Semantic UI Dropdown\n  LABEL: 'Label',\n  LIST: 'List', // list of Col components with dynamic `renderItem` attributes\n  PIE_CHART: 'PieChart', // Pie chat (can be in shape of donut) with optional legends\n  PROGRESS_STEPS: 'ProgressSteps', // Progress Steps, with content like Tabs\n  ROW: 'Row', // Horizontal row layout\n  ROW2: 'HorizontalLayout', // alias for Row\n  ROW_LIST: 'RowList', // alias for List with Row layout\n  ROW_LIST2: 'HorizontalList', // alias for List with Row layout\n  SPACE: 'Space', // for adding space between items\n  TABLE: 'Table',\n  TABS: 'Tabs',\n  TAB_LIST: 'TabList',\n  TEXT: 'Text',\n  TITLE: 'Title', // A customised `Text` view with certain styling for consistent look and feel\n  TOOLTIP: 'Tooltip', // A hint components that pops up when element is being hovered\n  // ...to be populated by modules\n}\n\n// Value Renderer Definitions\nFIELD.RENDER = {\n  CURRENCY: 'Currency',\n  PERCENT: 'Percent',\n  DOUBLE5: 'Double5',\n  FLOAT: 'Float',\n  TITLE_n_INPUT: 'Title+Input',\n  STRING: 'String',\n  DATE: 'Date'\n}\n\n// Action Type Definitions\nFIELD.ACTION = {\n  RESET: 'reset',\n  SET_STATE: 'setState',\n  FETCH: 'fetch',\n  POPUP: 'popup',\n  WARN: 'warn',\n}\n\n// Action Methods by Action Type Definitions\nFIELD.FUNC = {\n  [FIELD.ACTION.WARN]: console.warn,\n}\n\n// Field IDs for uniquely identifying field definitions\nFIELD.ID = {\n  // Common Inputs\n  ID: 'id', // use lower case value so it can be used as input.name by default\n  ID_HIDDEN: 'id_hidden', // input `name` should be set to `id`, defining with underscore to avoid potential conflict\n  NAME: 'name',\n  EMAIL: 'email',\n  ABOUT: 'about',\n  ADDRESS: 'address',\n  LANGUAGE: 'language',\n  PHONE: 'phone',\n  WEBSITE: 'website',\n\n  // ...to be populated by modules\n}\n\n// Field Min/Max Value Definitions by ID (used for extending base definitions from FIELD.DEF)\nFIELD.MIN_MAX = {\n  // Common\n  [FIELD.ID.LANGUAGE]: [LANGUAGE_LEVEL.BASIC._, LANGUAGE_LEVEL.NATIVE._],\n  // ...to be populated by modules\n}\n\n// Field Definitions by ID\nFIELD.DEF = {\n  // ...to be populated by modules (see form/constants for reference)\n}\n\n// List of Field IDs with optional base definition overrides\nFIELD.FOR = {\n  // ...to be populated by modules\n}\n\n/**\n * Construct Field Definitions based on given list of fields, returning new Objects\n *\n * @example:\n *    <form onSubmit={handleSubmit(this.submit)} className='max-width-360 margin-h'>\n *      {fieldsFrom(FIELD.FOR.USER).map(renderField)}\n *    </form>\n *\n * @param {Array<Object>} fields - list of fields to create, requires FIELD.ID, used for extending base definition\n * @param {Object} [initialValues] - for redux-form\n * @returns {Array<Object>} list - of field definitions ready for rendering\n */\nexport function fieldsFrom (fields, {initialValues: initValues = {}} = {}) {\n  // Collect definitions\n  return fields.map(({id, ...field}) => ({id, ...FIELD.DEF[id], ...field}))\n    // Process prefixes\n    .map(({name = '', namePrefix = '', options, items, float, required, disabled, readonly, validate, ...field}) => {\n      name = `${namePrefix}${name}`\n      const initialValues = name ? get(initValues, name) : initValues\n      const validations = []\n      if (required) validations.push(isRequired)\n      if (validate) validations.push(...toList(validate, 'clean'))\n      return {\n        float,\n        ...field,\n        ...initialValues && {initialValues},\n        ...name && {name},\n        ...disabled != null && {disabled},\n        ...readonly != null && {readonly},\n        ...required != null && {required}, // required may be false for nested field inside required group\n        ...validations.length && {validate: validateMultiple(validations)},\n        ...options && {options: options.items || options}, // options need to fallback in case lang already set\n        ...items && { // nested fields in group\n          items: fieldsFrom(items.map(i => ({\n            ...required && {required},\n            ...disabled && {disabled},\n            ...readonly && {readonly},\n            ...i,\n          })), {initialValues})\n        },\n      }\n    })\n}\n\n/* Convert multiple validation functions into a single function */\nfunction validateMultiple (validations) {\n  return function (...args) {\n    for (const validate of validations) {\n      const error = validate(...args)\n      if (error) return error\n    }\n  }\n}\n\n/**\n * Get Object of Required Fields mapping by key path to type, based on definition from FIELD.FOR.LIST\n * @example:\n *    requiredFieldsFrom(FIELD.FOR.USER)\n *    >>> {'name': String, 'phones.work': Number}\n *\n * @param {Array|Object} fields - FIELD.FOR.LIST\n * @returns {Object} required fields - key/value pairs of key path -> value type\n */\nexport function requiredFieldsFrom (fields) {\n  let result = {}\n\n  fieldsFrom(fields).forEach(field => {\n      const {name} = field\n\n      if (hasListValue(field.items)) {\n        result = {...result, ...requiredFieldsFrom(field.items)}\n      } else if (name && field.required) {\n\n        if (field.type === 'number') {\n          return result[name] = Number\n\n        } else if (field.defaultValue != null) {\n          return result[name] = field.defaultValue.constructor\n\n        } else if (field.view === FIELD.TYPE.MULTIPLE) {\n          if (hasListValue(field.options)) {\n            // Field might be marked required for all, but only one is actually required\n            // field.options.forEach(option => {\n            //   const nestedName = get(option, 'value', '')\n            //   result[`${name}.${nestedName}`] = nestedName.constructor\n            // })\n            // Returning top level object is good enough logic for use with isRequired()\n            // since the object must be non-empty to pass validation\n            return result[name] = Object\n          }\n\n        } else if (hasListValue(field.options)) {\n          return result[name] = get(field.options[0], 'value', '').constructor\n\n        } else if (field.view === FIELD.TYPE.TOGGLE) {\n          return result[name] = Boolean\n\n        } else if (field.view === FIELD.TYPE.UPLOAD_GRID) {\n          return result[name] = Array\n\n        } else if (field.view === FIELD.TYPE.UPLOAD) {\n          return result[name] = Object\n        }\n\n        return result[name] = String\n      }\n    }\n  )\n\n  return result\n}\n","/**\n * EXPORTS =====================================================================\n * Modules' Exposing API - to enable consistent and maintainable app integration\n * =============================================================================\n */\n\nexport { default as cn } from 'classnames'\nexport { default as PropTypes } from 'prop-types'\nexport * from './files'\nexport * from './styles'\nexport * from './renders'\nexport * from './types'\nexport * from './utils'\n"],"sourceRoot":""}